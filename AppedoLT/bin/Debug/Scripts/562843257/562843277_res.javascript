var AdfCopyright="Copyright (c) 2008, 2009, Oracle and/or its affiliates. All rights reserved.",AdfBootstrap={};Date.prototype.equals=function(a){var b=!1;a.getUTCDate&&(b=this.valueOf()==a.valueOf());return b};AdfBootstrap._startTime=(new Date).getTime();
AdfStrings={};AdfStrings.COMMA=",";AdfStrings.START_CURLY_BRACKET="{";AdfStrings.CLOSE_CURLY_BRACKET="}";AdfStrings.EQUALS="=";AdfStrings.count=function(a,b){AdfAssert.assertString(a);AdfAssert.assertNonEmptyString(b);for(var c=0,d=0,f=a.length,g=b.length;d<f;)if(d=a.indexOf(b,d),d==-1)break;else c++,d+=g;return c};AdfStrings.initUpperCase=function(a){if(!a)return a;var b=a.charAt(0),c=b.toUpperCase();return b==c?a:c+a.substr(1)};
AdfStrings.createConstantName=function(a){a=a.replace(AdfStrings._CONSTANT_REGEXP,AdfStrings._REPLACE_PATTERN);return a=a.toUpperCase()};AdfStrings._CONSTANT_REGEXP=/([A-Z])/g;AdfStrings._REPLACE_PATTERN="_$1";
AdfAssert.FUNC_NAME_PROPERTY="_funcName";AdfAssert.CLASS_NAME_PROPERTY="_className";AdfAssert._MAX_STACK_DEPTH_LIMIT=20;AdfAssert.assert=function(a,b){if(AdfAssert.DEBUG&&!a){if(arguments.length>2){b+="(";for(var c=2;c<arguments.length;c++)b+=arguments[c];b+=")"}AdfAssert.assertionFailed(b,1)}};AdfAssert.failedInAbstractFunction=function(){AdfAssert.DEBUG&&AdfAssert.assertionFailed("Abstract function called",1)};
AdfAssert.assertPrototype=function(a,b,c){if(AdfAssert.DEBUG)if(a!=null){AdfAssert.assertType(b,"function",null,1,!1);var d=b.prototype;d.isPrototypeOf(a)||AdfAssert.assertionFailed("object '"+a+"' doesn't match prototype "+d,1,c)}else AdfAssert.assertionFailed("null object doesn't match prototype "+d,1,c)};
AdfAssert.assertPrototypeOrNull=function(a,b,c){if(AdfAssert.DEBUG&&a!=null)if(a!=null){AdfAssert.assertType(b,"function",null,1,!1);var d=b.prototype;d.isPrototypeOf(a)||AdfAssert.assertionFailed("object '"+a+"' doesn't match prototype "+d,1,c)}else AdfAssert.assertionFailed("null object doesn't match prototype "+d,1,c)};
AdfAssert.assertPrototypes=function(a,b,c,d){if(AdfAssert.DEBUG)b=b.prototype,c=c.prototype,!b.isPrototypeOf(a)&&!c.isPrototypeOf(a)&&AdfAssert.assertionFailed("object '"+a+"' doesn't match prototype "+b+" or "+c,1,d)};AdfAssert.assertDomNodeOrNull=function(a,b){AdfAssert.DEBUG&&a&&a.nodeType==void 0&&AdfAssert.assertionFailed(a+" is not a DOM Node",b+1)};AdfAssert.assertDomNode=function(a,b){AdfAssert.DEBUG&&(!a||a.nodeType==void 0)&&AdfAssert.assertionFailed(a+" is not a DOM Node",b+1)};
AdfAssert.assertDomElement=function(a,b){AdfAssert.DEBUG&&(AdfAssert.assertDomNode(a,1),a.nodeType!=1?AdfAssert.assertionFailed(a+" is not a DOM Element",1):b&&a.nodeName!=b&&AdfAssert.assertionFailed(a+" is not a "+b+" Element",1))};AdfAssert.assertDomElementOrNull=function(a,b){AdfAssert.DEBUG&&a!=null&&(AdfAssert.assertDomNode(a,1),a.nodeType!=1?AdfAssert.assertionFailed(a+" is not a DOM Element",1):b&&a.nodeName!=b&&AdfAssert.assertionFailed(a+" is not a "+b+" Element",1))};
AdfAssert.assertType=function(a,b,c,d,f){if(AdfAssert.DEBUG&&!(a==null&&f||typeof a==b))a=a+" is not of type "+b,c&&(a=c+a),d||(d=0),AdfAssert.assertionFailed(a,d+1)};AdfAssert.assertObject=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"object",b,1,!1)};AdfAssert.assertObjectOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"object",b,1,!0)};AdfAssert.assertNonEmptyString=function(a,b){AdfAssert.DEBUG&&(AdfAssert.assertType(a,"string",b,1,!1),AdfAssert.assert(a.length>0,"empty string"))};
AdfAssert.assertString=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"string",b,1,!1)};AdfAssert.assertStringOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"string",b,1,!0)};AdfAssert.assertFunction=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"function",b,1,!1)};AdfAssert.assertFunctionOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"function",b,1,!0)};AdfAssert.assertBoolean=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"boolean",b,1,!1)};
AdfAssert.assertNumber=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"number",b,1,!1)};AdfAssert.assertNumberOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"number",b,1,!0)};AdfAssert.assertArray=function(a,b){AdfAssert.DEBUG&&!AdfCollections.isArray(a)&&(b==void 0&&(b=a+" is not an array"),AdfAssert.assertionFailed(b,1))};
AdfAssert.assertArrayOrNull=function(a,b){AdfAssert.DEBUG&&a!=null&&!AdfCollections.isArray(a)&&(b==void 0&&(b=a+" is not an array"),AdfAssert.assertionFailed(b,1))};AdfAssert.assertNonNumeric=function(a,b){AdfAssert.DEBUG&&!isNaN(a)&&(b==void 0&&(b=a+" is convertible to a number"),AdfAssert.assertionFailed(b,1))};AdfAssert.assertNumeric=function(a,b){AdfAssert.DEBUG&&isNaN(a)&&(b==void 0&&(b=a+" is not convertible to a number"),AdfAssert.assertionFailed(b,1))};
AdfAssert.assertInSet=function(a,b,c){if(a==null||b[a.toString()]==void 0){if(c==void 0){var c=" is not in set: {",d;for(d in b)c+=d,c+=",";c+="}";c=a+c}AdfAssert.assertionFailed(c,1)}};AdfAssert.assertionFailed=function(a,b,c){b||(b=0);var d="Assertion";c&&(d+=" ("+c+")");d+=" failed: ";a!=void 0&&(d+=a);a=AdfAssert._getStackTrace(b+1);a=AdfAssert._getStackString(a);d+="\nStackTrace:\n"+a;a=Error(d);alert(d);throw a;};
AdfAssert.getFunctionName=function(a){var b=a[AdfAssert.FUNC_NAME_PROPERTY];if(b==void 0){var b=a.toString(),c=b.indexOf("("),d=b.lastIndexOf(" ",c),b=b.substring(d+1,c);b.length||(b=null);a[AdfAssert.FUNC_NAME_PROPERTY]=b}return b};AdfAssert.getStackString=function(){return AdfAssert._getStackString(AdfAssert._getStackTrace(1))};
AdfAssert._getStackTrace=function(a){a==void 0&&(a=0);AdfAssert.assert(a>=0);var b=[];try{for(var c=AdfAssert._getStackTrace.caller;c&&b.length<AdfAssert._MAX_STACK_DEPTH_LIMIT;)a?a--:b.push(c),c=c.caller}catch(d){}return b};AdfAssert._getFuncParams=function(a){var b=a[AdfAssert._PARAMS_NAME_PROPERTY];if(b==void 0){var b=a.toString(),c=b.indexOf("("),d=b.indexOf(")",c+1),b=b.substring(c,d+1),b=b.replace(/\s+/g,"");b.length||(b=null);a[AdfAssert._PARAMS_NAME_PROPERTY]=b}return b};
AdfAssert._getStackString=function(a){if(!a)return"";for(var b=a.length,c=Array(b),d=0;d<b;d++){var f=a[d],g=AdfAssert.getFunctionName(f);g||(g="anonymous");var h=f[AdfAssert.CLASS_NAME_PROPERTY];h&&(g=h+"."+g);var h=AdfAssert._getFuncParams(f),j=f.arguments,k=j.length,f=null;if(k)for(var f=Array(k),l=0;l<k;l++){var m=j[l];if(typeof m=="function"){var n=AdfAssert.getFunctionName(m);n||(n="anonymous");m=AdfAssert._getFuncParams(m);m="function "+n+m}f[l]=m}j=[];j[0]=g;j[1]=h;f&&(j[2]="\n",j[3]="[",
j[4]=AdfAssert._safeJoin(f,","),j[5]="]");c[d]=j.join("")}return c.join("\n")};AdfAssert._safeJoin=function(a,b){for(var c=a.length,d="",f=0;f<c;f++){var g=a[f];d+=g?g.toString?g.toString():"Unknown":"(empty)";b&&f<c-1&&(d+=b)}return d};AdfAssert._PARAMS_NAME_PROPERTY="_funcParams";
function AdfObject(){this.Init()}AdfObject.superclass=null;AdfObject._GET_FUNCTION_NAME_REGEXP=/function\s+([\w\$][\w\$\d]*)\s*\(/;AdfObject.prototype={};AdfObject.prototype.constructor=AdfObject;
AdfObject.createSubclass=function(a,b,c){AdfAssert.assertFunction(a);AdfAssert.assertFunctionOrNull(b);AdfAssert.assertStringOrNull(c);b==void 0&&(b=AdfObject);AdfAssert.assert(a!=b,"Class can't extend itself");var d=AdfObject._tempSubclassConstructor;d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.superclass=b.prototype;if(c)a._typeName=c};AdfObject._tempSubclassConstructor=function(){};
AdfObject.prototype.getClass=function(a){if(a==void 0)a=this;else if(a==null)return null;return a.constructor};AdfObject.prototype.adopt=function(a){AdfCollections.copyInto(this,a)};AdfObject.prototype.clone=function(){var a=new this.constructor;AdfCollections.copyInto(a,this);return a};AdfObject.prototype.toString=function(){return this.toDebugString()};AdfObject.prototype.toDebugString=function(){return this.getTypeName()+" Object"};
AdfObject.getTypeName=function(a){AdfAssert.assertFunction(a);var b=a._typeName;if(b==null)b=AdfObject._GET_FUNCTION_NAME_REGEXP.exec(a.toString())[1],a._typeName=b;return b};AdfObject.prototype.getTypeName=function(){return AdfObject.getTypeName(this.constructor)};AdfObject.prototype.Init=function(){AdfAssert.DEBUG&&AdfAssert.assert(this.getTypeName,"Not an AdfObject");var a=this.constructor;a._initialized||AdfObject._initClasses(a)};
AdfObject.ensureClassInitialization=function(a){AdfAssert.assertFunction(a);a._initialized||AdfObject._initClasses(a)};AdfObject.prototype.GetLazyMapProperty=function(a,b,c){c==void 0&&(c=this);var d=c[a];d==void 0&&b&&(d={},c[a]=d);return d};AdfObject.prototype.GetLazyArrayProperty=function(a,b,c){c==void 0&&(c=this);var d=c[a];d==void 0&&b&&(d=[],c[a]=d);return d};AdfObject.prototype.equals=function(a){return this===a};
AdfObject.prototype.createCallback=function(a){AdfAssert.assertFunction(a);AdfAssert.assertString(a[AdfAssert.FUNC_NAME_PROPERTY]);var b=new Function("var f=arguments.callee; return f._func.apply(f._owner, arguments);");b._owner=this;b._func=a;return b};AdfObject.createInitializedObject=function(){var a=arguments.length;AdfAssert.assert(a%2==0,"every key must have a value");for(var b={},c=0;c<a;c++){var d=arguments[c];AdfAssert.assertString(d);c++;b[d]=arguments[c]}return b};
AdfObject._applyFunctionProperties=function(a,b){var c=AdfAssert.FUNC_NAME_PROPERTY,d=AdfAssert.CLASS_NAME_PROPERTY;for(currPropName in a){var f=a[currPropName];typeof f=="function"&&!f.hasOwnProperty(c)&&(f[c]=currPropName,f[d]=b)}};
AdfObject._initClasses=function(a){AdfAssert.DEBUG&&(AdfAssert.assertFunction(a),AdfAssert.assert(!a._initialized));a._initialized=!0;var b=a.superclass;if(b)(b=b.constructor)&&!b._initialized&&AdfObject._initClasses(b);b=AdfObject.getTypeName(a);try{var c=a.InitClass;c&&c.call(a)}finally{AdfAssert.DEBUG&&(AdfObject._applyFunctionProperties(a.prototype,b),AdfObject._applyFunctionProperties(a,"static "+b))}};
if(window.AdfCheckpoint==void 0){var constructorFunction=new Function("id","group","{}");constructorFunction.prototype.setDescription=function(){};constructorFunction.prototype.getDescription=function(){};constructorFunction.prototype.start=function(){};constructorFunction.prototype.stop=function(){};constructorFunction.getCheckpoint=function(a,b){return new AdfCheckpoint(a,b)};window.AdfCheckpoint=constructorFunction};
AdfLogRecord.LEVEL_FIELD="level";AdfLogRecord.MESSAGE_FIELD="message";AdfLogRecord.WHEN_FIELD="when";AdfLogRecord.ERROR_FIELD="error";function AdfLogRecord(a,b,c,d){AdfAssert.assertNumeric(a);AdfAssert.assertStringOrNull(b);AdfAssert.assertPrototypeOrNull(d,Date);d||(d=new Date);this.level=a;this.message=b;this.error=c;this.when=d};
function AdfLogWriter(){this.Init()}AdfObject.createSubclass(AdfLogWriter);AdfLogWriter.prototype.publish=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");var b=this._filter;(!b||b(a))&&this.PublishImpl(a)};AdfLogWriter.prototype.flush=function(){this.CheckIfClosed()};AdfLogWriter.prototype.close=function(){this.flush();this._closed=!0};AdfLogWriter.prototype.setFilter=function(a){AdfAssert.assertFunctionOrNull(a);this._filter=a};AdfLogWriter.prototype.getFilter=function(){return this._filter};
AdfLogWriter.prototype.Init=function(){AdfLogWriter.superclass.Init.call(this);this._closed=!1;this._filter=null};AdfLogWriter.prototype.PublishImpl=function(){};AdfLogWriter.prototype.CheckIfClosed=function(){AdfAssert.DEBUG&&AdfAssert.assert(!this._closed,this+" is already closed")};AdfLogWriter.prototype.FormatMessage=function(a){return a};AdfLogWriter.prototype.FormatLevel=function(a){var b=AdfLogger.__reverseMap[a];b==null&&(b=""+a);return b};
AdfLogWriter.prototype.FormatError=function(a){return a?AdfUIUtils.getPropertiesAsString(a,void 0,!1,!1):""};AdfLogWriter.prototype.FormatWhen=function(a){if(a){var a=a.toTimeString(),b=a.indexOf(" ");b!=-1&&(a=a.substring(0,b));return a}else return null};
AdfLogWriter.prototype.FormatLogRecord=function(a){var b="message='"+this.FormatMessage(a[AdfLogRecord.MESSAGE_FIELD]),c=this.FormatLevel(a[AdfLogRecord.LEVEL_FIELD]);b+="' level="+c;(c=this.FormatError(a[AdfLogRecord.ERROR_FIELD]))&&(b+=" error="+c);b+=" at "+this.FormatWhen(a[AdfLogRecord.WHEN_FIELD]);return b};
function AdfBufferedLogWriter(){this.Init()}AdfObject.createSubclass(AdfBufferedLogWriter,AdfLogWriter);AdfBufferedLogWriter.prototype.getLogRecords=function(){return this._loggedMessages.concat()};AdfBufferedLogWriter.prototype.flush=function(){this.CheckIfClosed();this._loggedMessages.length&&this.Clear()};AdfBufferedLogWriter.prototype.Init=function(){AdfBufferedLogWriter.superclass.Init.call(this);this._loggedMessages=[]};AdfBufferedLogWriter.prototype.Clear=function(){this._loggedMessages=[]};
AdfBufferedLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");this._loggedMessages.push(a)};
function AdfLogger(a,b,c){this.Init(a,b,c)}AdfObject.createSubclass(AdfLogger);AdfLogger.getLogger=function(a){a||(loggername="global");return AdfLogger._LOGGERS[a]};AdfLogger.prototype.register=function(){var a=AdfLogger._LOGGERS,b=this.getName(),c=a[b];if(this!==c){if(c){var d=c.getLogWriter();AdfBufferedLogWriter.prototype.isPrototypeOf(d)&&this.logRecords(d.getLogRecords());d.close()}a[b]=this}return c};AdfLogger.prototype.getName=function(){return this._loggerName};
AdfLogger.prototype.setLevel=function(a){AdfAssert.assertNumeric(a);this._level=a};AdfLogger.prototype.getLevel=function(){return this._level};AdfLogger.prototype.isLoggable=function(a){return a>=this._level};AdfLogger.prototype.getName=function(){return this._loggerName};AdfLogger.prototype.getLogWriter=function(){return this._logWriter};AdfLogger.prototype.setFilter=function(a){AdfAssert.assertFunctionOrNull(a);this._filter=a};AdfLogger.prototype.getFilter=function(){return this._filter};
AdfLogger.prototype.log=function(a){AdfAssert.assert(a);a.level<this._level||this.AddLogRecord(a)};AdfLogger.prototype.logRecords=function(a){AdfAssert.assert(a);for(var b=a.length,c=0;c<b;c++)this.log(a[c])};AdfLogger.prototype.logMessage=function(a){AdfAssert.assertNumeric(a);if(!(a<this._level)){this._calcMsg._skipArgs=1;var b=this._calcMsg.apply(this,arguments);this.AddLogRecord(new AdfLogRecord(a,b))}};
AdfLogger.prototype.logError=function(a,b,c){if(!b)b=AdfLogger.INFO;AdfAssert.assertNumeric(b);if(!(b<this._level))this._calcMsg._skipArgs=2,c=this._calcMsg.apply(this,arguments),this.AddLogRecord(new AdfLogRecord(b,c,a))};AdfLogger.prototype.logErrorAsSevere=function(a,b){var c=AdfLogger.SEVERE;if(!(c<this._level))this._calcMsg._skipArgs=1,b=this._calcMsg.apply(this,arguments),this.AddLogRecord(new AdfLogRecord(c,b,a))};
AdfLogger.prototype.logErrorAsWarning=function(a,b){var c=AdfLogger.WARNING;if(!(c<this._level))this._calcMsg._skipArgs=1,b=this._calcMsg.apply(this,arguments),this.AddLogRecord(new AdfLogRecord(c,b,a))};AdfLogger.prototype.logErrorAsInfo=function(a,b){var c=AdfLogger.INFO;if(!(c<this._level))this._calcMsg._skipArgs=1,b=this._calcMsg.apply(this,arguments),this.AddLogRecord(new AdfLogRecord(c,b,a))};
AdfLogger.prototype.logElapsedTime=function(a,b,c){AdfAssert.assert(a);if(!c)c=this.FINE;if(!(c<this._level)){var d=new Date,a=(d.getTime()-a.getTime())/1E3;b+=a+" seconds";this.AddLogRecord(new AdfLogRecord(c,b,null,d))}};
AdfLogger.InitClass=function(){this.RegisterLevels(AdfLogger,[{name:"OFF",severity:Number.MAX_VALUE},{name:"SEVERE",severity:1E3},{name:"WARNING",severity:900},{name:"INFO",severity:800},{name:"CONFIG",severity:700},{name:"FINE",severity:500},{name:"FINER",severity:400},{name:"FINEST",severity:300},{name:"ALL",severity:Number.MIN_VALUE}]);this.DEFAULT_LEVEL=this.WARNING;this._LOGGERS={}};
AdfLogger.RegisterLevels=function(a,b){AdfAssert.assertFunction(a);var c=a.prototype;a.__reverseMap={};for(var d=b.length,f=["if (this.",null,"<this._level) return; this._calcMsg._skipArgs = 0; this.logMessage(this.",null,",this._calcMsg.apply(this, arguments));"],g=0;g<d;g++){var h=b[g],j=h.name,h=h.severity;a.__reverseMap[h]=j;a[j]=h;c[j]=h;h!=Number.MAX_VALUE&&h!=Number.MIN_VALUE&&(f[1]=j,f[3]=j,h=f.join(""),j=j.toLowerCase(),c[j]=new Function("msg",h))}};
AdfLogger.prototype._calcMsg=function(){var a=arguments.callee._skipArgs,b=arguments.length,c=arguments[a];if(!(b-a==1&&typeof c=="string"))for(c="";a<b;a++)c+=arguments[a];return c};AdfLogger.prototype.Init=function(a,b,c){AdfAssert.assert(a,"loggerName required");AdfAssert.assert(b,"logWriter required");AdfLogger.superclass.Init.call(this);this._logWriter=b;this._loggerName=a;this._level=c!==void 0?c:AdfLogger.DEFAULT_LEVEL;this._filter=null};
AdfLogger.prototype.toDebugString=function(){return this.getTypeName()+" [loggerName:'"+this._loggerName+"',level:"+this._level+",logWriter:"+this._logWriter+"]"};AdfLogger.prototype.AddLogRecord=function(a){var b=this._filter;(!b||b(a))&&this.getLogWriter().publish(a)};AdfLogger.LOGGER=(new AdfLogger("global",new AdfBufferedLogWriter)).register();
function AdfAlertLogWriter(){this.Init()}AdfObject.createSubclass(AdfAlertLogWriter,AdfBufferedLogWriter);AdfAlertLogWriter.prototype.flush=function(){this.CheckIfClosed();var a=this.getLogRecords();if(a.length){a.reverse();var b="Logged Messages:\n",c=a.length;if(c>0){for(var d=0;d<c;d++)a[d]=this.FormatLogRecord(a[d]);b+=a.join("\n")}else b+="[No Messages]";this.Clear();alert(b)}};
function AdfClientFileLogWriter(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfClientFileLogWriter,AdfBufferedLogWriter);AdfClientFileLogWriter.prototype.Init=function(a,b){AdfAssert.assertPrototype(b,AdfLogWriter);AdfClientFileLogWriter.superclass.Init.call(this);var c=AdfAgent.AGENT;this._sessionId=null;this._backupLogWriter=b;this._window=a;this._document=c.getDomDocument();c.addBubbleEventListener(this._window,"load",AdfClientFileLogWriter._createAppletTag)};
AdfClientFileLogWriter._createAppletTag=function(){var a=AdfPage.PAGE.getBaseResourceUrl(),b=AdfAgent.AGENT.getDomDocument(),c=b.createElement("applet");c.setAttribute("name","AdfClientFileWriter");c.setAttribute("archive",a+"/afr/archives/AdfSignedClientFileWriterApplet.jar");c.setAttribute("code","oracle.adfinternal.view.resource.rich.AdfClientFileWriterApplet.class");c.setAttribute("height","1");c.setAttribute("width","1");b.getElementsByTagName("body")[0].appendChild(c)};
AdfClientFileLogWriter.prototype.getApplet=function(){var a,b=this._document.applets.length;if(b>0){var c=this._document.getElementsByTagName("applet");for(i=0;i<b;i++)if(c[i].name=="AdfClientFileWriter"){a=c[i];break}}return a};AdfClientFileLogWriter.prototype.flush=function(){this.CheckIfClosed()};AdfClientFileLogWriter.prototype.close=function(){this.closeRecord();this._closed=!0};
AdfClientFileLogWriter.prototype.closeRecord=function(){var a=this.getApplet();if(a){this.CheckIfClosed();var b=this.getLogRecords(),c="<record>\n\t<header>\n\t\t<date>"+(new Date).toUTCString()+"</date>\n\t\t<ecId>"+AdfDhtmlPage._ECID+"</ecId>\n\t\t<page>"+this._document.title+"</page>\n\t\t<serverHost>"+this._window.location.host+"</serverHost>\n\t\t<path>"+this._window.location.pathname+"</path>\n\t</header>\n";if(b.length){for(var d=b.length,f=0;f<d;f++)b[f]=this.FormatLogRecord(b[f]);c+=b.join("\n");
c+="\n</record>\n"+AdfClientFileLogWriter._END_TAG+"\n";var b=AdfAgent.AGENT.getPlatform(),d=null,d=AdfDhtmlPage._ADFRC_LOG_FILENAME!=null?AdfDhtmlPage._ADFRC_LOG_FILENAME:(new Date).getTime(),b=b+"_"+d+".xml",g;try{"false"==a.fileExists(b)&&(c=AdfClientFileLogWriter._XML_FILE_HEADER+AdfClientFileLogWriter._START_TAG+"\n"+AdfClientFileLogWriter._PROFILER_VERSION+AdfClientFileLogWriter._BROWSER_VERSION+c),g=a.log(b,c,AdfClientFileLogWriter._END_TAG)}catch(h){g="Error: "+h}g!="ok"&&this._logToBackupLogWriter(g)}}else this._logToBackupLogWriter("The AdfClientFileWriter applet is undefined or unavailable.");
this.Clear()};AdfClientFileLogWriter.prototype.setSessionId=function(a){this._sessionId=a!=null?a:(new Date).getTime()};AdfClientFileLogWriter.prototype.FormatMessage=function(a){var a=a.split(";"),b="",c=a.length;if(c<2)return b;a[0]&&(b+="\t\t\t<description><![CDATA["+a[0]+"]]\></description>\n");a[1]&&(b+="\t\t\t<timestamp>"+a[1]+"</timestamp>\n");a[2]&&(b+="\t\t\t<timing>"+a[2]+"</timing>\n");for(i=3;i<c;++i)b+="\t\t\t"+a[i]+"\n";return b};
AdfClientFileLogWriter.prototype.FormatLogRecord=function(a){this.FormatLevel(a[AdfLogRecord.LEVEL_FIELD]);var b="\t<entry>\n\t\t<time>"+this.FormatWhen(a[AdfLogRecord.WHEN_FIELD])+"</time>\n",c=this.FormatError(a[AdfLogRecord.ERROR_FIELD]);c&&(b+="\t\t<error>"+c+"</error>\n");b+="\t\t<message>\n"+this.FormatMessage(a[AdfLogRecord.MESSAGE_FIELD])+"\t\t</message>\n\t</entry>";return b};
AdfClientFileLogWriter.prototype.FormatWhen=function(a){a||(a=new Date);return a.getUTCHours()+":"+a.getUTCMinutes()+":"+a.getUTCSeconds()+"."+a.getUTCMilliseconds()};AdfClientFileLogWriter.prototype._logToBackupLogWriter=function(a){this._backupLogWriter.publish(new AdfLogRecord(AdfLogger.WARNING,a))};AdfClientFileLogWriter._XML_FILE_HEADER='<?xml version ="1.0" encoding="ISO-8859-1"?>\n';AdfClientFileLogWriter._PROFILER_VERSION='<AdfRcProfiler version="3.0"/>\n';
AdfClientFileLogWriter._BROWSER_VERSION="<browser>"+navigator.appName+" "+navigator.appVersion+"</browser>\n";AdfClientFileLogWriter._START_TAG="<log>";AdfClientFileLogWriter._END_TAG="</log>";
function AdfStatusLogWriter(){this.Init()}AdfObject.createSubclass(AdfStatusLogWriter,AdfLogWriter);AdfStatusLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");top.status=this.FormatLogRecord(a)};
function AdfConsoleLogWriter(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfConsoleLogWriter,AdfLogWriter);
AdfConsoleLogWriter.prototype.Init=function(a,b){AdfAssert.assertObject(a);AdfAssert.assertPrototype(b,AdfLogWriter);AdfConsoleLogWriter.superclass.Init.call(this);this._parentWindow=a;this._backupLogWriter=b;this._loggedMessages=[];this._columns=[AdfLogRecord.LEVEL_FIELD,AdfLogRecord.MESSAGE_FIELD,AdfLogRecord.WHEN_FIELD,AdfLogRecord.ERROR_FIELD];var c={};c[AdfLogRecord.LEVEL_FIELD]="FormatLevel";c[AdfLogRecord.MESSAGE_FIELD]="FormatMessage";c[AdfLogRecord.WHEN_FIELD]="FormatWhen";c[AdfLogRecord.ERROR_FIELD]=
"FormatError";this._formatters=c;this._consoleWindow=null};AdfConsoleLogWriter.prototype.publish=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");this._loggedMessages.push(a);var b=this.getFilter();try{if((!b||b(a))&&!this._busy){this._busy=!0;try{this._showMessage(a)}finally{this._busy=!1}}}catch(c){this._logInternalError(c,"Error publishing AdfLogRecord")}};
AdfConsoleLogWriter.prototype.close=function(){AdfConsoleLogWriter.superclass.close.call(this);if(this._consoleWindow){try{this._consoleWindow.document.body.onunload=null}catch(a){}this._consoleWindow.close();this._consoleWindow=null}};AdfConsoleLogWriter.prototype.setFilter=function(a){var b=this.getFilter();a!=b&&(AdfConsoleLogWriter.superclass.setFilter.call(this,a),this._updateRecords())};AdfConsoleLogWriter.prototype.clear=function(){this._loggedMessages=[];this._clearDisplayedRecords()};
AdfConsoleLogWriter.prototype.updateFilter=function(a){a=AdfUIUtils.trim(a);a.length?this.setFilter(new Function("record","return ("+a+");")):this.setFilter(null)};AdfConsoleLogWriter.prototype.FormatMessage=function(a){a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=a.replace(/\n/g,"<br>")};
AdfConsoleLogWriter.prototype.FormatError=function(a){if(!a)return"";var b="",c=!0,d;for(d in a)if(d!=d.toUpperCase())try{var f=a[d];if(typeof f!="function"){var g=f;if(d=="stack"&&"string"==typeof f){for(var g="<ol>",h=AdfConsoleLogWriter._GECKO_STACK_RE,j;j=f.match(h);){g+="<li>";var k=j[0],l=-1,m=k.lastIndexOf(":");m!=-1&&(l=k.lastIndexOf("@"));if(l!=-1){l++;g+=k.substring(0,l);var n=k.substring(l,m),l=n,o=n.lastIndexOf("/");o!=-1&&(l=n.substring(o+1));var p="target='_blank'",q="?";m!=-1&&(q=k.substring(m+
1),n.length>0&&AdfConsoleLogWriter._LINK_TRACE_TO_LINE_NUMBERS&&navigator.userAgent.toLowerCase().indexOf("gecko")!=-1&&(p="",n="javascript:viewSource('"+n+"','"+l+"',"+q+")"));g+="<a "+p+' href="'+n+'">';g+=l+"</a> Line: "+q}else g+=k;g+="</li>";f=f.substring(k.length)}g+="</ol>"}c?(b+="<b>",c=!1):b+="<br><b>";b+=d+":</b>"+g}}catch(r){}return b};
AdfConsoleLogWriter.prototype._addDisplayedRecords=function(){for(var a=this._getDocument().getElementById("consoleLogRecords"),b=this._loggedMessages,c=this.getFilter(),d=b.length-1;d>=0;d--){var f=b[d];try{if(!c||c(f)){var g=this._createRow(f);a.appendChild(g)}}catch(h){this._logInternalError(h,"Error displaying AdfLogRecord")}}};AdfConsoleLogWriter.prototype._updateRecords=function(){this._clearDisplayedRecords();this._addDisplayedRecords()};
AdfConsoleLogWriter.prototype._clearDisplayedRecords=function(){var a=this._getDocument();AdfAssert.assert(a);var b=a.getElementById("consoleLogRecords");AdfAssert.assertDomElement(b);var c=b.parentNode,d=b.nextSibling;c.removeChild(b);a=a.createElement("tbody");a.id="consoleLogRecords";c.insertBefore(a,d)};
AdfConsoleLogWriter.prototype._createHeaders=function(){for(var a=this._getDocument(),b=a.createElement("tr"),c=this._columns,d=c.length,f=0;f<d;f++){var g=c[f],h=a.createElement("th");h.innerHTML=g;b.appendChild(h)}return b};AdfConsoleLogWriter.prototype._updateHeaders=function(){var a=this._getDocument().getElementById("columnHeaders"),b=a.firstChild;b&&a.removeChild(b);a.appendChild(this._createHeaders())};
AdfConsoleLogWriter.prototype._createRow=function(a){for(var b=this._getDocument(),c=b.createElement("tr"),d=this._formatters,f=this._columns,g=f.length,h=0;h<g;h++){var j=f[h],k=a[j],l=b.createElement("td");l.vAlign="top";if(k&&(k=(j=d[j])?this[j](k):""+k))l.innerHTML=k;c.appendChild(l)}return c};
AdfConsoleLogWriter.prototype._showMessage=function(a){var b=this._consoleWindow;b?(a=this._createRow(a),b=b.document.getElementById("consoleLogRecords"),b.insertBefore(a,b.firstChild)):(this._consoleWindow=b=this._openConsoleWindow(),this._updateHeaders(),this.HandleOnLoad())};AdfConsoleLogWriter.prototype._getDocument=function(){var a=this._consoleWindow;return a?a.document:null};AdfConsoleLogWriter.prototype._getRecordDiv=function(){return this._getDocument().getElementById("recordDiv")};
AdfConsoleLogWriter.prototype._openConsoleWindow=function(){var a;try{a=window.open("about:blank","Console","width=700,height=250,resizable=1,scrollbars=1,dependent=1"),AdfLogger.LOGGER.getLogWriter()._windowUnloaded()}catch(b){this._logInternalError(b,"Error opening ConsoleWindow")}if(a){var c=a.document;c.open();c.write("<html>   <head>     <title>Console Log</title>     <style>       label,button,th,td,input {font-size:10pt;font-family:Arial;}       .resultsTable {position:relative; width:100%; margin:0px}       .resultsTable th {border:solid black 1px; background-color:silver; margin:0px}       .resultsTable td {border:solid black 1px; margin:0px}     </style>     <script>     function viewSource(url, fileName, lineNumber)     {       var windowName = fileName.split(\".\")[0];       window.lineNumber = lineNumber;       window.windowName = windowName;       window.viewerWindow = window.open(url, windowName);       window.viewerWindow.onload = sourceLoaded;       return;     }     function sourceLoaded()     {       try       {         var windowName = window.windowName;         var lineNumber = window.lineNumber;         var viewerDoc = window.viewerWindow.document;         viewerDoc.title = windowName + \" @ \" + lineNumber;        var viewerMarginTop = 10;         var viewerSrc = viewerDoc.body.firstChild;         viewerSrc.style.position = \"absolute\";         viewerSrc.style.zIndex = \"2\";         viewerSrc.style.top = \"0px\";         viewerSrc.style.marginTop = viewerMarginTop + \"px\";         viewerSrc.style.lineHeight = \"16px;\";         var samplePre = viewerDoc.createElement(\"pre\");         samplePre.style.width = viewerSrc.offsetWidth + \"px\";         samplePre.style.position = \"absolute\";         samplePre.style.zIndex = \"1\";         samplePre.style.top = \"0px\";         samplePre.style.marginTop = \"0px\";         samplePre.style.marginBottom = \"0px\";         samplePre.style.lineHeight = \"16px;\";         samplePre.appendChild(document.createTextNode(\" \"));         viewerDoc.body.appendChild(samplePre);         var lineHeight = samplePre.offsetHeight;         /* sometimes Gecko needs -1 and sometimes -2, unsure why right now */         var targetLineTop = lineHeight * (lineNumber - 1);         /* doubling the height since it could be either of the two lines */         samplePre.style.lineHeight = \"32px;\";         samplePre.style.marginTop = viewerMarginTop + \"px\";         samplePre.style.top = targetLineTop + \"px\";         samplePre.style.backgroundColor = \"#EFEFEF\";         var anchorName = \"line\" + lineNumber;         var anchor = viewerDoc.createElement(\"a\");         anchor.name = anchorName;         anchor.style.position = \"absolute\";         anchor.style.zIndex = \"0\";         anchor.style.top = Math.max(0, targetLineTop - 150) + \"px\";         viewerDoc.body.appendChild(anchor);         window.viewerWindow.location = \"#\" + anchorName;       }       catch (problem)       {         /* do nothing */;       }     }     <\/script>   </head>   <body style='width:100%;height:100%;padding:0px;margin:0px;overflow:hidden' onunload='window.logWriter._windowUnloaded()' onresize='window.logWriter._windowResized()'>     <button onclick='window.logWriter.clear();return false;'>Clear</button>    <br>    <table width='100%'><tbody><tr><td align='right'><label for='evalInput'>Eval:</label></td><td width='100%'><input id='evalInput' type='text' onkeypress='if (event.keyCode==13){window.logWriter._handleEvaluate(this.value);}' style='position:relative; width:100%'></input></td></tr>     <tr><td align='right' valign='top'><label for='filterInput'>Filter:</td><td width='100%'><textarea id='filterInput' rows='2' style='position:relative; width:100%' onchange='window.logWriter.updateFilter(this.value)'></textarea></label></td></tr></tbody></table>     <div id='recordDiv' style='position:relative; width:100%; height:200px; overflow:scroll;'>       <table class='resultsTable'>         <thead id='columnHeaders'>         </thead>         <tbody id='consoleLogRecords'>         <tbody>         <tfoot><tr><td style='height:100%'></td></tr></tfoot>       </table>     </div>   </body> </html>");
c.close();a.logWriter=this;return a}else this._logInternalError(e,"Popup blocker prevented opening of ConsoleWindow")};AdfConsoleLogWriter.prototype._logInternalError=function(a,b){AdfAssert.assertPrototype(a,Error);this._backupLogWriter.publish(new AdfLogRecord(AdfLogger.WARNING,b,a))};
AdfConsoleLogWriter.prototype._handleEvaluate=function(a){var b=this._parentWindow;if(typeof b.execScript!="function")b.execScript=new Function("evalString","return eval(evalString);");var c;try{var d=b.execScript(a),c=new AdfLogRecord(AdfLogger.INFO,a+"="+d)}catch(f){c=new AdfLogRecord(AdfLogger.INFO,"Error evaulating:"+a,f)}this.publish(c)};AdfConsoleLogWriter.prototype._windowUnloaded=function(){var a=this._consoleWindow;if(a)this._consoleWindow=a.logWriter=null};
AdfConsoleLogWriter.prototype._windowResized=function(){var a=this._getDocument(),b=this._getRecordDiv();AdfAssert.assertDomElement(b);a=a.documentElement;AdfAssert.assertDomElement(a);var c=a.clientHeight;if(c==0)c=a.offsetHeight;a=c-b.offsetTop;if(a>=0)b.style.height=a+"px"};AdfConsoleLogWriter.prototype.HandleOnLoad=function(){this._getDocument().getElementById("evalInput").focus();this._addDisplayedRecords();this._windowResized()};AdfConsoleLogWriter._GECKO_STACK_RE=/\w*\([^\)]*\)@[^\s]*:\d+\s/;
AdfConsoleLogWriter._LINK_TRACE_TO_LINE_NUMBERS=!0;
function AdfBaseEvent(){}AdfObject.createSubclass(AdfBaseEvent);AdfBaseEvent.CAPTURING_PHASE=0;AdfBaseEvent.AT_TARGET_PHASE=1;AdfBaseEvent.BUBBLING_PHASE=2;AdfBaseEvent.prototype.getType=function(){return this._type};AdfBaseEvent.prototype.getSource=function(){return this._source};AdfBaseEvent.prototype.getCurrentTarget=function(){return this.getSource()};AdfBaseEvent.prototype.getEventPhase=function(){return AdfBaseEvent.AT_TARGET};AdfBaseEvent.prototype.getDoesBubbles=function(){return!1};
AdfBaseEvent.prototype.stopBubbling=function(){this._bubbleStopped=!0};AdfBaseEvent.prototype.isBubblingStopped=function(){return this._bubbleStopped==!0};AdfBaseEvent.prototype.propagatesToServer=function(){return!1};AdfBaseEvent.prototype.isValidationNeeded=function(){return!1};AdfBaseEvent.prototype.isImmediate=function(){return!1};AdfBaseEvent.prototype.getRoot=function(){return this._root};AdfBaseEvent.prototype.setRoot=function(a){this._root=a};AdfBaseEvent.prototype.isCancelable=function(){return!0};
AdfBaseEvent.prototype.isCanceled=function(){return this._canceled==!0};AdfBaseEvent.prototype.isPartial=function(){return this._partial==!0};AdfBaseEvent.prototype.setPartial=function(a){this._partial=a};AdfBaseEvent.prototype.isFullSubmitForced=function(){return this._fullSubmitForced==!0};AdfBaseEvent.prototype.forceFullSubmit=function(){this._fullSubmitForced=!0};AdfBaseEvent.prototype.isResponseExpected=function(){return this._noResponse!=!0};
AdfBaseEvent.prototype.noResponseExpected=function(){this._noResponse=!0};AdfBaseEvent.prototype.isResponseAnnounced=function(){return!0};AdfBaseEvent.prototype.cancel=function(){if(this.isCancelable())this._canceled=!0};AdfBaseEvent.prototype.getProperties=function(){var a={};this.AddMarshalledProperties(a);if(!this.getClearMessages())a.suppressMessageClear="true";if(!this.getShowMessages())a.suppressMessageShow="true";a.type=this._type;return a};AdfBaseEvent.prototype.getShowMessages=function(){return!0};
AdfBaseEvent.prototype.getClearMessages=function(){return this.propagatesToServer()};AdfBaseEvent.prototype.AddMarshalledProperties=function(){};AdfBaseEvent.prototype.toDebugString=function(){var a=this.getTypeName()+" [type="+this.getType()+", source="+this.getSource();this.isCanceled()&&(a+=", canceled");return a+"]"};
AdfBaseEvent.prototype.Init=function(a,b){AdfAssert.assertString(b);AdfBaseEvent.superclass.Init.call(this);AdfAssert.assertObject(a,"source must be specified");this._source=a;this._type=b};AdfBaseEvent.prototype.preventUserInput=function(){this.propagatesToServer()?this._userInputPrevented=!0:AdfLogger.LOGGER.logMessage(AdfLogger.WARNING,"Ignoring UI blocking request because the event does not propagate to the server.")};
AdfBaseEvent.prototype.IsUserInputPrevented=function(){return this._userInputPrevented==!0};AdfBaseEvent.prototype.IsDeleveryDiscrete=function(){return!1};
function AdfPhasedEvent(){}AdfObject.createSubclass(AdfPhasedEvent,AdfBaseEvent);AdfPhasedEvent.prototype.setCurrentTarget=function(a){AdfAssert.assert(a,"newTarget must exist");this._currTarget=a};AdfPhasedEvent.prototype.getCurrentTarget=function(){return this._currTarget};
AdfPhasedEvent.prototype.nextEventPhase=function(){var a=this.getEventPhase();AdfAssert.assertNumeric(a,"eventPhase doesn't exist");this._eventPhase=a==AdfBaseEvent.CAPTURING_PHASE?AdfBaseEvent.AT_TARGET_PHASE:a==AdfBaseEvent.AT_TARGET_PHASE?AdfBaseEvent.BUBBLING_PHASE:void 0};AdfPhasedEvent.prototype.getEventPhase=function(){return this._eventPhase};AdfPhasedEvent.prototype.getDoesBubbles=function(){return!0};AdfPhasedEvent.prototype.isCancelable=function(){return!0};
AdfPhasedEvent.prototype.toDebugString=function(){var a=AdfPhasedEvent.superclass.toDebugString.call(this),b=this.getEventPhase(),b=b==AdfBaseEvent.CAPTURING_PHASE?"CAPTURING_PHASE":b==AdfBaseEvent.AT_TARGET_PHASE?"AT_TARGET_PHASE":b==AdfBaseEvent.BUBBLING_PHASE?"BUBBLING_PHASE":"<invalid phase>";return a.substring(0,a.length-1)+", phase="+b+"]"};AdfPhasedEvent.prototype.Init=function(a,b){AdfPhasedEvent.superclass.Init.call(this,a,b);this._currTarget=null;this._eventPhase=AdfBaseEvent.CAPTURING_PHASE};
function AdfComponentEvent(a,b){arguments.length&&(AdfAssert.assertPrototype(a,AdfUIComponent),this.Init(a,b))}AdfComponentEvent.FOCUS_EVENT_TYPE="focus";AdfComponentEvent.BLUR_EVENT_TYPE="blur";AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE="contextMenu";AdfObject.createSubclass(AdfComponentEvent,AdfPhasedEvent);AdfComponentEvent.prototype.queue=function(a){a!==void 0&&(AdfAssert.assertBoolean(a),this.setPartial(a));this.getSource().queueEvent(this)};
function AdfDomComponentEvent(a,b,c){arguments.length&&this.Init(a,b,c)}AdfObject.createSubclass(AdfDomComponentEvent,AdfComponentEvent);AdfDomComponentEvent.prototype.getNativeEvent=function(){return this.Event};AdfDomComponentEvent.prototype.getNativeEventTarget=function(){var a=this.Event;return a?AdfAgent.AGENT.getEventTarget(a):null};AdfDomComponentEvent.prototype.clone=function(){var a=AdfAgent.AGENT.cloneEvent(this.Event);return new this.constructor(this.getSource(),this.getType(),a)};
AdfDomComponentEvent.prototype.Init=function(a,b,c){AdfAssert.assert(c,"Native event must be specified");AdfDomComponentEvent.superclass.Init.call(this,a,b);this.Event=c};
AdfObject.createSubclass(AdfComponentFocusEvent,AdfComponentEvent);function AdfComponentFocusEvent(a,b,c){arguments.length&&this.Init(a,b,c)}AdfComponentFocusEvent.prototype.getPreviousComponent=function(){return this.PrevComponent};AdfComponentFocusEvent.prototype.getNextComponent=function(){return this.getSource()};
AdfComponentFocusEvent.prototype.Init=function(a,b,c){AdfAssert.assertPrototypeOrNull(a,AdfUIComponent);AdfAssert.assertPrototypeOrNull(b,AdfUIComponent);AdfComponentFocusEvent.superclass.Init.call(this,b,c);this.PrevComponent=a};
AdfObject.createSubclass(AdfDomComponentFocusEvent,AdfComponentFocusEvent);function AdfDomComponentFocusEvent(a,b,c,d){arguments.length&&this.Init(a,b,c,d)}AdfDomComponentFocusEvent.prototype.Init=function(a,b,c,d){AdfAssert.assert(d,"Native event must be specified");AdfDomComponentFocusEvent.superclass.Init.call(this,a,b,c);this.Event=d};AdfDomComponentFocusEvent.prototype.getNativeEvent=AdfDomComponentEvent.prototype.getNativeEvent;AdfDomComponentFocusEvent.prototype.getNativeEventTarget=AdfDomComponentEvent.prototype.getNativeEventTarget;
AdfDomComponentFocusEvent.prototype.clone=AdfDomComponentEvent.prototype.clone;
function AdfUIInputEvent(){}AdfObject.createSubclass(AdfUIInputEvent,AdfComponentEvent);AdfUIInputEvent.CLICK_EVENT_TYPE="click";AdfUIInputEvent.DOUBLE_CLICK_EVENT_TYPE="dblClick";AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE="mouseDown";AdfUIInputEvent.MOUSE_UP_EVENT_TYPE="mouseUp";AdfUIInputEvent.MOUSE_MOVE_EVENT_TYPE="mouseMove";AdfUIInputEvent.MOUSE_IN_EVENT_TYPE="mouseOver";AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE="mouseOut";AdfUIInputEvent.KEY_DOWN_EVENT_TYPE="keyDown";
AdfUIInputEvent.KEY_UP_EVENT_TYPE="keyUp";AdfUIInputEvent.KEY_PRESS_EVENT_TYPE="keyPress";AdfUIInputEvent.FOCUS_EVENT_TYPE="focus";AdfUIInputEvent.BLUR_EVENT_TYPE="blur";AdfUIInputEvent.CONTEXT_MENU_EVENT_TYPE=AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE;AdfUIInputEvent.LEFT_BUTTON_FLAG=1;AdfUIInputEvent.RIGHT_BUTTON_FLAG=2;AdfUIInputEvent.MIDDLE_BUTTON_FLAG=4;AdfUIInputEvent.prototype.getOffsetX=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getOffsetY=function(){AdfAssert.failedInAbstractFunction()};
AdfUIInputEvent.prototype.getClientX=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getClientY=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getPageX=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getPageY=function(){};AdfUIInputEvent.prototype.getScreenX=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getScreenY=function(){AdfAssert.failedInAbstractFunction()};
AdfUIInputEvent.prototype.getButtons=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.isLeftButtonPressed=function(){return(this.getButtons()&AdfUIInputEvent.LEFT_BUTTON_FLAG)!=0};AdfUIInputEvent.prototype.isRightButtonPressed=function(){return(this.getButtons()&AdfUIInputEvent.RIGHT_BUTTON_FLAG)!=0};AdfUIInputEvent.prototype.getKeyCode=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getKeyModifiers=function(){AdfAssert.failedInAbstractFunction()};
AdfUIInputEvent.prototype.getKeyStroke=function(){var a=this.getKeyCode();return a?AdfKeyStroke.getKeyStroke(a,this.getKeyModifiers()):null};
function AdfAgent(a){this.Init(AdfAgent.UNKNOWN_PLATFORM,AdfAgent.guessOS(),AdfAgent.guessVersion(),a)}AdfObject.createSubclass(AdfAgent);AdfAgent.IE_PLATFORM="ie";AdfAgent.GECKO_PLATFORM="gecko";AdfAgent.WEBKIT_PLATFORM="webkit";AdfAgent.OPERA_PLATFORM="opera";AdfAgent.UNKNOWN_PLATFORM="unknown";AdfAgent.WINDOWS_OS="Windows";AdfAgent.SOLARIS_OS="Solaris";AdfAgent.MAC_OS="Mac";AdfAgent.UNKNOWN_OS="Unknown";AdfAgent.ANDROID_OS="Android";AdfAgent.CAP_TOUCH_SCREEN="touchScreen";
AdfAgent.CAP_TOUCH_SCREEN_NONE="none";AdfAgent.CAP_TOUCH_SCREEN_SINGLE="single";AdfAgent.CAP_TOUCH_SCREEN_MULTIPLE="multiple";
AdfAgent.getAgent=function(a){if(a!=null)AdfAgent._agent=null;if(!AdfAgent._agent){AdfAssert.assert(a!=null);var b=navigator.userAgent.toLowerCase(),c,d;try{b.indexOf("opera")!=-1?(c=new AdfOperaAgent(a),checkAgentSupport&&alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT)):b.indexOf("msie")>-1||b.indexOf("trident")>-1?(d=AdfIEAgent.__getAgentVersion(b),window.XMLHttpRequest||d>=7?c=d>=11?new AdfIEAgent(a):d>=9?new AdfIE9Agent(a):d>=8?new AdfIE8Agent(a):new AdfIEAgentLegacy(a):(checkAgentSupport&&alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT),
c=new AdfIE6Agent(a))):b.indexOf("applewebkit")!=-1||b.indexOf("safari")!=-1?(d=AdfAgent._parseFloatVersion(b,/applewebkit\/(\d+([.]\d+)*)/),c=b.indexOf("mobile")==-1&&b.indexOf("android")==-1?new AdfSafariAgent(d,a):new AdfSafariMobileAgent(d,a),checkAgentSupport&&d<525.18&&!(d<525.18&&b.indexOf("chrome/")!=-1)&&alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT)):b.indexOf("gecko/")!=-1?(d=AdfAgent._parseFloatVersion(b,/rv:(\d+[.]\d+)/),c=d>=6?new AdfGeckoAgent(d,a):d>=5?new AdfGecko5Agent(d,a):d>=1.9?new AdfGecko19Agent(d,
a):d>=1.8?new AdfGecko18Agent(d,a):d>=1?new AdfGecko17Agent(d,a):new AdfGeckoAgent(d,a),checkAgentSupport&&(AdfAgent._isGeckoAgentSupported(b,d)||alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT))):c||(checkAgentSupport&&alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT),c=new AdfAgent(a)),AdfAgent._agent=c}catch(f){AdfAgent._agent=new AdfAgent(a),AdfLogger.LOGGER.logError(f,AdfLogger.SEVERE,"Unable to initialize AdfAgent")}}return AdfAgent._agent};
AdfAgent.guessOS=function(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("win")!=-1)return AdfAgent.WINDOWS_OS;else if(a.indexOf("mac")!=-1)return AdfAgent.MAC_OS;else if(a.indexOf("sunos")!=-1)return AdfAgent.SOLARIS_OS;else if(a.indexOf("android")!=-1)return AdfAgent.ANDROID_OS};AdfAgent.guessVersion=function(){return parseFloat(navigator.appVersion)};
AdfAgent.InitClass=function(){AdfAgent._agent=null;for(var a=AdfAgent.KEY_EVENTS,b=0;b<a.length;b++)a[a[b]]=b;a=[];a[AdfKeyStroke.CTRL_MASK]="Ctrl";a[AdfKeyStroke.SHIFT_MASK]="Shift";a[AdfKeyStroke.ALT_MASK]="Alt";a[AdfKeyStroke.META_MASK]="Meta";this._MODIFIER_DISPLAY_NAMES=a;this._SETTABLE_STYLE_PROPS=null};
AdfAgent.prototype.Init=function(a,b,c,d){AdfAgent.superclass.Init.call(this);if(!a)a=AdfAgent.UNKNOWN_PLATFORM;if(!b)b=AdfAgent.UNKNOWN_OS;this._platform=a;this._os=b;this._version=c;this._window=d;this._document=d.document;this._oldBodyCursor=null;this._busyCursorShown=!1;(this._capabilities={})[AdfAgent.CAP_TOUCH_SCREEN]=AdfAgent.CAP_TOUCH_SCREEN_NONE};AdfAgent.prototype.createXMLHttpRequest=function(){return window.XMLHttpRequest?new XMLHttpRequest:null};
AdfAgent.prototype.isInlineDialogRepositioningOnScroll=function(){if(AdfPage.PAGE.isPortlet())return!1;return!0};
AdfAgent.prototype.removeResizeListener=function(a){AdfAssert.assertString(a);var b=this._resizeEventMap;AdfAssert.assertObject(b,"no resize listeners registered");var c=this.getElementById(a);if(c){var d=this.GetResizeEvents(),f=this._onResizeHandlerCallback;AdfAssert.assertFunction(f,"no resize listeners registered");for(var g=0;g<d.length;g++)this.removeBubbleEventListener(c,d[g],f)}AdfAssert.assertObject(b[a],"no resize listener registered by id, "+a);delete b[a]};
AdfAgent.prototype.addResizeListener=function(a,b){AdfAssert.assertString(a);AdfAssert.assertFunction(b);var c=this.getElementById(a);AdfAssert.assertDomNode(c);var d=this._resizeEventMap;if(!d)d=this._resizeEventMap={};d[a]&&AdfAssert.assert(!1,"already registered by id, "+a);var f=this._onResizeHandlerCallback;if(!f)f=this._onResizeHandlerCallback=this.createCallback(this._onResizeHandler);d[a]={listener:b,origOffsetWidth:c.offsetWidth,origOffsetHeight:c.offsetHeight};for(var d=this.GetResizeEvents(),
g=0;g<d.length;g++)this.addBubbleEventListener(c,d[g],f)};
AdfAgent.prototype._onResizeHandler=function(a){var b=this._resizeEventMap;AdfAssert.assertObject(b,"no resize listeners registered");a=this.getEventTarget(a);AdfAssert.assertDomNode(a,"resize dom node not found");for(var c,d;a;)if((d=a.id)&&(c=b[d]))break;else a=a.parentNode;if(c&&!c.onResizeTimeout&&(b=AdfPage.PAGE,d={id:d,myself:this},c.origOffsetWidth!=a.offsetWidth||c.origOffsetHeight!=a.offsetHeight))c.origOffsetWidth=a.offsetWidth,c.origOffsetHeight=a.offsetHeight,c.onResizeTimeout=b.scheduleTimer(this,
AdfAgent._onResizeHandlerTimeout,d,100)};AdfAgent._onResizeHandlerTimeout=function(a){var b=a.myself,a=a.id,c=b._resizeEventMap;AdfAssert.assertObject(c,"no resize listeners registered");var d=c[a];if(d)(b=b.getElementById(a))?(d.listener(),d.origOffsetWidth=b.offsetWidth,d.origOffsetHeight=b.offsetHeight,delete d.onResizeTimeout):delete c[a]};AdfAgent.prototype.GetResizeEvents=function(){return AdfAgent._RESIZE_EVENTS};AdfAgent.prototype.getPlatform=function(){return this._platform};
AdfAgent.prototype.getOS=function(){return this._os};AdfAgent.prototype.getVersion=function(){return this._version};AdfAgent.prototype.getDomWindow=function(){return this._window};AdfAgent.prototype.getDomDocument=function(){return this._document};AdfAgent.prototype.atLeast=function(a,b){return(!a||a==this.getPlatform())&&(!b||b<=this.getVersion())};AdfAgent.prototype.getElementById=function(a){return this._document.getElementById(a)};AdfAgent.prototype.getElementsByName=function(a){return this._document.getElementsByName(a)};
AdfAgent.prototype.elementsRemoved=function(){};AdfAgent.prototype.allElementsRemoved=function(){};AdfAgent.prototype.isSessionStorageEnabled=function(){return!0};AdfAgent.prototype.getSessionStorageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfAgent.prototype.removeSessionStorageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfAgent.prototype.setSessionStorageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfAgent.prototype.elementsAdded=function(){};
AdfAgent.prototype.getDescendantComponentsForNode=function(){AdfAssert.failedInAbstractFunction()};AdfAgent.prototype.setTextContent=function(a,b){AdfAssert.assertDomNode(a);b===null&&(b="");a.textContent=b};AdfAgent.prototype.getTextContent=function(a){return a.textContent};AdfAgent.prototype.setButtonTextContent=function(a,b){this.setTextContent(a,b)};AdfAgent.prototype.getWindowHeight=function(){return this._window.innerHeight};AdfAgent.prototype.getWindowWidth=function(){return this._window.innerWidth};
AdfAgent.prototype.getElementLeft=function(a){AdfAssert.assertDomNode(a);for(var b=a.ownerDocument.body,c=a.offsetParent,d=a.offsetLeft;c;)a=c,d+=a.offsetLeft,a!=b&&(d-=a.scrollLeft),c=c.offsetParent;return d};AdfAgent.prototype.getElementTop=function(a){AdfAssert.assertDomNode(a);var b=a.ownerDocument.body,c=a.offsetParent,d=a.offsetTop;for(this.getComputedStyle(a).position=="absolute"&&(d-=b.offsetTop);c;)a=c,d+=a.offsetTop,a!=b&&(d-=a.scrollTop),c=c.offsetParent;return d};
AdfAgent.prototype.getElementPageBounds=function(a){AdfAssert.assertDomNode(a);var b=this.getElementTop(a),c=this.getElementLeft(a);return{top:b,left:c,bottom:b+a.offsetHeight,right:c+a.offsetWidth}};AdfAgent.prototype.pointInElementBounds=function(a,b,c){var d=this.getElementTop(a);if(c>=d){var f=this.getElementLeft(a);if(b>=f)return c<=d+a.offsetHeight&&b<=f+a.offsetWidth}return!1};AdfAgent.prototype.pointInElementOrChildBounds=function(a,b,c){return this.pointInElementBounds(a,b,c)};
AdfAgent.getCSSLengthAsInt=function(a){return a.length>0&&a!="auto"?(a=parseInt(a),isNaN(a)&&(a=0),a):0};AdfAgent.prototype.getBoxSizing=function(a,b){b||(b=this.getComputedStyle(a));return b.boxSizing};
AdfAgent.prototype.getOuterWidth=function(a,b,c){c||(c=this.getComputedStyle(a));if(this.getBoxSizing(a,c)=="border-box")return b;var d=AdfAgent.getCSSLengthAsInt,b=b+d(c.paddingLeft)+d(c.paddingRight)+d(c.marginLeft)+d(c.marginRight);a.tagName.toUpperCase()!="TABLE"&&(b+=d(c.borderLeftWidth)+d(c.borderRightWidth));return b};
AdfAgent.prototype.getOuterHeight=function(a,b,c){c||(c=this.getComputedStyle(a));if(this.getBoxSizing(a,c)=="border-box")return b;var d=AdfAgent.getCSSLengthAsInt,b=b-d(c.paddingTop)+d(c.paddingBottom)+d(c.marginTop)+d(c.marginBottom);a.tagName.toUpperCase()!="TABLE"&&(b+=d(c.borderTopWidth)+d(c.borderBottomWidth));return b};
AdfAgent.prototype.setOuterWidth=function(a,b){var c=this.getComputedStyle(a);if(this.getBoxSizing(a,c)=="border-box")a.style.width=b+"px";else{var d=AdfAgent.getCSSLengthAsInt,f=b-d(c.paddingLeft)-d(c.paddingRight)-d(c.marginLeft)-d(c.marginRight);a.tagName.toUpperCase()!="TABLE"&&(f-=d(c.borderLeftWidth)+d(c.borderRightWidth));f<0&&(f=0);a.style.width=f+"px"}};
AdfAgent.prototype.getDomForCSSPropertyName=function(a){var b=this.GetCssToDomPropertyNameMap()[a];if(b)return b;a=a.split("-");len=a.length;for(var b=a[0],c=1;c<len;c++)b+=a[c].charAt(0).toUpperCase()+a[c].substring(1);return b};AdfAgent.prototype.GetCssToDomPropertyNameMap=function(){return AdfAgent._CSS_TO_DOM_MAP};AdfAgent.prototype.getStyleProperty=function(a,b){return a.getPropertyValue(b)};
AdfAgent.prototype.setOuterHeight=function(a,b){var c=this.getComputedStyle(a);if(this.getBoxSizing(a,c)=="border-box")a.style.height=b+"px";else{var d=AdfAgent.getCSSLengthAsInt,f=b-d(c.paddingTop)-d(c.paddingBottom)-d(c.marginTop)-d(c.marginBottom);a.tagName.toUpperCase()!="TABLE"&&(f-=d(c.borderTopWidth)+d(c.borderBottomWidth));f<0&&(f=0);a.style.height=f+"px"}};AdfAgent.prototype.getWindowClientWidth=function(a){return a.document.documentElement.clientWidth};
AdfAgent.prototype.getWindowClientHeight=function(a){return a.document.documentElement.clientHeight};AdfAgent.prototype.getWindowScrollWidth=function(a){return a.document.documentElement.scrollWidth};AdfAgent.prototype.getWindowScrollHeight=function(a){return a.document.documentElement.scrollHeight};AdfAgent.prototype.getBrowserViewportScrollTop=function(){return this.getDomDocument().documentElement.scrollTop};AdfAgent.prototype.getBrowserViewportScrollLeft=function(){return this.getDomDocument().documentElement.scrollLeft};
AdfAgent.prototype.getOverrideStyle=function(a){var b=a.style;b||(a.setAttribute("style",""),b=a.getAttribute("style"));return b};AdfAgent.prototype.getComputedStyle=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};
AdfAgent.prototype.copyStyle=function(a,b){AdfAssert.assertDomElement(b);AdfAssert.assertDomElement(a);var c=b.style,d=this.getComputedStyle(a),f=AdfAgent._SETTABLE_STYLE_PROPS;if(f==null){var f=[],g;for(g in d){var h=d[g];if(typeof h!="function"){try{c[g]=h}catch(j){continue}f.push(g)}}AdfAgent._SETTABLE_STYLE_PROPS=f}else{g=f.length;for(h=0;h<g;h++){var k=f[h];c[k]=d[k]}}};
AdfAgent.prototype.addBubbleEventListener=function(a,b,c){AdfAssert.assertString(b);AdfAssert.assertFunction(c);a.addEventListener(b,c,!1)};AdfAgent.prototype.removeBubbleEventListener=function(a,b,c){AdfAssert.assertString(b);AdfAssert.assertFunction(c);a.removeEventListener(b,c,!1)};AdfAgent.prototype.addEventCaptures=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);for(var c=AdfAgent._REDISTRIBUTE_EVENTS,d=c.length,f=0;f<d;f++)a.addEventListener(c[f],b,!0)};
AdfAgent.prototype.removeEventCaptures=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);for(var c=AdfAgent._REDISTRIBUTE_EVENTS,d=c.length,f=0;f<d;f++)a.removeEventListener(c[f],b,!0)};AdfAgent.prototype.addEventBubbles=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);for(var c=AdfAgent._REDISTRIBUTE_EVENTS,d=c.length,f=0;f<d;f++)a.addEventListener(c[f],b,!1)};
AdfAgent.prototype.removeEventBubbles=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);for(var c=AdfAgent._REDISTRIBUTE_EVENTS,d=c.length,f=0;f<d;f++)a.removeEventListener(c[f],b,!1)};AdfAgent.prototype.addKeyEventListener=function(a,b){a.addEventListener("keydown",b,!1)};AdfAgent.prototype.removeKeyEventListener=function(a,b){a.removeEventListener("keydown",b,!1)};
AdfAgent.prototype.startDocumentKeyEventCapture=function(a,b){AdfAssert.assert(a);AdfAssert.assertDomElement(b);for(var c=b.ownerDocument,d=AdfAgent.KEY_EVENTS,f=d.length,g=0;g<f;g++){var h=d[g],j=a[h];j&&(AdfAssert.assertFunction(j),c.addEventListener(h,j,!0))}return null};AdfAgent.prototype.endDocumentKeyEventCapture=function(a,b){AdfAssert.assert(a);AdfAssert.assertDomElement(b);for(var c=b.ownerDocument,d=AdfAgent.KEY_EVENTS,f=d.length,g=0;g<f;g++){var h=d[g];c.removeEventListener(h,a[h],!0)}};
AdfAgent.prototype.beginDirtyStateTracking=function(a,b){if(this._dirtyState==null)this._dirtyState={};var c=b==null?a.getPeer().getDomElement():b;AdfAssert.assertDomElement(c);var d=c.getAttribute("id");AdfAssert.assertNonEmptyString(d);this._dirtyState[d]=!1;if(this._valueChangeCallback==null)this._valueChangeCallback=this.createCallback(this._valueChangeHandler);this.addBubbleEventListener(c,"change",this._valueChangeCallback)};
AdfAgent.prototype._valueChangeHandler=function(a){a=a.currentTarget.getAttribute("id");this._dirtyState[a]=!0;AdfLogger.LOGGER.fine("Detected value change, marking component dirty. Element ID: ",a)};AdfAgent.prototype.endDirtyStateTracking=function(a,b){var c=b==null?a.getPeer().getDomElement():b;AdfAssert.assertDomElement(c);this.removeBubbleEventListener(c,"change",this._valueChangeCallback);this._dirtyState!=null&&(c=c.getAttribute("id"),AdfAssert.assertNonEmptyString(c),delete this._dirtyState[c])};
AdfAgent.prototype.isDirty=function(a,b){if(this._dirtyState==null)return!1;var c=b==null?a.getPeer().getDomElement():b;AdfAssert.assertDomElement(c);return this._dirtyState[c.getAttribute("id")]};AdfAgent.prototype.setDirty=function(a,b,c){a=b==null?a.getPeer().getDomElement():b;AdfAssert.assertDomElement(a);a=a.getAttribute("id");AdfAssert.assertNonEmptyString(a);if(this._dirtyState==null)this._dirtyState={};this._dirtyState[a]=c};AdfAgent.prototype.getKeyCode=function(a){return a.keyCode};
AdfAgent.prototype.isFunctionKey=function(a){return a.charCode==0};AdfAgent.prototype.getModifierDisplayName=function(a){return AdfAgent._MODIFIER_DISPLAY_NAMES[a]};AdfAgent.prototype.getEventTarget=function(a){return a.target};AdfAgent.prototype._getEventRelatedTarget=function(a){a=a.relatedTarget;try{if(a&&a.nodeType)return a}catch(b){a=null}return a};
AdfAgent.prototype.getEventToElement=function(a){var b=a.type;if(b=="mouseover")return this.getEventTarget();else if(b=="mouseout")return this._getEventRelatedTarget(a);return null};AdfAgent.prototype.getEventFromElement=function(a){var b=a.type;if(b=="mouseover")return this._getEventRelatedTarget(a);else if(b=="mouseout")return this.getEventTarget();return null};
AdfAgent.prototype.getComponentEvent=function(a,b,c){var d=this.mapNativeToComponentEventType(b.type);if(d)if(d==AdfComponentEvent.FOCUS_EVENT_TYPE){if(c===void 0)return new AdfDomComponentEvent(a,d,b);return new AdfDomComponentFocusEvent(c,a,d,b)}else return d==AdfComponentEvent.BLUR_EVENT_TYPE?new AdfDomComponentEvent(a,d,b):d==AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE?new AdfDomShowContextMenuEvent(a,d,b):this.CreateUIInputEvent(a,d,b);else return AdfLogger.LOGGER.warning("unmapped event:",AdfUIUtils.getPropertiesAsString(b)),
null};AdfAgent.prototype.CreateUIInputEvent=function(a,b,c){return new AdfDomUIInputEvent(a,b,c)};
AdfAgent.prototype.elementFromPagePoint=function(a,b,c,d,f){AdfAssert.assertNumber(a);AdfAssert.assertNumber(b);AdfAssert.assertFunctionOrNull(f);var g=this._document,h=g.body,j=null;if(c)if(c.parentNode!=g.documentElement){g=c;c=null;do this.pointInElementBounds(g,a,b)?c?this.pointInElementChrome(g,a,b)&&(c=g):c=g:(c=null,j=g),g=g.parentNode;while(g!=h)}else c=null;if(c&&this.pointInElementChrome(c,a,b))return c;g={target:c,zIndex:0,done:!1};this._elementFromPagePointImpl(c?c:h,a,b,g,!1,j,d,f);c=
g.target;if(!c)g.zIndex=0,this._elementFromPagePointImpl(h,a,b,g,!0,null,d,f),c=g.target;return c};
AdfAgent.prototype._elementFromPagePointImpl=function(a,b,c,d,f,g,h,j){for(a=a.firstChild;a&&!d.done;){if(a.nodeType==1&&a!=g&&(j==null||!j.call(h,a))){var k=this.getComputedStyle(a);if(k&&k.display!="none"){var l=k.zIndex;l=="auto"&&(l=null);if(k.visibility!="hidden"&&(l&&l>=d.zIndex||!l&&d.zIndex<1)){var k=f,m=!1,n=this.getElementTop(a);if(n<=c){var o=a.offsetHeight,p=o==0;if(p||n+o>=c)if(n=this.getElementLeft(a),n<=b){var o=a.offsetWidth,q=o==0;if(q||n+o>=b){k=!0;m=!q&&!p;if(this.pointInElementChrome(a,
b,c))m=!0,d.done=!0;if(m)d.target=a}}}if(k&&!d.done){var r,s;if(!m)s=d.target,r=d.zIndex;if(l)d.zIndex=l;this._elementFromPagePointImpl(a,b,c,d,f,null,h,j);if(!m&&s==d.target)d.zIndex=r}}}}a=a.nextSibling}};AdfAgent.prototype.getNodeName=function(a){return a.nodeName};AdfAgent.prototype.getLocalName=function(a){return a.localName};AdfAgent.prototype.getNodeXml=function(a){return(new XMLSerializer).serializeToString(a)};AdfAgent.prototype.getPrefix=function(a){return a.prefix};
AdfAgent.prototype.isElementHTML=function(a){AdfAssert.assertDomNode(a);return!0};AdfAgent.prototype.setCssFloat=function(a,b){a.style.cssFloat=b};AdfAgent.prototype.getAttributeName=function(a){return a.name};AdfAgent.prototype.getAttribute=function(a,b){return a.getAttribute(b)};AdfAgent.prototype.isAttributeSpecified=function(a){return a.specified};AdfAgent.prototype.replaceNode=function(a,b){return b.parentNode.replaceChild(a,b)};
AdfAgent.prototype.setAttribute=function(a,b,c){var d=a[b];(d==void 0||typeof d!="boolean"||c!="false")&&a.setAttribute(b,c)};AdfAgent.prototype.getIntAttribute=function(a,b,c){AdfAssert.assertDomElement(a);c==void 0&&(c=null);a.hasAttribute(b)?(a=a.getAttribute(b),a=parseInt(a),isNaN(a)&&(a=c,AdfLogger.LOGGER.warning("The value of attribute named ",b," cannot be converted into an integer."))):a=c;return a};
AdfAgent.prototype.getBooleanAttribute=function(a,b,c){AdfAssert.assert(a);c==void 0&&(c=null);a=a.getAttribute(b);a==null?a=c:a=="true"?a=!0:a=="false"?a=!1:(a=c,AdfLogger.LOGGER.warning("The value of attribute named ",b," cannot be converted into a boolean."));return a};AdfAgent.prototype.enableUserSelect=function(){};AdfAgent.prototype.disableUserSelect=function(){};AdfAgent.prototype.createTouchMoveManager=function(a,b,c){return new AdfTouchMoveManager(a,b,c)};
AdfAgent.prototype.stopPropagation=function(a){a.stopPropagation()};AdfAgent.prototype.preventDefault=function(a){a.preventDefault()};AdfAgent.prototype.isDefaultPrevented=function(a){return a.defaultPrevented};AdfAgent.prototype.eatEvent=function(a){this.stopPropagation(a);this.preventDefault(a)};AdfAgent.prototype.getMousePosition=function(a){return{x:a.pageX,y:a.pageY}};
AdfAgent.prototype.isEventInElement=function(a,b){var c=this.getMousePosition(a),d=this.getElementPosition(b),f=c.x,g=d.x;if(f>=g&&f<=g+b.offsetWidth&&(c=c.y,d=d.y,c>=d&&c<=d+b.offsetHeight))return!0;return!1};
AdfAgent.prototype.getElementPosition=function(a){var b=a.ownerDocument.body,c=a.offsetParent,d=a.offsetLeft,f=a.offsetTop;this.getComputedStyle(a).position=="absolute"&&(f-=b.offsetTop);for(var g=AdfAgent.getCSSLengthAsInt;c;){a=c;d+=a.offsetLeft;f+=a.offsetTop;if(a!=b){var h=this.getComputedStyle(a);d+=g(h.borderLeftWidth);f+=g(h.borderTopWidth);d-=a.scrollLeft;f-=a.scrollTop}c=c.offsetParent}return{x:d,y:f}};AdfAgent.prototype.isMouseEvent=function(a){return AdfAgent._MOUSE_EVENTS[a.type]!=void 0};
AdfAgent.prototype.isChromeEvent=function(){return!1};AdfAgent.prototype.pointInElementChrome=function(){return!1};AdfAgent.prototype.cloneEvent=function(a,b){if(this.isMouseEvent(a)){var c=a.type;newEvent=this._copyMouseEvent(a,c,b);var d=b?b:a.target,f=d.ownerDocument;f.addEventListener(c,this.stopPropagation,!0);d.dispatchEvent(newEvent);f.removeEventListener(c,this.stopPropagation,!0);return newEvent}else return a};
AdfAgent.prototype.copyEvent=function(a){return this.isMouseEvent(a)||a.type=="contextmenu"?newEvent=this._copyMouseEvent(a,a.type):a};AdfAgent.prototype._copyMouseEvent=function(a,b,c){var c=(c?c:a.target).ownerDocument,d=c.createEvent("MouseEvents");d.initMouseEvent(b,a.bubbles,a.cancelable,c.contentWindow,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);return d};AdfAgent.prototype.dispatchEvent=function(a,b){return a.dispatchEvent(b)};
AdfAgent.prototype.checkMouseOutEvent=function(a,b){var c=!1,c=this.getElementPosition(a),d=this.getMousePosition(b),c=d.x>c.x&&d.x<c.x+a.offsetWidth&&d.y>c.y&&d.y<c.y+a.offsetHeight;return!c};AdfAgent.prototype.isLeftButton=function(a){return a.button==0};AdfAgent.prototype.isSelectionToggle=function(a){var b=!1,c=AdfAgent.MAC_OS==this.getOS();c&&a.metaKey?b=!0:!c&&a.ctrlKey&&(b=!0);return b};AdfAgent.prototype.isLeftButtonClick=function(a){return a.type=="click"};
AdfAgent.prototype.startMouseEventCapture=function(a){for(type in a)type in AdfAgent.KEY_EVENTS||this._document.addEventListener(type,a[type],!0)};AdfAgent.prototype.stopMouseEventCapture=function(a){for(type in a)type in AdfAgent.KEY_EVENTS||this._document.removeEventListener(type,a[type],!0)};AdfAgent.prototype.mapNativeToComponentEventType=function(a){return AdfAgent._NATIVE_TO_COMPONENT_MAPPINGS[a]};
AdfAgent.prototype.createDefaultLogWriter=function(){var a=this.CreateNativeLogWriter(),b=AdfAgent._LOG_WRITERS,c=this._window,d=c[b];return typeof d=="function"&&AdfLogWriter.prototype.isPrototypeOf(d.prototype)?new d(c,a):(b!="NativeLogWriter"&&AdfLogger.LOGGER.warning('"',AdfAgent.logWritersString,'", is an undefined LogWriter or is not a subclass of AdfLogWriter. ',"Now using the native log writer. Set the Log Writer parameter in the ","web.xml file to use a specific LogWriter."),this.CreateDefaultLogWriter(a))};
AdfAgent.prototype.CreateDefaultLogWriter=function(a){return AdfAssert.DEBUG?new AdfConsoleLogWriter(this._window,a):a};AdfAgent.prototype.CreateNativeLogWriter=function(){return new AdfAlertLogWriter};AdfAgent.prototype.setImageSource=function(a,b){a.src=b};AdfAgent.prototype.setImageTooltip=function(a,b){a.alt=b};AdfAgent.prototype.createXmlDocument=function(){return this.getDomDocument().implementation.createDocument("","",null)};AdfAgent.prototype.getFormElement=function(a,b){return a.elements[b]};
AdfAgent.prototype.showBusyCursor=function(a,b){AdfAssert.assertBoolean(b);if(b){if(!this._busyCursorShown)this._oldBodyCursor=a.body.style.cursor,this._busyCursorShown=!0,a.body.style.cursor="wait"}else if(this._busyCursorShown=!1,a.body.style.cursor=="wait"){if(!this._oldBodyCursor)this._oldBodyCursor="auto";a.body.style.cursor=this._oldBodyCursor}};AdfAgent.prototype.forceCursorChange=function(){};
AdfAgent.prototype.setCursor=function(a,b){AdfAssert.assertDomElement(a);AdfAssert.assertString(b);a.style.cursor=b};AdfAgent.eatEventCallback=function(a){var b=AdfAgent.AGENT;(a=a!=null?a:b.getDomWindow().event)&&b.eatEvent(a);return!1};AdfAgent.preventDefaultCallback=function(a){var b=AdfAgent.AGENT;(a=a!=null?a:b.getDomWindow().event)&&b.preventDefault(a);return!1};
AdfAgent.prototype.installKeyboardBlocker=function(a,b){b?(a.addEventListener("keypress",AdfAgent.eatEventCallback,!0),a.addEventListener("keyup",AdfAgent.eatEventCallback,!0),a.addEventListener("keydown",AdfAgent.eatEventCallback,!0)):(a.removeEventListener("keypress",AdfAgent.eatEventCallback,!0),a.removeEventListener("keyup",AdfAgent.eatEventCallback,!0),a.removeEventListener("keydown",AdfAgent.eatEventCallback,!0))};AdfAgent.prototype.setOpacity=function(a,b){a.style.opacity=b/100};
AdfAgent.prototype.disableBrowserContextMenu=function(a,b){b?this.addBubbleEventListener(a,"contextmenu",this.preventDefault):this.removeBubbleEventListener(a,"contextmenu",this.preventDefault)};AdfAgent.prototype.execScript=function(a,b){a.eval(b)};
AdfAgent.prototype.createStyle=function(a){var b=document.createElement("style");b.setAttribute("type","text/css");b.appendChild(document.createTextNode(a));AdfDomUtils.getFirstDescendentElement(AdfAgent.AGENT.getDomDocument().documentElement,"HEAD").appendChild(b);return b};AdfAgent.prototype.setExpandoProperty=function(a,b,c){AdfAssert.assertDomElement(a);AdfAssert.assertString(b);a[b]=c;AdfAssert.assert(this.getExpandoProperty(a,b)==c)};
AdfAgent.prototype.getExpandoProperty=function(a,b,c){AdfAssert.assertDomElement(a);AdfAssert.assertString(b);a=a[b];return a!=void 0?a:c};AdfAgent.prototype.getCursor=function(a){return a};AdfAgent.getCSS2Cursor=function(a){return AdfAgent._CSS3_TO_CSS2_MAP[a]};AdfAgent.prototype.scrollToPos=function(a,b,c){if(c!=null)a.scrollTop=c;if(b!=null)a.scrollLeft=b};
AdfAgent.prototype.isClipped=function(a){if(a.scrollWidth>a.offsetWidth||a.scrollHeight>a.offsetHeight)return!0;var b=this._document.body;if(a==b||a==this._document)return!1;var c=a.offsetParent,d=a.offsetLeft,f=a.offsetTop,g=a.offsetWidth,h=a.offsetHeight,j=this.getComputedStyle(a),k=AdfAgent.getCSSLengthAsInt(j.paddingLeft),l=AdfAgent.getCSSLengthAsInt(j.paddingRight),m=AdfAgent.getCSSLengthAsInt(j.paddingTop),n=AdfAgent.getCSSLengthAsInt(j.paddingBottom);f+=m;d+=k;h-=m+n;g-=k+l;for(j=j.position==
"absolute";c&&c!=b;){if(c.clientHeight>0&&c.clientWidth>0){if(d+2<c.scrollLeft||f+2<c.scrollTop)return!0;if(d+g-2>c.scrollLeft+c.clientWidth||f+h-2>c.scrollTop+c.clientHeight)if(!j||this.getComputedStyle(c).overflow!="visible")return!0}a=c;j=this.getComputedStyle(a);j.position=="absolute"?(k=AdfAgent.getCSSLengthAsInt(j.left),l=AdfAgent.getCSSLengthAsInt(j.top),j=!0):(k=a.offsetLeft,l=a.offsetTop,j=!1);d+=k-a.scrollLeft;f+=l-a.scrollTop;c=c.offsetParent}return!1};
AdfAgent.prototype.getPreferredKeyEventForRepetition=function(){if(this.getOS()==AdfAgent.MAC_OS)return AdfUIInputEvent.KEY_PRESS_EVENT_TYPE;return AdfUIInputEvent.KEY_DOWN_EVENT_TYPE};AdfAgent.prototype.isDisabledOptionSupported=function(){return!0};AdfAgent.prototype.resizeStretchedChild=function(){};AdfAgent.prototype.resizeStretchedElement=function(){};
AdfAgent.prototype.prepareStretchedChild=function(a,b){AdfAssert.assert(b!=null,"parent padding not specified");var c=a.style;c.position="absolute";c.width="auto";c.height="auto";c.left=b;c.top=b;c.bottom=b;c.right=b};AdfAgent.prototype.repositionStretchedElement=function(a,b,c,d,f){if(a){a=a.style;if(b)a.top=b;if(d)a.left=d;if(c)a.height="auto",a.bottom=c;if(f)a.width="auto",a.right=f}};AdfAgent.prototype.isEqualIcon=function(a,b){return a.parentNode.innerHTML==b.parentNode.innerHTML};
AdfAgent.prototype.addOption=function(a,b,c,d,f,g,h){var j=this._document.createElement("option");a.options.add(j,h);if(c!=null)j.value=c;b&&AdfAgent.AGENT.setTextContent(j,b);j.selected=d;j.disabled=f;if(g)j.title=g};AdfAgent.prototype.removeIdsFromDomSubTree=function(a){var b=a.id;if(b!=null&&b!="")a.id="";var a=a.childNodes,c;for(c in a)b=a[c],b.nodeType==1&&this.removeIdsFromDomSubTree(b)};
AdfAgent.prototype.modifyIdsInDomSubTree=function(a,b,c){var d=a.id;if(d!=null&&d!="")a.id=b?c+"::"+d:d+"::"+c;var a=a.childNodes,f;for(f in a)d=a[f],d.nodeType==1&&this.modifyIdsInDomSubTree(d,b,c)};AdfAgent.prototype.removeStyleProperty=function(a,b){a.style.removeProperty(b)};AdfAgent.prototype.setTableRowHeight=function(a,b){a.style.height=b+"px"};AdfAgent.prototype.autoCompleteForm=function(){};AdfAgent.prototype.getTableRows=function(a){return a.rows};AdfAgent.prototype.getTableRowCells=function(a){return a.cells};
AdfAgent.prototype.getTableRow=function(a,b){return a.rows[b]};AdfAgent.prototype.parseXML=function(a){var b=null;if(a&&a.length){var c=new DOMParser;try{b=c.parseFromString(a,"text/xml")}catch(d){}}return b};AdfAgent.prototype.cloneNode=function(a){return a.cloneNode(!0)};AdfAgent.prototype.clearSubtreeIds=function(a){if(a.id)a.id="";if(a.name)a.name="";for(a=a.firstChild;a;)a.nodeType==1&&this.clearSubtreeIds(a),a=a.nextSibling};AdfAgent.prototype.getCapabilities=function(){return this._capabilities};
AdfAgent.prototype.isDragPrepEvent=function(a){return a instanceof AdfUIInputEvent&&a.getType()==AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE&&a.isLeftButtonPressed()};
AdfAgent.prototype.createDraggableNode=function(a){var b=this.cloneNode(a);b.nodeType==1&&this.clearSubtreeIds(b);AdfDomUtils.addCSSClassName(a,AdfAgent.DRAG_GHOST_STYLECLASS);this.copyStyle(a,b);AdfDomUtils.removeCSSClassName(a,AdfAgent.DRAG_GHOST_STYLECLASS);if(b.nodeType==1){var c=a.ownerDocument,d,f;if(b.nodeName=="TD"||b.nodeName=="TH")d=a.parentNode.parentNode.parentNode,f=c.createElement("TR"),f.appendChild(b),b=f;if(b.nodeName=="TR"){if(a.nodeName=="TR")for(var d=a.parentNode.parentNode,f=
this.getTableRowCells(a),g=this.getTableRowCells(b),h=f.length,j=this.IsComputedWidthAuto(),k=0;k<h;k++)j?g[k].width=f[k].offsetWidth:g[k].style.width=this.getComputedStyle(f[k]).width,g[k].noWrap=!0;f=c.createElement("TBODY");f.appendChild(b);b=f}if(b.nodeName=="TBODY"||b.nodeName=="THEAD"||b.nodeName=="TFOOT"){if(!d)d=a.parentNode;f=c.createElement("TABLE");f.cellSpacing=d.cellSpacing;f.cellPadding=d.cellPadding;f.border=d.border;this.copyStyle(d,f);f.appendChild(b);b=f}}this.CopyDragSize(a,b);
return b};AdfAgent.prototype.CopyDragSize=function(a,b){var c=b.style;c.position="absolute";c.width=a.offsetWidth+"px";c.height=a.offsetHeight+"px";c.top="auto";c.left="auto";c.right="auto";c.bottom="auto";if(c.margin=="auto")c.margin=""};AdfAgent.prototype.IsComputedWidthAuto=function(){return!1};AdfAgent.prototype.createContextMenuEventGenerator=function(){return new AdfTouchContextMenuManager};AdfAgent.prototype.showTooltip=function(){};AdfAgent.prototype.supportsTransientStyleClasses=function(){return!0};
AdfAgent._parseFloatVersion=function(a,b){var c=a.match(b);if(c&&(c=c[1]))return parseFloat(c)};AdfAgent._isGeckoAgentSupported=function(a,b){if(b<1.8||a.indexOf("firefox/")==-1)return!1;if(b>1.8)return!0;var c=AdfAgent._parseFloatVersion(a,/firefox\/(\d+[.]\d+)/);if(c<2||c==void 0)return!1;if(c>=2.1)return!0;if(c=a.match(/firefox\/(2([.]\d+){1,3})/))return c[1]!="2.0.0.1";return!1};
AdfAgent._NATIVE_TO_COMPONENT_MAPPINGS={blur:AdfComponentEvent.BLUR_EVENT_TYPE,focus:AdfComponentEvent.FOCUS_EVENT_TYPE,focusin:AdfComponentEvent.FOCUS_EVENT_TYPE,focusout:AdfComponentEvent.BLUR_EVENT_TYPE,click:AdfUIInputEvent.CLICK_EVENT_TYPE,dblclick:AdfUIInputEvent.DOUBLE_CLICK_EVENT_TYPE,mousedown:AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,mouseup:AdfUIInputEvent.MOUSE_UP_EVENT_TYPE,mousemove:AdfUIInputEvent.MOUSE_MOVE_EVENT_TYPE,mouseover:AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,mouseout:AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE,
keydown:AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,keyup:AdfUIInputEvent.KEY_UP_EVENT_TYPE,keypress:AdfUIInputEvent.KEY_PRESS_EVENT_TYPE,contextmenu:AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE};AdfAgent._REDISTRIBUTE_EVENTS=["click","dblclick","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","focus","blur","contextmenu"];AdfAgent.KEY_EVENTS=["keydown","keypress","keyup"];AdfAgent._MOUSE_EVENTS={click:1,mousedown:1,mouseup:1,mouseover:1,mousemove:1,mouseout:1};
AdfAgent._CSS3_TO_CSS2_MAP={auto:"auto","default":"default",none:"default","context-menu":"default",help:"help",pointer:"pointer",progress:"wait",wait:"wait",cell:"crosshair",crosshair:"crosshair",text:"text","vertical-text":"text",alias:"crosshair",copy:"crosshair",move:"move","no-drop":"move","not-allowed":"move ","e-resize":"e-resize","n-resize":"n-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","s-resize":"s-resize","se-resize":"se-resize","sw-resize":"sw-resize","w-resize":"w-resize",
"ew-resize":"e-resize","ns-resize":"s-resize","nesw-resize":"move","col-resize":"e-resize","row-resize":"s-resize","all-scroll":"move",inherit:"inherit"};AdfAgent._CSS_TO_DOM_MAP={};AdfAgent._RESIZE_EVENTS=["DOMAttrModified","DOMSubtreeModified"];AdfAgent.DRAG_GHOST_STYLECLASS="p_AFDragGhost";
function AdfTouchContextMenuManager(){this.Init()}AdfObject.createSubclass(AdfTouchContextMenuManager);AdfTouchContextMenuManager.prototype.Init=function(){AdfTouchContextMenuManager.superclass.Init.call(this)};AdfTouchContextMenuManager.prototype.dispose=function(){};AdfTouchContextMenuManager.prototype.deriveContextMenuEvent=function(){return null};
function AdfTouchMoveManager(a,b,c){this.Init(a,b,c)}AdfObject.createSubclass(AdfTouchMoveManager);AdfTouchMoveManager.prototype.Init=function(){AdfTouchMoveManager.superclass.Init.call(this)};AdfTouchMoveManager.prototype.unregister=function(){};
function AdfDomUIInputEvent(a,b,c){arguments.length&&this.Init(a,b,c)}AdfObject.createSubclass(AdfDomUIInputEvent,AdfUIInputEvent);AdfDomUIInputEvent.prototype.getDoesBubbles=function(){return this.getType()!=AdfUIInputEvent.MOUSE_MOVE_EVENT_TYPE};AdfDomUIInputEvent.prototype.getOffsetX=function(){var a=AdfDomUtils.getElement(this.getNativeEventTarget());return this.getClientX()-AdfAgent.AGENT.getElementLeft(a)};
AdfDomUIInputEvent.prototype.getOffsetY=function(){var a=AdfDomUtils.getElement(this.getNativeEventTarget());return this.getClientY()-AdfAgent.AGENT.getElementTop(a)};AdfDomUIInputEvent.prototype.getClientX=function(){return this.Event.clientX};AdfDomUIInputEvent.prototype.getClientY=function(){return this.Event.clientY};AdfDomUIInputEvent.prototype.getPageX=function(){return this.Event.clientX};AdfDomUIInputEvent.prototype.getPageY=function(){return this.Event.clientY};
AdfDomUIInputEvent.prototype.getScreenX=function(){return this.Event.screenX};AdfDomUIInputEvent.prototype.getScreenY=function(){return this.Event.screenY};AdfDomUIInputEvent.prototype.getButtons=function(){switch(this.Event.button){case 0:return AdfUIInputEvent.LEFT_BUTTON_FLAG;case 1:return AdfUIInputEvent.MIDDLE_BUTTON_FLAG;case 2:return AdfUIInputEvent.RIGHT_BUTTON_FLAG;default:return 0}};AdfDomUIInputEvent.prototype.getKeyCode=function(){return this.Event.keyCode};
AdfDomUIInputEvent.prototype.getKeyModifiers=function(){var a=this.Event,b=a.shiftKey*AdfKeyStroke.SHIFT_MASK|a.ctrlKey*AdfKeyStroke.CTRL_MASK|a.altKey*AdfKeyStroke.ALT_MASK;a.metaKey&&(b|=AdfKeyStroke.META_MASK);return b};AdfDomUIInputEvent.prototype.getNativeEvent=function(){return this.Event};AdfDomUIInputEvent.prototype.getNativeEventTarget=function(){var a=this.Event;return a?AdfAgent.AGENT.getEventTarget(a):null};
AdfDomUIInputEvent.prototype.clone=function(){var a=AdfAgent.AGENT.cloneEvent(this.Event);return new this.constructor(this.getSource(),this.getType(),a)};AdfDomUIInputEvent.prototype.cancel=function(){AdfDomUIInputEvent.superclass.cancel.call(this);AdfAgent.AGENT.preventDefault(this.Event)};
AdfDomUIInputEvent.prototype.toDebugString=function(){var a=AdfDomUIInputEvent.superclass.toDebugString.call(this);return a.substring(0,a.length-1)+", nativeEvent="+this.getNativeEvent()+", native target="+this.getNativeEventTarget()+"]"};AdfDomUIInputEvent.prototype.Init=function(a,b,c){AdfAssert.assert(c,"Native event must be specified");AdfDomUIInputEvent.superclass.Init.call(this,a,b);this.Event=c};AdfDomUIInputEvent.prototype.GetSourceDomElement=function(){return AdfRichUIPeer.getDomElementForComponent(this.getSource())};
function AdfDomShowContextMenuEvent(){AdfDomShowContextMenuEvent.superclass.Init.apply(this,arguments)}AdfObject.createSubclass(AdfDomShowContextMenuEvent,AdfDomComponentEvent);AdfDomShowContextMenuEvent.prototype.isPositionalRequest=function(){return AdfDomUIInputEvent.prototype.getButtons.apply(this)&AdfUIInputEvent.RIGHT_BUTTON_FLAG};
function AdfNavigationHistoryAgent(){this.Init()}AdfObject.createSubclass(AdfNavigationHistoryAgent);AdfNavigationHistoryAgent.InitClass=function(){this._STATE_SEPARATOR="@"};AdfNavigationHistoryAgent.prototype.Init=function(){AdfNavigationHistoryAgent.superclass.Init.call(this);this._loadCounter=0};
AdfNavigationHistoryAgent.getInstance=function(){if(AdfNavigationHistoryAgent._instance==void 0){var a=AdfAgent.AGENT;switch(a.getPlatform()){case AdfAgent.GECKO_PLATFORM:AdfNavigationHistoryAgent._instance=new AdfGeckoNavigationHistoryAgent;break;case AdfAgent.IE_PLATFORM:AdfNavigationHistoryAgent._instance=a.getVersion()>7?new AdfIE8NavigationHistoryAgent:new AdfIENavigationHistoryAgent;break;case AdfAgent.WEBKIT_PLATFORM:AdfNavigationHistoryAgent._instance=new AdfSafariNavigationHistoryAgent;break;
case AdfAgent.OPERA_PLATFORM:AdfNavigationHistoryAgent._instance=new AdfOperaNavigationHistoryAgent;break;default:AdfLogger.LOGGER.severe("Browser history management is not supported on this platform")}}return AdfNavigationHistoryAgent._instance};
AdfNavigationHistoryAgent.prototype.initialize=function(a,b){this._currentViewId=this._defaultViewId=a;this._initialized=!0;this._currentParams=this._defaultParams=this._getDefaultQueryParams();if(b)this._currentParams=b,this._updateHash(this.GetViewInfoFromBrowserURI().id,b,!0)};AdfNavigationHistoryAgent.prototype.isInitialized=function(){return!0==this._initialized};
AdfNavigationHistoryAgent.prototype.setCurrentPage=function(a,b,d){this._currentViewId=a;b==void 0&&(b=null);this._currentParams=b;if(d!=void 0&&d!=null&&d==this._pendingLoadId)this.setQueryString(b,!0),this._pendingLoadId=this._pendingParams=this._pendingViewId=null;d||this.AddHistoryEntry(a,b)};AdfNavigationHistoryAgent.prototype.setQueryString=function(a,b){a==void 0&&(a=null);var d=this.GetViewInfoFromBrowserURI(),e=d.id;if(d.params!=a)this._currentParams=a,this.SetQueryStringImpl(e,a,b)};
AdfNavigationHistoryAgent.prototype.startTrackingURI=function(a){this._callbackObj=a;this.ValidateCurrentView()};AdfNavigationHistoryAgent.prototype.dispose=function(){};AdfNavigationHistoryAgent.prototype.SetViewIdOnURI=function(a,b){var d=this.GetViewInfoFromBrowserURI();return d.id!=a||d.params!=b?(this._updateHash(a,b,!1),!0):!1};AdfNavigationHistoryAgent.prototype.AddHistoryEntry=function(a,b){return this.SetViewIdOnURI(a,b)};
AdfNavigationHistoryAgent.prototype.ValidateCurrentView=function(a,b){if(!a)var d=this.GetViewInfoFromBrowserURI(),a=d.id,b=d.params;return a!=this._currentViewId||b!=this._currentParams?this._loadView(a,b):null};
AdfNavigationHistoryAgent.prototype.GetViewInfoFromBrowserURI=function(){var a=this.GetDomWindow(),b={};b.params=this._getDefaultQueryParams();var d=a.location.href,e=d.indexOf("#"),a=null;if(e>0&&(d=d.substring(e+1))&&d.length>0)if(d=decodeURIComponent(d),d.charAt(0)==AdfNavigationHistoryAgent._STATE_SEPARATOR?b.params=d.substring(1):d.indexOf(AdfNavigationHistoryAgent._STATE_SEPARATOR)<0?a=d:(d=d.split(AdfNavigationHistoryAgent._STATE_SEPARATOR),a=d[0],b.params=d[1]),b.params=="")b.params=null;
if(!a||a.length<1)a=this._defaultViewId;b.id=a;return b};AdfNavigationHistoryAgent.prototype.GetDomWindow=function(){return AdfPage.PAGE.getDomWindow()};AdfNavigationHistoryAgent.prototype.GetDomDocument=function(){return AdfPage.PAGE.getDomDocument()};AdfNavigationHistoryAgent.prototype.SetQueryStringImpl=function(a,b,d){this._updateHash(a,b,d)};AdfNavigationHistoryAgent.prototype._getDefaultQueryParams=function(){var a=null,b=this.GetDomWindow().location.search;b&&b.length>0&&(a=b);return a};
AdfNavigationHistoryAgent.prototype._updateHash=function(a,b,d){a=a==this._defaultViewId?"":a;b!=this._defaultParams&&(a+=AdfNavigationHistoryAgent._STATE_SEPARATOR,b!=void 0&&b!=null&&b.length>0&&(a+=b));a="#"+encodeURIComponent(a);d?this.GetDomWindow().location.replace(a):this.GetDomWindow().location.hash=a};
AdfNavigationHistoryAgent.prototype._loadView=function(a,b){if(!this._callbackObj||a==this._pendingViewId&&b==this._pendingParams)return null;this._pendingViewId=a;this._pendingParams=b;a==this._defaultViewId&&b==this._defaultParams&&(a=null);this._pendingLoadId=this._loadCounter++;this._callbackObj.loadView(a,b,this._pendingLoadId);return{id:this._pendingViewId,params:this._pendingParams}};
function AdfSeleniumPerformanceLogWriter(a,b){this._isPerfLogger=null;this._logString="";this.Init(a,b)}AdfObject.createSubclass(AdfSeleniumPerformanceLogWriter,AdfLogWriter);AdfSeleniumPerformanceLogWriter.prototype.Init=function(a,b){AdfAssert.assertPrototype(b,AdfLogWriter);AdfSeleniumPerformanceLogWriter.superclass.Init.call(this,a,b);this._backupLogWriter=b};
AdfSeleniumPerformanceLogWriter.prototype.PublishImpl=function(a){if(this._isPerformanceLogger()){if(a.message!=null){var b=a.message.split(";",3);if(b.length==3){var d=b[0],b=parseInt(b[2]);isNaN(b)||(this._logString.length>0&&(this._logString+=String.fromCharCode(30)),this._logString+=d+String.fromCharCode(29)+b)}}}else this._backupLogWriter.PublishImpl.apply(this._backupLogWriter,arguments)};
AdfSeleniumPerformanceLogWriter.prototype.getLogValueAndClear=function(){var a=this._logString;this._logString="";return a};AdfSeleniumPerformanceLogWriter.prototype.close=function(){AdfSeleniumPerformanceLogWriter.superclass.close.apply(this,arguments);delete this._logString;this._backupLogWriter.close()};AdfSeleniumPerformanceLogWriter.prototype.flush=function(){this.CheckIfClosed();this._isPerformanceLogger()||this._backupLogWriter.flush.apply(this._backupLogWriter,arguments)};
AdfSeleniumPerformanceLogWriter.prototype._isPerformanceLogger=function(){if(this._isPerfLogger==null&&(this._isPerfLogger=!1,typeof AdfLogger.PROFILER_LOGGER!="undefined")){var a=AdfLogger.PROFILER_LOGGER;if(a&&a.getLogWriter()==this)this._isPerfLogger=!0}return this._isPerfLogger};
function AdfOperaLogWriter(){this.Init()}AdfObject.createSubclass(AdfOperaLogWriter,AdfLogWriter);AdfOperaLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");opera.postError(this.FormatLogRecord(a)+"\n\n")};
function AdfOperaAgent(a){this.Init(a)}AdfObject.createSubclass(AdfOperaAgent,AdfAgent);AdfOperaAgent.prototype.Init=function(a){var b=navigator.userAgent.toLowerCase().match(/^opera\s*\/?\s*(\d+\.\d+)/),d=7.54;b&&b.length>=2&&(d=parseFloat(b[1]));AdfOperaAgent.superclass.Init.call(this,AdfAgent.OPERA_PLATFORM,AdfAgent.guessOS(),d,a)};AdfOperaAgent.prototype.isLeftButton=function(){return this.getDomWindow().event.button==1};AdfOperaAgent.prototype.preventDefault=function(a){a.returnValue=!1};
AdfOperaAgent.prototype.CreateNativeLogWriter=function(){return new AdfOperaLogWriter};AdfOperaAgent.prototype.getDescendantComponentsForNode=function(a,b){b||(b=[]);if(a.firstChild)for(var d=AdfPage.PAGE,e=this.getDomDocument().evaluate(".//*[@id]",a,null,XPathResult.ANY_TYPE,null),f=e.iterateNext();f;)(f=d.findComponent(f.id))&&b.push(f),f=e.iterateNext();return b};AdfOperaAgent.prototype.disableUserSelect=function(a){a.setAttribute("unselectable","on")};
AdfOperaAgent.prototype.enableUserSelect=function(a){a.removeAttribute("unselectable")};AdfOperaAgent.prototype.addEventBubbles=function(a,b){this._addEventListeners(a,AdfOperaAgent._REDISTRIBUTE_BUBBLE_EVENTS,b,!1);this._addEventListeners(a,AdfOperaAgent._REDISTRIBUTE_CAPTURE_EVENTS,b,!0)};AdfOperaAgent.prototype.removeEventBubbles=function(a,b){this._removeEventListeners(a,AdfOperaAgent._REDISTRIBUTE_BUBBLE_EVENTS,b,!1);this._removeEventListeners(a,AdfOperaAgent._REDISTRIBUTE_CAPTURE_EVENTS,b,!0)};
AdfOperaAgent.prototype._addEventListeners=function(a,b,d,e){AdfAssert.assertDomNode(a);AdfAssert.assertArray(b);AdfAssert.assertFunction(d);AdfAssert.assertBoolean(e);for(var f=b.length,g=0;g<f;g++)a.addEventListener(b[g],d,e)};AdfOperaAgent.prototype._removeEventListeners=function(a,b,d,e){AdfAssert.assertDomNode(a);AdfAssert.assertArray(b);AdfAssert.assertFunction(d);AdfAssert.assertBoolean(e);for(var f=b.length,g=0;g<f;g++)a.removeEventListener(b[g],d,e)};
AdfOperaAgent._REDISTRIBUTE_BUBBLE_EVENTS=["click","dblclick","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","contextmenu"];AdfOperaAgent._REDISTRIBUTE_CAPTURE_EVENTS=["focus","blur"];
function AdfOperaNavigationHistoryAgent(){this.Init()}AdfObject.createSubclass(AdfOperaNavigationHistoryAgent,AdfNavigationHistoryAgent);AdfOperaNavigationHistoryAgent.InitClass=function(){this._TIMER_INTERVAL=300};AdfOperaNavigationHistoryAgent.prototype.startTrackingURI=function(a){AdfOperaNavigationHistoryAgent.superclass.startTrackingURI.call(this,a);this._timerId=this.GetDomWindow().setInterval(AdfOperaNavigationHistoryAgent._checkURI,AdfOperaNavigationHistoryAgent._TIMER_INTERVAL)};
AdfOperaNavigationHistoryAgent.prototype.dispose=function(){this._timerId&&this.GetDomWindow().clearInterval(this._timerId)};AdfOperaNavigationHistoryAgent._checkURI=function(){AdfNavigationHistoryAgent.getInstance().ValidateCurrentView()};
function AdfSafariLogWriter(a,b){AdfAssert.assert(window.console&&window.console.log,"Safari console logger not installed");AdfSafariLogWriter._originalAssertionFailed=AdfAssert.assertionFailed;AdfAssert.assertionFailed=AdfSafariLogWriter._assertionHook;this.Init(a,b)}AdfObject.createSubclass(AdfSafariLogWriter,AdfLogWriter);
AdfSafariLogWriter.prototype.Init=function(a,b){AdfSafariLogWriter.superclass.Init.call(this,a,b);this._errorLogWriter=AdfSafariLogWriter.WRITE_ERRORS_TO_CONSOLE?new AdfConsoleLogWriter(a,b):!1;this._mobile=navigator.userAgent.toLowerCase().indexOf("mobile")!=-1};
AdfSafariLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");var b=this._errorLogWriter,d=a[AdfLogRecord.ERROR_FIELD];if(d&&b)b.publish(a);else{var b=window.console,e=a[AdfLogRecord.LEVEL_FIELD],e=e>=AdfLogger.SEVERE?b.error?b.error:b.log:e>=AdfLogger.WARNING?b.warn?b.warn:b.log:e>=AdfLogger.INFO?b.info?b.info:b.log:b.debug?b.debug:b.log,f=a[AdfLogRecord.MESSAGE_FIELD],a=a[AdfLogRecord.WHEN_FIELD];if(AdfAgent.AGENT.getVersion()>=527&&!this._mobile&&
AdfAgent.ANDROID_OS!=AdfAgent.guessOS())d?e.call(b,"Message: %s\nError: %o\nWhen: %o",f,d,a):e.call(b,"Message: %s\nWhen: %o",f,a);else if(d=d?"Message: "+f+"\nError: "+d+"\nWhen: "+a:"Message: "+f+"\nWhen: "+a,this._mobile){a=d.split("\n");d=[];for(f=0;f<a.length;f++){var g=a[f];if(g.length>35)for(var h=Math.ceil(g.length/35),k=0;k<h;k++){var l=k*35;d.push(g.substring(l,l+35))}else d.push(g)}a=d.length;if(a>1){f=Math.ceil(a/2);for(h=g=0;h<a;h+=2)k=++g+" of "+f+": "+d[h],h+1<a&&(k+="\n"+d[1+h]),e.call(b,
k)}else e.call(b,d[0])}else e.call(b,d)}};AdfSafariLogWriter.prototype.flush=function(){AdfSafariLogWriter.superclass.flush.call(this);var a=this._errorLogWriter;a&&a.flush()};AdfSafariLogWriter.prototype.close=function(){AdfSafariLogWriter.superclass.close.call(this);var a=this._errorLogWriter;a&&a.close()};AdfSafariLogWriter._assertionHook=function(a,b,d){AdfSafariLogWriter._originalAssertionFailed(a,b+1,d)};AdfSafariLogWriter.WRITE_ERRORS_TO_CONSOLE=!0;
function AdfSafariAgent(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfSafariAgent,AdfAgent);AdfSafariAgent.prototype.Init=function(a,b){AdfSafariAgent.superclass.Init.call(this,AdfAgent.WEBKIT_PLATFORM,AdfAgent.guessOS(),a,b)};AdfSafariAgent.prototype.getWindowScrollWidth=function(a){return a.document.body.scrollWidth};AdfSafariAgent.prototype.getWindowScrollHeight=function(a){return a.document.body.scrollHeight};AdfSafariAgent.prototype.getBrowserViewportScrollTop=function(){return this.getDomDocument().body.scrollTop};
AdfSafariAgent.prototype.getBrowserViewportScrollLeft=function(){return this.getDomDocument().body.scrollLeft};AdfSafariAgent.prototype.InitClass=function(){var a=[];a[AdfKeyStroke.CTRL_MASK]="Ctrl";a[AdfKeyStroke.SHIFT_MASK]="Shift";a[AdfKeyStroke.ALT_MASK]="Option";a[AdfKeyStroke.META_MASK]="Cmd";this._MODIFIER_DISPLAY_NAMES=a};AdfSafariAgent.prototype.CreateDefaultLogWriter=function(a){return new AdfSafariLogWriter(this._window,a)};
AdfSafariAgent.prototype.CreateNativeLogWriter=function(){return window.console&&window.console.log?this.CreateDefaultLogWriter(new AdfAlertLogWriter):new AdfAlertLogWriter};AdfSafariAgent.prototype.execScript=function(a,b){var d=a.document,e=d.body;if(e==null)with(a)a.eval(b);else{var f=d.createElement("script");f.setAttribute("type","text/javascript");f.appendChild(d.createTextNode(b));e.appendChild(f);e.removeChild(f)}};
AdfSafariAgent.prototype.disableUserSelect=function(a){a.style.setProperty("-webkit-user-select","none")};AdfSafariAgent.prototype.enableUserSelect=function(a){a.style.setProperty("-webkit-user-select","")};AdfSafariAgent.prototype.getBoxSizing=function(a,b){b||(b=this.getComputedStyle(a));return b.getPropertyValue("-webkit-box-sizing")};
AdfSafariAgent.prototype.addEventBubbles=function(a,b){this._addEventListeners(a,this.GetRedistributeBubbleEvents(),b,!1);this._addEventListeners(a,this.GetRedistributeCaptureEvents(),b,!0)};AdfSafariAgent.prototype.removeEventBubbles=function(a,b){this._removeEventListeners(a,this.GetRedistributeBubbleEvents(),b,!1);this._removeEventListeners(a,this.GetRedistributeCaptureEvents(),b,!0)};
AdfSafariAgent.prototype.getModifierDisplayName=function(a){if(this.getOs()!=AdfAgent.MAC_OS)return AdfSafariAgent.superclass.getModifierDisplayName.call(this,a);return AdfSafariAgent._MODIFIER_DISPLAY_NAMES[a]};AdfSafariAgent.prototype.getSessionStorageProperty=function(a){AdfAssert.assertString(a);return sessionStorage.getItem(a)};AdfSafariAgent.prototype.removeSessionStorageProperty=function(a){AdfAssert.assertString(a);sessionStorage.removeItem(a)};
AdfSafariAgent.prototype.setSessionStorageProperty=function(a,b){AdfAssert.assertString(a);AdfAssert.assertString(b);sessionStorage.setItem(a,b)};AdfSafariAgent.prototype.getDescendantComponentsForNode=function(a,b){b||(b=[]);if(a.firstChild)for(var d=AdfPage.PAGE,e=this.getDomDocument().evaluate(".//*[@id]",a,null,XPathResult.ANY_TYPE,null),f=e.iterateNext();f;)(f=d.findComponent(f.id))&&b.push(f),f=e.iterateNext();return b};
AdfSafariAgent.prototype.CreateUIInputEvent=function(a,b,d){return new AdfSafariUIInputEvent(a,b,d)};AdfSafariAgent.prototype._addEventListeners=function(a,b,d,e){AdfAssert.assertDomNode(a);AdfAssert.assertArray(b);AdfAssert.assertFunction(d);AdfAssert.assertBoolean(e);for(var f=b.length,g=0;g<f;g++)a.addEventListener(b[g],d,e)};
AdfSafariAgent.prototype._removeEventListeners=function(a,b,d,e){AdfAssert.assertDomNode(a);AdfAssert.assertArray(b);AdfAssert.assertFunction(d);AdfAssert.assertBoolean(e);for(var f=b.length,g=0;g<f;g++)a.removeEventListener(b[g],d,e)};
AdfSafariAgent.prototype.cloneEvent=function(a,b){var d=a.type;if(d=="load"){if(navigator.userAgent.toLowerCase().indexOf("chrome")==-1)return AdfSafariAgent.superclass.cloneEvent.call(this,a,b);var e=b?b:a.target,f=e.ownerDocument,g=f.createEvent("Event");g.initEvent("click",!1,!1);f.addEventListener(d,this.stopPropagation,!0);e.dispatchEvent(g);f.removeEventListener(d,this.stopPropagation,!0);return g}else return AdfSafariAgent.superclass.cloneEvent.call(this,a,b)};
AdfSafariAgent.prototype.GetRedistributeBubbleEvents=function(){return AdfSafariAgent._REDISTRIBUTE_BUBBLE_EVENTS};AdfSafariAgent.prototype.GetRedistributeCaptureEvents=function(){return AdfSafariAgent._REDISTRIBUTE_CAPTURE_EVENTS};
AdfSafariAgent.prototype.getElementPosition=function(a){AdfAssert.assertDomElement(a);if(!a.getBoundingClientRect)return AdfSafariAgent.superclass.getElementPosition.call(this,a);var b=a.getBoundingClientRect(),d=b.top,b=b.left,a=a.ownerDocument.documentElement;b-=a.clientLeft-this.getBrowserViewportScrollLeft();d-=a.clientTop-this.getBrowserViewportScrollTop();return{x:b,y:d}};
AdfSafariAgent.prototype.getElementLeft=function(a){AdfAssert.assertDomElement(a);if(!a.getBoundingClientRect)return AdfSafariAgent.superclass.getElementLeft.call(this,a);var b=a.getBoundingClientRect().left;b-=a.ownerDocument.documentElement.clientLeft-this.getBrowserViewportScrollLeft();return b};
AdfSafariAgent.prototype.getElementTop=function(a){AdfAssert.assertDomElement(a);if(!a.getBoundingClientRect)return AdfSafariAgent.superclass.getElementTop.call(this,a);var b=a.getBoundingClientRect().top;b-=a.ownerDocument.documentElement.clientTop-this.getBrowserViewportScrollTop();return b};
AdfSafariAgent.prototype.getElementPageBounds=function(a){AdfAssert.assertDomElement(a);if(!a.getBoundingClientRect)return AdfSafariAgent.superclass.getElementPageBounds.call(this,a);var b=a.getBoundingClientRect(),a=a.ownerDocument.documentElement;deltaX=a.clientLeft-this.getBrowserViewportScrollLeft();deltaY=a.clientTop-this.getBrowserViewportScrollTop();return{top:b.top-deltaY,left:b.left-deltaX,bottom:b.bottom-deltaY,right:b.right-deltaX}};
AdfSafariAgent._REDISTRIBUTE_BUBBLE_EVENTS=["click","dblclick","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","contextmenu"];AdfSafariAgent._REDISTRIBUTE_CAPTURE_EVENTS=["focus","blur"];
function AdfSafariNavigationHistoryAgent(){this.Init()}AdfObject.createSubclass(AdfSafariNavigationHistoryAgent,AdfNavigationHistoryAgent);AdfSafariNavigationHistoryAgent.InitClass=function(){this._TIMER_INTERVAL=300};AdfSafariNavigationHistoryAgent.prototype.startTrackingURI=function(a){AdfSafariNavigationHistoryAgent.superclass.startTrackingURI.call(this,a);this._timerId=this.GetDomWindow().setInterval(AdfSafariNavigationHistoryAgent._checkURI,AdfSafariNavigationHistoryAgent._TIMER_INTERVAL)};
AdfSafariNavigationHistoryAgent.prototype.dispose=function(){this._timerId&&this.GetDomWindow().clearInterval(this._timerId)};AdfSafariNavigationHistoryAgent._checkURI=function(){AdfNavigationHistoryAgent.getInstance().ValidateCurrentView()};
function AdfPage(){}AdfPage._NEW_WINDOW_NAME="RichPageMain";AdfPage.CREATE_VIEW_PHASE="createViewPhase";AdfPage.UPDATE_VIEW_PHASE="updateViewPhase";AdfPage.DELIVER_EVENTS_PHASE="deliverEventsPhase";AdfPage.WAITING_FOR_USER_INPUT_PHASE="waitingForUserInputPhase";AdfPage._FOR_CONTAINER_PREFIX="afr::msgFor";AdfPage.EDITABLE_SUBTREE_PROPERTY="editableSubtree";AdfPage.SELECTED_EDITING_COMPONENTS_PROPERTY="selectedEditingComponents";AdfPage.EDITED_COMPONENT_PROPERTY="editedComponent";
AdfPage.ACTIVE_COMPONENT_PROPERTY="activeComponent";AdfPage.PAGE=null;AdfObject.createSubclass(AdfPage);AdfPage.prototype.setPageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getPageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setDefaultMessageHandlerComponentId=function(){};AdfPage.prototype.getDefaultMessageHandlerComponentId=function(){};AdfPage.prototype.getMessageHandlerSlaveComponentId=function(){};AdfPage.prototype.getPhase=function(){return this._phase};
AdfPage.prototype.addPartialTargets=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.findComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.findComponentByAbsoluteId=function(a){AdfAssert.assertNonEmptyString(a);var b=this.getRootClientId();b&&(a=b+":"+a);return AdfUIComponent.__findComponent(":"+a)};AdfPage.prototype.findComponentByAbsoluteLocator=function(a){AdfAssert.assertNonEmptyString(a);return AdfUIComponent.__findComponentByLocator(a)};
AdfPage.prototype.GetChangedComponents=function(){return this._changedComponentCount>0?this._changedComponents:null};AdfPage.prototype.addChangedComponent=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);var b=this._changedComponents,c=a.getClientId();c in b||this._changedComponentCount++;b[c]=a};AdfPage.prototype.removeChangedComponent=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);var b=this._changedComponents,a=a.getClientId();a in b&&(delete b[a],this._changedComponentCount--)};
AdfPage.prototype.ClearChangesList=function(){if(this._changedComponentCount>0){var a=this._changedComponents,b;for(b in a)a[b].clearChanges();this._changedComponents={};this._changedComponentCount=0}};AdfPage.prototype.getLookAndFeel=function(){return this._lookAndFeel};AdfPage.prototype.getActiveComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.addComponents=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getBaseResourceUrl=function(){return this._baseResourceUrl};
AdfPage.prototype.setBaseResourceUrl=function(a){this._baseResourceUrl=a};AdfPage.prototype.getTwoDigitYearStart=function(){return this._twoDigitYearStart};AdfPage.prototype.setTwoDigitYearStart=function(a){this._twoDigitYearStart=a};AdfPage.prototype.getTzOffsetMinutes=function(){return this._tzOffsetMinutes};AdfPage.prototype.setTzOffsetMinutes=function(a){this._tzOffsetMinutes=a};AdfPage.prototype.getFailedConnectionText=function(){return this._failedConnectionText};
AdfPage.prototype.setFailedConnectionText=function(a){this._failedConnectionText=a};AdfPage.prototype.registerLoadingComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.unregisterLoadingComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.showPageProcessingIndicator=function(){};
AdfPage.prototype.Init=function(a){AdfAssert.assertPrototype(a,AdfLookAndFeel);AdfPage.superclass.Init.call(this);this._lookAndFeel=a;this._phase=AdfPage.CREATE_VIEW_PHASE;this._changedComponents={};this._changedComponentCount=0;var a=AdfAgent.AGENT.createDefaultLogWriter(),b=AdfLogger.LOGGER,a=new AdfLogger(b.getName(),a,b.getLevel());a.register();AdfLogger.LOGGER=a;this._localeContext=new AdfLocaleContext};AdfPage.prototype.SetPhase=function(a){AdfAssert.assertString(a);this._phase=a};
AdfPage.prototype.getLocaleContext=function(){return this._localeContext};AdfPage.prototype.getDnDContext=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.queueEventToServer=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getActiveComponentId=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.addPropertyChangeListener=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.removePropertyChangeListener=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.getSelectedEditingComponents=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setSelectedEditingComponents=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getEditableSubtree=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setEditableSubtree=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setEditableSubtreeFilter=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getEditedComponent=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.setEditedComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getResourceURL=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.Dispose=function(){AdfLogger.LOGGER.getLogWriter().close();AdfPage.PAGE=null};AdfPage.prototype.addMessage=function(){};AdfPage.prototype.showMessages=function(){};AdfPage.prototype.getMessages=function(){};AdfPage.prototype.getAllMessages=function(){};AdfPage.prototype.getClientIdsWithMessages=function(){};
AdfPage.prototype.clearMessages=function(){};AdfPage.prototype.clearAllMessages=function(){};AdfPage.prototype.hasMessages=function(){};AdfPage.prototype.addBusyStateListener=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.removeBusyStateListener=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.registerResizeNotifyComponent=function(){};AdfPage.prototype.unregisterResizeNotifyComponent=function(){};AdfPage.prototype.doResizeNotify=function(){};
AdfPage.prototype.isScreenReaderMode=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.isSynchronizedWithServer=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.isAnimationEnabled=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.isPortlet=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getRootClientId=function(){return""};AdfPage.prototype.setHelpWindowName=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.launchHelpWindow=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.localNavigate=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getSessionIdentifier=function(){return null};AdfPage.prototype.checkUncommittedData=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getResponseIdentifier=function(){return null};AdfPage.prototype.shouldTracePPRRequestId=function(){return!1};AdfPage.prototype.announceToAssistiveTechnology=function(){AdfAssert.failedInAbstractFunction()};
function AdfLookAndFeel(){this.Init()}AdfObject.createSubclass(AdfLookAndFeel);AdfLookAndFeel.prototype.getPeer=function(){AdfAssert.failedInAbstractFunction()};AdfLookAndFeel.prototype.getTranslatedString=function(){AdfAssert.failedInAbstractFunction()};AdfLookAndFeel.prototype.getSkinProperty=function(){AdfAssert.failedInAbstractFunction()};AdfLookAndFeel.prototype.getIcon=function(){AdfAssert.failedInAbstractFunction()};AdfLookAndFeel.prototype.createPage=function(){return new AdfPage};
AdfLookAndFeel.prototype.registerPeerConstructor=function(){AdfAssert.failedInAbstractFunction()};
function AdfKeyStroke(a,b,c){this.Init(a,b,c)}AdfObject.createSubclass(AdfKeyStroke);AdfKeyStroke.SHIFT_MASK=1;AdfKeyStroke.CTRL_MASK=2;AdfKeyStroke.META_MASK=4;AdfKeyStroke.ALT_MASK=8;AdfKeyStroke.BACKSPACE_KEY=8;AdfKeyStroke.TAB_KEY=9;AdfKeyStroke.ALT_KEY=18;AdfKeyStroke.ARROWDOWN_KEY=40;AdfKeyStroke.ARROWUP_KEY=38;AdfKeyStroke.ARROWRIGHT_KEY=39;AdfKeyStroke.ARROWLEFT_KEY=37;AdfKeyStroke.ESC_KEY=27;AdfKeyStroke.ENTER_KEY=13;AdfKeyStroke.SPACE_KEY=32;AdfKeyStroke.PAGEUP_KEY=33;
AdfKeyStroke.PAGEDOWN_KEY=34;AdfKeyStroke.END_KEY=35;AdfKeyStroke.HOME_KEY=36;AdfKeyStroke.INSERT_KEY=45;AdfKeyStroke.DELETE_KEY=46;AdfKeyStroke.A_KEY=65;AdfKeyStroke.C_KEY=67;AdfKeyStroke.M_KEY=77;AdfKeyStroke.P_KEY=80;AdfKeyStroke.R_KEY=82;AdfKeyStroke.V_KEY=86;AdfKeyStroke.W_KEY=87;AdfKeyStroke.X_KEY=88;AdfKeyStroke.F1_KEY=112;AdfKeyStroke.F2_KEY=113;AdfKeyStroke.F3_KEY=114;AdfKeyStroke.F4_KEY=115;AdfKeyStroke.F5_KEY=116;AdfKeyStroke.F6_KEY=117;AdfKeyStroke.F7_KEY=118;AdfKeyStroke.F8_KEY=119;
AdfKeyStroke.F9_KEY=120;AdfKeyStroke.F10_KEY=121;AdfKeyStroke.F11_KEY=122;AdfKeyStroke.F12_KEY=123;
AdfKeyStroke.InitClass=function(){this._MODIFIER_STRINGS=Array(16);this._MODIFIER_DISPLAY_STRINGS=Array(16);this._CACHE={};for(var a=["BACK_SPACE",AdfKeyStroke.BACKSPACE_KEY,"CLEAR",12,"SHIFT",16,"CONTROL",17,"ALT",18,"CAPS_LOCK",20,"TAB",AdfKeyStroke.TAB_KEY,"DOWN",AdfKeyStroke.ARROWDOWN_KEY,"UP",AdfKeyStroke.ARROWUP_KEY,"RIGHT",AdfKeyStroke.ARROWRIGHT_KEY,"LEFT",AdfKeyStroke.ARROWLEFT_KEY,"ESCAPE",AdfKeyStroke.ESC_KEY,"ENTER",AdfKeyStroke.ENTER_KEY,"SPACE",AdfKeyStroke.SPACE_KEY,"PAGE_UP",AdfKeyStroke.PAGEUP_KEY,
"PAGE_DOWN",AdfKeyStroke.PAGEDOWN_KEY,"END",AdfKeyStroke.END_KEY,"HOME",AdfKeyStroke.HOME_KEY,"INSERT",AdfKeyStroke.INSERT_KEY,"DELETE",AdfKeyStroke.DELETE_KEY,"F1",AdfKeyStroke.F1_KEY,"F2",AdfKeyStroke.F2_KEY,"F3",AdfKeyStroke.F3_KEY,"F4",AdfKeyStroke.F4_KEY,"F5",AdfKeyStroke.F5_KEY,"F6",AdfKeyStroke.F6_KEY,"F7",AdfKeyStroke.F7_KEY,"F8",AdfKeyStroke.F8_KEY,"F9",AdfKeyStroke.F9_KEY,"F10",AdfKeyStroke.F10_KEY,"F11",AdfKeyStroke.F11_KEY,"F12",AdfKeyStroke.F12_KEY],b=[],c=a.length-1;c>=0;c--){var d=
a[c];c--;var f=a[c];b[d]=f;b[f]=d}this._KEYCODE_MAPPINGS=b;this._SHIFT_MODIFIER="shift";this._CTRL_MODIFIER="ctrl";this._META_MODIFIER="meta";this._ALT_MODIFIER="alt";a={};a[this._SHIFT_MODIFIER]=this.SHIFT_MASK;a[this._CTRL_MODIFIER]=this.CTRL_MASK;a[this._META_MODIFIER]=this.META_MASK;a[this._ALT_MODIFIER]=this.ALT_MASK;this._MODIFIER_NAME_TO_FLAG=a};
AdfKeyStroke.prototype.Init=function(a,b,c){AdfAssert.assertNumber(a);AdfAssert.assertNumber(b);AdfAssert.assertString(c);AdfKeyStroke.superclass.Init.call(this);this._keyCode=a;this._modifiers=b;this._stringForm=c};AdfKeyStroke.prototype.getKeyCode=function(){return this._keyCode};AdfKeyStroke.prototype.getModifiers=function(){return this._modifiers};
AdfKeyStroke._getModifierString=function(a){AdfAssert.assertNumber(a);var b=AdfKeyStroke._MODIFIER_STRINGS,c=b[a];c==null&&(c=[],(a&AdfKeyStroke.SHIFT_MASK)!=0&&c.push(AdfKeyStroke._SHIFT_MODIFIER),(a&AdfKeyStroke.CTRL_MASK)!=0&&c.push(AdfKeyStroke._CTRL_MODIFIER),(a&AdfKeyStroke.META_MASK)!=0&&c.push(AdfKeyStroke._META_MODIFIER),(a&AdfKeyStroke.ALT_MASK)!=0&&c.push(AdfKeyStroke._ALT_MODIFIER),c=c.join(" "),b[a]=c);return c};
AdfKeyStroke._getModifierDisplayString=function(a){AdfAssert.assertNumber(a);var b=AdfKeyStroke._MODIFIER_DISPLAY_STRINGS,c=b[a];if(c==null){var c=AdfAgent.AGENT,d=Array(4);(a&AdfKeyStroke.SHIFT_MASK)!=0&&d.push(c.getModifierDisplayName(AdfKeyStroke.SHIFT_MASK));(a&AdfKeyStroke.CTRL_MASK)!=0&&d.push(c.getModifierDisplayName(AdfKeyStroke.CTRL_MASK));(a&AdfKeyStroke.META_MASK)!=0&&d.push(c.getModifierDisplayName(AdfKeyStroke.META_MASK));(a&AdfKeyStroke.ALT_MASK)!=0&&d.push(c.getModifierDisplayName(AdfKeyStroke.ALT_MASK));
c=d.join(" ");b[a]=c}return c};AdfKeyStroke._getStringForm=function(a,b){var c=AdfKeyStroke._getModifierString(b),d=AdfKeyStroke._getNameFromKeyCode(a);return c.length==0?d:c+" "+d};AdfKeyStroke.prototype.toString=function(){return AdfKeyStroke.superclass.toString.call(this)+" "+this._stringForm};AdfKeyStroke.prototype.toMarshalledString=function(){return this._stringForm};
AdfKeyStroke.getKeyStroke=function(a,b){AdfAssert.assertNumber(a);AdfAssert.assertNumber(b);AdfObject.ensureClassInitialization(AdfKeyStroke);var c=AdfKeyStroke._getStringForm(a,b),d=AdfKeyStroke._CACHE,f=d[c];f==null&&(f=new AdfKeyStroke(a,b,c),d[c]=f);return f};
AdfKeyStroke.getKeyStrokeFromMarshalledString=function(a){AdfAssert.assertString(a);AdfObject.ensureClassInitialization(AdfKeyStroke);var b=AdfKeyStroke._CACHE,c=b[a];if(c==null){var c=a.split(" "),d=c.length-1;AdfAssert.assert(d>=0);var f=c[d],g;/^\d$/.test(f)||(g=AdfKeyStroke._KEYCODE_MAPPINGS[f]);g===void 0&&(g=f.charCodeAt(0));for(var f=AdfKeyStroke._MODIFIER_NAME_TO_FLAG,h=0,j=!1,k=0;k<d;k++){var l=f[c[k]];l==void 0&&(l=0);l<=h&&(j=!0);h|=l}j?c=AdfKeyStroke.getKeyStroke(g,h):(c=new AdfKeyStroke(g,
h,a),b[a]=c)}return c};AdfKeyStroke._getNameFromKeyCode=function(a){var b=AdfKeyStroke._KEYCODE_MAPPINGS[a];b==null&&(b=String.fromCharCode(a));return b};
function AdfLocaleContext(){this.Init()}AdfObject.createSubclass(AdfLocaleContext);AdfLocaleContext.prototype.getLocale=function(){return this._locale};AdfLocaleContext.prototype.isRightToLeft=function(){return this._rightToLeft};AdfLocaleContext.prototype.getAlignBegin=function(){return this._alignBegin};AdfLocaleContext.prototype.getAlignEnd=function(){return this._alignEnd};
AdfLocaleContext.prototype.Init=function(){AdfLocaleContext.superclass.Init.call(this);var a=AdfAgent.AGENT.getDomDocument();this._locale=a.documentElement.lang;(this._rightToLeft=a.documentElement.dir=="rtl")?(this._alignBegin="right",this._alignEnd="left"):(this._alignBegin="left",this._alignEnd="right")};
var AdfInputFileUtils={addUploadErrorMessage:function(a){var b=AdfPage.PAGE;b.clearMessages(a);var d=b.getLookAndFeel(),e=d.getTranslatedString("af_inputFile.MSG_UPLOAD_ERROR"),d=d.getTranslatedString("af_inputFile.MSG_UPLOAD_ERROR_DETAIL"),e=new AdfFacesMessage(AdfFacesMessage.TYPE_ERROR,e,d);b.addMessage(a,e)}};
function AdfDhtmlLookAndFeel(a){this.Init(a)}AdfObject.createSubclass(AdfDhtmlLookAndFeel,AdfLookAndFeel);
AdfDhtmlLookAndFeel.InitClass=function(){for(var a=["blur","focus","focusIn","focusOut","click","dblClick","mouseDown","mouseUp","mouseMove","mouseOver","mouseOut","keyDown","keyUp","keyPress","contextMenu","change","scroll"],b={},d={},e=a.length,f=0;f<e;f++){var g=a[f],h=g.toLowerCase();d[h]=g;this[AdfStrings.createConstantName(g)+"_EVENT_TYPE"]=h;b[h]="on"+h}this.EVENT_TYPE_TO_ATTRIBUTE_MAP=b;this.EVENT_TYPE_TO_CAMEL_CASE_MAP=d};
AdfDhtmlLookAndFeel.prototype.Init=function(a){AdfDhtmlLookAndFeel.superclass.Init.call(this);this._window=a};AdfDhtmlLookAndFeel.prototype.registerPeerConstructor=function(a,b){AdfAssert.assertString(a);AdfAssert.assertString(b);AdfAssert.assert(AdfDhtmlLookAndFeel._COMPONENT_TO_PEER_NAME[a]==null,"Peer already registered for this componentType");AdfDhtmlLookAndFeel._COMPONENT_TO_PEER_NAME[a]=b};
AdfDhtmlLookAndFeel.prototype.getPeer=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);var b=a.constructor,d=b._PEER_CONSTRUCTOR;if(d==null){var d=a.getComponentType(),e=AdfDhtmlLookAndFeel._COMPONENT_TO_PEER_NAME[d];e?(d=window[e],AdfAssert.assertFunction(d)):(AdfLogger.LOGGER.warning("No peer for:",d),d=AdfRichUIPeer);b._PEER_CONSTRUCTOR=d}b=d._PEER;if(b==null&&(b=new d(a),d.STATELESS))d._PEER=b;return b};
AdfDhtmlLookAndFeel._COMPONENT_TO_PEER_NAME={"oracle.adf.RichPanelWindow":"AdfDhtmlPanelWindowPeer","oracle.adf.RichDialog":"AdfDhtmlDialogPeer","oracle.adf.RichNoteWindow":"AdfDhtmlNoteWindowPeer","oracle.adf.RichBreadCrumbs":"AdfDhtmlBreadCrumbsPeer","oracle.adf.RichCarousel":"AdfDhtmlCarouselPeer","oracle.adf.RichCarouselItem":"AdfDhtmlCarouselItemPeer","oracle.adf.RichChooseColor":"AdfDhtmlChooseColorPeer","oracle.adf.RichCommandButton":"AdfDhtmlButtonPeer","oracle.adf.RichDecorativeBox":"AdfDhtmlDecorativeBoxPeer",
"oracle.adf.RichResetButton":"AdfDhtmlResetButtonPeer","oracle.adf.RichCalendar":"AdfDhtmlCalendarPeer","oracle.adf.RichColumn":"AdfDhtmlColumnPeer","oracle.adf.RichChooseDate":"AdfDhtmlChooseDatePeer","oracle.adf.RichCommandImageLink":"AdfDhtmlCommandImageLinkPeer","oracle.adf.RichCommandLink":"AdfDhtmlCommandLinkPeer","oracle.adf.RichCommandMenuItem":"AdfDhtmlCommandMenuItemPeer","oracle.adf.RichCommandNavigationItem":"AdfDhtmlCommandNavigationItemPeer","oracle.adf.RichCommandToolbarButton":"AdfDhtmlCommandToolbarButtonPeer",
"oracle.adf.RichCommandTrainStop":"AdfDhtmlCommandTrainStopPeer","oracle.adf.RichContextInfo":"AdfDhtmlContextInfoPeer","oracle.adf.RichPanelCollection":"AdfDhtmlPanelCollectionPeer","oracle.adf.RichDocument":"AdfDhtmlDocumentPeer","oracle.adf.RichForm":"AdfDhtmlFormPeer","oracle.adf.RichSubform":"AdfDhtmlSubformPeer","oracle.adf.RichGoImageLink":"AdfDhtmlGoImageLinkPeer","oracle.adf.RichGoLink":"AdfDhtmlGoLinkPeer","oracle.adf.RichGoMenuItem":"AdfDhtmlGoMenuItemPeer","oracle.adf.RichGoButton":"AdfDhtmlGoButtonPeer",
"oracle.adf.RichPanelGridLayout":"AdfDhtmlPanelGridLayoutPeer","oracle.adf.RichInlineFrame":"AdfDhtmlInlineFramePeer","oracle.adf.RichInputColor":"AdfDhtmlInputColorPeer","oracle.adf.RichTextEditor":"AdfDhtmlRichTextEditorPeer","oracle.adf.RichInputText":"AdfDhtmlInputTextPeer","oracle.adf.RichInputListOfValues":"AdfDhtmlInputListOfValuesPeer","oracle.adf.RichInputComboboxListOfValues":"AdfDhtmlInputComboboxListOfValuesPeer","oracle.adf.RichInputDate":"AdfDhtmlInputDatePeer","oracle.adf.RichInputFile":"AdfDhtmlInputFilePeer",
"oracle.adf.RichInputNumberSlider":"AdfDhtmlInputNumberSliderPeer","oracle.adf.RichInputRangeSlider":"AdfDhtmlInputRangeSliderPeer","oracle.adf.RichInputNumberSpinbox":"AdfDhtmlInputNumberSpinboxPeer","oracle.adf.RichMessage":"AdfDhtmlMessagePeer","oracle.adf.RichMessages":"AdfDhtmlMessagesPeer","oracle.adf.RichSeparator":"AdfDhtmlSeparatorPeer","oracle.adf.RichSpacer":"AdfDhtmlSpacerPeer","oracle.adf.RichIcon":"AdfDhtmlIconPeer","oracle.adf.RichImage":"AdfDhtmlImagePeer","oracle.adf.RichMedia":"AdfDhtmlMediaPeer",
"oracle.adf.RichNavigationPane":"AdfDhtmlNavigationPanePeer","oracle.adf.RichOutputFormatted":"AdfDhtmlOutputFormattedPeer","oracle.adf.RichOutputLabel":"AdfDhtmlOutputLabelPeer","oracle.adf.RichOutputText":"AdfDhtmlTextPeer","oracle.adf.RichPanelAccordion":"AdfDhtmlPanelAccordionPeer","oracle.adf.RichPanelBorderLayout":"AdfDhtmlPanelBorderLayoutPeer","oracle.adf.RichPanelBox":"AdfDhtmlPanelBoxPeer","oracle.adf.RichPanelChoice":"AdfDhtmlPanelChoicePeer","oracle.adf.RichPanelDashboard":"AdfDhtmlPanelDashboardPeer",
"oracle.adf.RichPanelFormLayout":"AdfDhtmlPanelFormLayoutPeer","oracle.adf.RichPanelGroupLayout":"AdfDhtmlPanelGroupLayoutPeer","oracle.adf.RichQuickQuery":"AdfDhtmlQuickQueryPeer","oracle.adf.RichPanelHorizontalLayout":"AdfDhtmlPanelHorizontalLayoutPeer","oracle.adf.RichPanelLabelAndMessage":"AdfDhtmlPanelLabelAndMessagePeer","oracle.adf.RichPanelList":"AdfDhtmlPanelListPeer","oracle.adf.RichPanelRadio":"AdfDhtmlPanelRadioPeer","oracle.adf.RichPanelSplitter":"AdfDhtmlPanelSplitterPeer","oracle.adf.RichPanelStretchLayout":"AdfDhtmlPanelStretchLayoutPeer",
"oracle.adf.RichPoll":"AdfDhtmlPollPeer","oracle.adf.RichPopup":"AdfDhtmlPopupPeer","oracle.adf.RichRegion":"AdfDhtmlRegionPeer","oracle.adf.RichStatusIndicator":"AdfDhtmlStatusIndicatorPeer","oracle.adf.RichProgressIndicator":"AdfDhtmlProgressIndicatorPeer","oracle.adf.RichToolbar":"AdfDhtmlToolbarPeer","oracle.adf.RichToolbox":"AdfDhtmlToolboxPeer","oracle.adf.RichPanelHeader":"AdfDhtmlPanelHeaderPeer","oracle.adf.RichShowDetail":"AdfDhtmlShowDetailPeer","oracle.adf.RichQuery":"AdfDhtmlQueryPeer",
"oracle.adf.RichShowDetailHeader":"AdfDhtmlShowDetailHeaderPeer","oracle.adf.RichTable":"AdfDhtmlTablePeer","oracle.adf.RichTreeTable":"AdfDhtmlTreeTablePeer","oracle.adf.RichTree":"AdfDhtmlTreePeer","oracle.adf.RichMenuBar":"AdfDhtmlMenuBarPeer","oracle.adf.RichMenu":"AdfDhtmlMenuPeer","oracle.adf.RichTrain":"AdfDhtmlTrainPeer","oracle.adf.RichTrainButtonBar":"AdfDhtmlTrainButtonBarPeer","oracle.adf.RichSelectItem":"AdfRichUIPeer","oracle.adf.RichSelectBooleanCheckbox":"AdfDhtmlSelectBooleanCheckboxPeer",
"oracle.adf.RichSelectBooleanRadio":"AdfDhtmlSelectBooleanRadioPeer","oracle.adf.RichSelectOneChoice":"AdfDhtmlSelectOneChoicePeer","oracle.adf.RichSelectOneListbox":"AdfDhtmlSelectOneListboxPeer","oracle.adf.RichSelectOneRadio":"AdfDhtmlSelectOneRadioPeer","oracle.adf.RichSelectManyListbox":"AdfDhtmlSelectManyListboxPeer","oracle.adf.RichSelectOrderShuttle":"AdfDhtmlSelectManyShuttlePeer","oracle.adf.RichSelectManyShuttle":"AdfDhtmlSelectManyShuttlePeer","oracle.adf.RichSelectManyCheckbox":"AdfDhtmlSelectManyCheckboxPeer",
"oracle.adf.RichSelectManyChoice":"AdfDhtmlSelectManyChoicePeer","oracle.adf.RichShowDetailItem":"AdfDhtmlShowDetailItemPeer","oracle.adf.RichPanelTabbed":"AdfDhtmlPanelTabbedPeer","javax.faces.ViewRoot":"AdfDhtmlPagePeer","oracle.adf.RichRootPage":"AdfDhtmlPagePeer","oracle.adf.RichDeclarativeComponent":"AdfDhtmlDeclarativeComponentPeer","oracle.adf.RichDynamicDeclarativeComponent":"AdfDhtmlDeclarativeComponentPeer"};
AdfDhtmlLookAndFeel.prototype.getTranslatedString=function(a,b){if(a==null)return null;if(AdfDhtmlLookAndFeel._TRANSLATIONS==null)return null;var d=AdfDhtmlLookAndFeel._TRANSLATIONS[a];if(b==null)return d;if(arguments.length>2){for(var d=[d],e=1;e<arguments.length;++e)d.push(arguments[e]);return TrFastMessageFormatUtils.format.apply(this,d)}else return TrFastMessageFormatUtils.format(d,b)};AdfDhtmlLookAndFeel.prototype.getSkinProperty=function(a){if(a!=null&&AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES)return AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES[a]};
AdfDhtmlLookAndFeel.prototype.getStyleClass=function(a){var b=this.getSkinProperty(a);if(!b)return a;return b};AdfDhtmlLookAndFeel.prototype.getIcon=function(a){a=this.getRawIcon(a);return a!=null?a.cloneNode(!0):null};AdfDhtmlLookAndFeel.prototype.getRawIcon=function(a){if(a==null)return null;else{var a=a.replace("|","_"),b=AdfAgent.AGENT.getElementById(a);if(!b)return AdfLogger.LOGGER.warning("Icon ",a," is not available on the client"),null;return b.firstChild}};
AdfDhtmlLookAndFeel.prototype.createPage=function(){var a=this._window;AdfAssert.assert(a!=null);this._domWindow=null;return new AdfDhtmlPage(this,a)};AdfDhtmlLookAndFeel.addSkinProperties=function(a){AdfAssert.assertObject(a);var b=AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES;b&&(a=AdfCollections.copyInto(a,b));AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES=a};AdfDhtmlLookAndFeel._DEFAULT_CONSTRUCTOR_KEY="$default";
function AdfDhtmlPage(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfDhtmlPage,AdfPage);AdfDhtmlPage.SCREEN_READER_ACCESSIBILITY_MODE="screenReader";AdfDhtmlPage.DEFAULT_ACCESSIBILITY_MODE="default";AdfDhtmlPage.INACCESSIBLE_ACCESSIBILITY_MODE="inaccessible";AdfDhtmlPage._LOAD_CHECKPOINT=AdfCheckpoint.getCheckpoint("onload total","startup");AdfDhtmlPage._LOAD_CHECKPOINT.setDescription("Total time spent in onLoad");AdfDhtmlPage._CALLBACK_CHECKPOINT=AdfCheckpoint.getCheckpoint("onload callback","startup");
AdfDhtmlPage._CALLBACK_CHECKPOINT.setDescription("Time spent in onload callback plus post-callback layout");AdfDhtmlPage._POSTBACK_CHECKPOINT=AdfCheckpoint.getCheckpoint("postaback total","postback");AdfDhtmlPage._POSTBACK_CHECKPOINT.setDescription("Total time spent in postback");AdfDhtmlPage._BROWSER_RESIZE_CHECKPOINT=AdfCheckpoint.getCheckpoint("browser resize","resize");AdfDhtmlPage._BROWSER_RESIZE_CHECKPOINT.setDescription("Time spent in resize notify during browser resize");
AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO="_adfCustomPPRUrlExpando";AdfDhtmlPage.ACTIVE_DOM_ELEMENT_PROPERTY="activeDomElement";AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME="_afrImageNotLoadedInTime";AdfDhtmlPage._ECID="_afrECID";AdfDhtmlPage._PRINTABLE_STATE="p_AFPrintable";AdfDhtmlPage._PRINTABLE_WINDOW_NAME="_new";
AdfDhtmlPage.InitClass=function(){for(var a={},b=[AdfKeyStroke.getKeyStroke(AdfKeyStroke.A_KEY,AdfKeyStroke.CTRL_MASK),AdfKeyStroke.getKeyStroke(AdfKeyStroke.C_KEY,AdfKeyStroke.CTRL_MASK),AdfKeyStroke.getKeyStroke(AdfKeyStroke.V_KEY,AdfKeyStroke.CTRL_MASK),AdfKeyStroke.getKeyStroke(AdfKeyStroke.X_KEY,AdfKeyStroke.CTRL_MASK),AdfKeyStroke.getKeyStroke(AdfKeyStroke.DELETE_KEY,0)],d=b.length-1;d>=0;d--)a[b[d].toMarshalledString()]=!0;this._KEYSTROKE_OVERRIDES=a;this._EDITABLE_STYLE="p_AFInlineEditable";
this._SELECTABLE_STYLE="p_AFInlineSelectable";this._STATE_PARAM_NAME="javax.faces.ViewState";this._STREAMING_IDS_PARAM="oracle.adf.view.rich.STREAM";this._REMOVED_STREAMING_IDS_PARAM="oracle.adf.view.rich.NOSTREAM";this._STREAMING_REQUEST_SENT=0;this._STREAMING_STARTED=1;this._STREAMING_COMPLETE=2;this._LAZY_FETCH_ID_PARAM="oracle.adf.view.rich.LAZY_FETCH";this._RICH_UPDATE_FLAG="oracle.adf.view.faces.RICH_UPDATE";this._NAVIGATION_WRAPPER_ID="afr::DocWrapper";this._NAVIGATION_VIEW_ROOT="_afrNavViewRoot";
this._NAVIGATION_QUERY_PARAMS="_afrNavParams";this._DELAYED_RESIZE_TIMEOUT=150;this._ACTIVE_DATA_HOT_KEY=AdfKeyStroke.getKeyStroke(AdfKeyStroke.R_KEY,AdfKeyStroke.ALT_MASK|AdfKeyStroke.CTRL_MASK);this._ACTIVE_DATA_HOT_KEY_TEXT="Ctrl+Alt+R";this._DOCUMENT_STYLE_HOLDER="_afrStyleHolder";this.PPR_NAVIGATION_ON=1;this.PPR_NAVIGATION_FORCE_PPR=2;this._MSG_RESET_CLIENT_AND_SERVER=0;this._MSG_RESET_SERVER=1;this._PARSER_DIV_ID="_afrParserDiv";this._BLOCKING_DIV_ID="_afBlockingDiv";this._BLOCKING_OPACITY=
0;this._POSTSCRIPT_ID_SUFFIX="::postscript"};AdfDhtmlPage.TimeoutWarningWindowStates={NONE:0,CANCEL:1,LAUNCHED:2};AdfDhtmlPage.PollingTimeoutStates={NONE:0,STARTED:1};
AdfDhtmlPage.prototype.Init=function(a,b){AdfAssert.assertPrototype(a,AdfLookAndFeel);AdfDhtmlPage.superclass.Init.call(this,a);this._window=b;this._document=b.document;this._jsfAjaxInit=this._lastDomEvent=null;this._clientIdToComponentMap={};var d=AdfLogger.LOGGER.getLogWriter();AdfClientFileLogWriter.prototype.isPrototypeOf(d)&&d.setSessionId(AdfDhtmlPage._getCookie(this._document,"JSESSIONID"));AdfDhtmlPage.PARTIAL_TARGETS_PARAM="oracle.adf.view.rich.RENDER";this._eventQueue=[];this._serverEventQueue=
[];this._noResponseEventQueue=[];this._discreteEventQueue=[];this._busyCounts={};this._accessibilityMode=AdfDhtmlPage.DEFAULT_ACCESSIBILITY_MODE;this._portlet=!1;this._rootClientId="";this._animationEnabled=!0;this._validateEmptyFields=this._interpretEmptyString=!1;this._activeDomNode=null;this._inLayout=!1;b.onunload=this.createCallback(this.Dispose);b.onresize=this.createCallback(this._handleResize);d=this.getDomDocument();d.ondragstart=AdfAgent.eatEventCallback;d.onselectstart=this.createCallback(this._onSelectStart);
this._dragLastY=this._dragLastX=this._dragStartY=this._dragStartX=0;var d=this.createCallback(this._dragMouseMove),e=this.createCallback(this._dragMouseUp),f=this.createCallback(this._dragKeyDown);this._dragDropCallbacks=AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=AdfAgent.CAP_TOUCH_SCREEN_NONE?{touchmove:d,touchend:e,touchcancel:f}:{mousemove:d,mouseup:e,keydown:f};this._resizeNotifyTree={};this._resizeNotifyMap={};this._descendantResizeNotifyList=[];this._keyStrokeToCallbackMap=
{};this._keyStrokeToCallbackContextMap={};this._pageProperties={};AdfDhtmlPage._timers={};AdfDhtmlPage._nextTimerId=1;this._editableCallbackContext=this._editableCallback=this._inlineEditor=this._editedComponentId=this._editableSubtreeId=this._selectedEditingComponents=null;this._activeComponents={};this._autoPPRComponents={};this._startADSClientIds={};this._startADSClientIdCount=0;this._stopADSClientIds=[];this._canReceiveActiveDataCount=1;this._stopGlobalActiveData();this._defaultMessageKey="____GLOBAL_MESSAGES";
this._messages={};this._delayedMessages={};this._serverTimeDifference=0;this._isWindowClosing=!1;this._lastPollTime=null;this._reconnectRetries=this._lastActiveDataActivityTime=0;this._restartInterval=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.restartInterval;this._maxReconnectionRetries=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.maxReconnectionRetries;this._reconnectWaitTime=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.reconnectWaitTime;this._latencyThreshold=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.latencyThreshold;
this._transport=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.transport;this._pollingInterval=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.pollingInterval;this._keepAliveInterval=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.keepAliveInterval;this._pollingTimer=null;this._globalMessagesResetStrategy=AdfDhtmlPage._MSG_RESET_CLIENT_AND_SERVER;this._timeoutWarningWindowState=AdfDhtmlPage.TimeoutWarningWindowStates.NONE;this._pendingStreamingIDs={};this._documentClientId=null;this._replaceJsfAjaxFunctions();this._responseId=
this._sessionId=null;this.__shouldTracePPRRequestId=!1;this._perfProfileEnabled=b._afrTimingPreLoadStart?!0:!1;this._perfProfileTimingEnabled=b._afrTimingPreLoadTimingStart?!0:!1;this._positionBlockingGlassPaneCallback=this.createCallback(this._positionBlockingGlassPane);if(this._perfProfileEnabled||this._perfProfileTimingEnabled)d=new AdfLogger("profiler",AdfAgent.AGENT.createDefaultLogWriter()),d.getLevel()>AdfLogger.INFO&&d.setLevel(AdfLogger.INFO),AdfLogger.PROFILER_LOGGER=d,AdfLogger.PROFILER_LOGGER.register();
this._haveOutstandingPPRRequest=!1;this._loadingComponents=[];this._componentsUpdatedByPollEvent=null};AdfDhtmlPage.prototype.isPageFullyLoaded=function(){return this.isSynchronizedWithServer()};AdfDhtmlPage.prototype.isPageOnloadCalled=function(){return this._initializationComplete};
AdfDhtmlPage.prototype.isSynchronizedWithServer=function(){this._throwSavedErrors();try{if(this.getPhase()!=AdfPage.WAITING_FOR_USER_INPUT_PHASE||this._eventQueue.length!=0)return!1;if(AdfDhtmlRichDialogService.isBusy())return!1;var a=this.getDataTransferService();if(a&&a.getDTSState()==a.constructor.STATE_READY&&!a.streamingResponsesOutstanding())return this._initializationComplete&&this._serverEventQueue.length==0&&this._noResponseEventQueue.length==0&&this._discreteEventQueue.length==0&&this._partialTargets==
null&&this._startADSClientIdCount==0&&this._windowEventHeaderMap==null&&!this._partialRequestRedirect&&!this._inDeliverQueuedServerEvents&&!this._inDeliverQueuedEvents&&!this._waitingForDocumentUnload&&this._areComponentsLoaded()}catch(b){}return!1};AdfDhtmlPage.prototype.registerLoadingComponent=function(a){a=a.getClientId();AdfAssert.assert(AdfCollections.indexOf(this._loadingComponents,a)==-1,"Component already registered");this._loadingComponents.push(a)};
AdfDhtmlPage.prototype.unregisterLoadingComponent=function(a){AdfCollections.removeArrayValue(this._loadingComponents,a.getClientId())};AdfDhtmlPage.prototype._areComponentsLoaded=function(){for(var a=this._loadingComponents,b=a.length,d=0;d<b;d++)if(this.findComponent(a[d]).getReadyState()!=AdfUIComponent.STATE_COMPLETE)return!1;return!0};AdfDhtmlPage.prototype.isPerformingFullSubmit=function(){return this._inAppNavigationFlag};
AdfDhtmlPage.prototype.getFailedConnectionText=function(){var a=AdfDhtmlPage.superclass.getFailedConnectionText.call(this);a==null&&(a=this.getLookAndFeel().getTranslatedString("af_document.MSG_FAILED_CONNECTION"));return a};AdfDhtmlPage.prototype.getAccessibilityMode=function(){return this._accessibilityMode};
AdfDhtmlPage.prototype.setAccessibilityMode=function(a){AdfAssert.assert(a==AdfDhtmlPage.SCREEN_READER_ACCESSIBILITY_MODE||a==AdfDhtmlPage.DEFAULT_ACCESSIBILITY_MODE||a==AdfDhtmlPage.INACCESSIBLE_ACCESSIBILITY_MODE,"invalid accessibility mode: ",a);this._accessibilityMode=a};AdfDhtmlPage.prototype.isScreenReaderMode=function(){return this._accessibilityMode==AdfDhtmlPage.SCREEN_READER_ACCESSIBILITY_MODE};AdfDhtmlPage.prototype.setPortlet=function(a,b){this._portlet=a;this._rootClientId=b};
AdfDhtmlPage.prototype.isPortlet=function(){return this._portlet};AdfDhtmlPage.prototype.getRootClientId=function(){return this._rootClientId};AdfDhtmlPage.prototype.isPPRNavigationEnabled=function(){return 0!=(this.getPPRNavigationOptions()&AdfDhtmlPage.PPR_NAVIGATION_ON)};AdfDhtmlPage.prototype.setHelpWindowName=function(a){AdfDomUtils._setHelpWindowName(a)};AdfDhtmlPage.prototype.launchHelpWindow=function(a){AdfDomUtils.launchHelpWindow(a)};
AdfDhtmlPage.prototype.localNavigate=function(a){if(this.checkUncommittedData())this.isPPRNavigationEnabled()?(this._blockUI(!0),this.getDataTransferService().sendRequest(null,a,null,"_",[this])):this.getDomWindow().location.href=a};AdfDhtmlPage.prototype.checkUncommittedData=function(){var a=!0;if(this._warnUncommitted&&(this._dataDirty||this._hasLocalUncommitted))a=this._displayUncommittedDataWarning();return a};
AdfDhtmlPage.prototype.setAnimationEnabled=function(a){AdfAssert.assertBoolean(a);this._animationEnabled=a};AdfDhtmlPage.prototype.isAnimationEnabled=function(){return this._animationEnabled};AdfDhtmlPage.prototype.getSessionIdentifier=function(){return this._sessionId};AdfDhtmlPage.prototype.__setSessionIdentifier=function(a){this._sessionId=a};AdfDhtmlPage.prototype.__notifyReturnFromDialog=function(){this._dataDirty=!1;this._resetUncommittedIds()};
AdfDhtmlPage.prototype.shouldInterpretEmptyStringSubmittedValuesAsNull=function(){return this._interpretEmptyString};AdfDhtmlPage.prototype.__setShouldInterpretEmptyStringSubmittedValuesAsNull=function(a){this._interpretEmptyString=a};AdfDhtmlPage.prototype.shouldValidateEmptyFields=function(){return this._validateEmptyFields};AdfDhtmlPage.prototype.__setShouldValidateEmptyFields=function(a){this._validateEmptyFields=a};AdfDhtmlPage.prototype.getResponseIdentifier=function(){return this._responseId};
AdfDhtmlPage.prototype.__setResponseIdentifier=function(a){this._responseId=a};AdfDhtmlPage.prototype.shouldTracePPRRequestId=function(){return this.__shouldTracePPRRequestId};AdfDhtmlPage.prototype.__setShouldTracePPRRequestId=function(a){this.__shouldTracePPRRequestId=a};AdfDhtmlPage.prototype.setPageProperty=function(a,b){AdfAssert.assertString(a);this._pageProperties[a]=b};AdfDhtmlPage.prototype.getPageProperty=function(a){AdfAssert.assertString(a);return this._pageProperties[a]};
AdfDhtmlPage.prototype.findComponent=function(a){return this._clientIdToComponentMap[a]};AdfDhtmlPage.prototype.findComponentByAbsoluteLocator=function(a){AdfAssert.assertNonEmptyString(a);var b=AdfPage.PAGE.findComponent(a);if(b)return b;var b=a.lastIndexOf(":"),d=a.substring(b),e=d.length,f;for(f in this._clientIdToComponentMap)if(f.substring(f.length-e)==d&&(b=this._clientIdToComponentMap[f],b!=null&&b.getAbsoluteLocator()==a))return b;return null};
AdfDhtmlPage.prototype.unmapComponent=function(a){a in this._activeComponents&&this._stopActiveData(a);a in this._autoPPRComponents&&this._stopAutoPPR(a);delete this._clientIdToComponentMap[a]};AdfDhtmlPage.prototype.mapComponent=function(a,b){this._clientIdToComponentMap[a]=b};
AdfDhtmlPage.prototype.addResource=function(a,b){switch(a){case "javascript":this._loadScript(b);break;case "css":var d=this._loadCss(b);d.setAttribute("afrres","true");break;case "style":d=this._createStyle(b),d.setAttribute("afrres","true")}};
AdfDhtmlPage.prototype.Dispose=function(){AdfLogger.PROFILER_LOGGER!=null&&AdfLogger.PROFILER_LOGGER.getLogWriter().close();this._beforeUnloadDelayed&&this._onBeforeUnload();AdfDhtmlRichDialogService.getInstance().cancelAll();var a=this._autoDismissalManager;if(a)a.dispose(),this._autoDismissalManager=null;if(a=this._modalityManage)a.dispose(),this._modalityManager=null;if(a=this._positionManager)a.dispose(),this._positionManager=null;if(a=this._zOrderManager)a.dispose(),this._zOrderManager=null;
(a=AdfNavigationHistoryAgent.getInstance())&&a.dispose();this.setEditableSubtree(null);var b=AdfAgent.AGENT,a=this.getDomDocument(),d=this.getDomWindow(),e=this._touchContextMenuManager;e&&e.dispose();this._disposeTimers();if(e=this._redistributeEventsCallback)b.removeEventBubbles(a,e),this._redistributeEventsCallback=null;if(this._onBeforeUnloadCallback)b.removeBubbleEventListener(d,"beforeunload",this._onBeforeUnloadCallback),this._onBeforeUnloadCallback=null;if(e=this._keyEventCallback)b.removeKeyEventListener(a,
e),this._keyEventCallback=null;d.onload=null;d.onunload=null;d.onresize=null;if(b=this._dataTransferService)b.dispose(),this._dataTransferService=null;delete this._lastFocusedElement;this._touchContextMenuManager=this._dragDropCallbacks=this._delayedResizeCallback=this._document=this._lastDomEvent=this._window=this._keyCaptureState=this._activeElementBeforeBlocking=this._uiMaskingFrame=this._glassPane=this._uiBlockingDiv=this._pageProcessingIndicator=null;AdfDhtmlPage._disposeIFrames(a);AdfDhtmlPage.superclass.Dispose.call(this);
this.isScreenReaderMode()&&this.unregisterKeyStroke(AdfDhtmlPage._ACTIVE_DATA_HOT_KEY)};AdfDhtmlPage.prototype.addPartialTargets=function(){var a=arguments.length;if(a>0){var b=this._partialTargets;if(b==null)this._partialTargets=b=[];for(var d=0;d<a;d++){var e=arguments[d];AdfAssert.assertPrototype(e,AdfUIComponent);e=e.getClientId();e in b||(b[e]=!0,b.push(e))}this.queueEventTimerIfNeeded()}};
AdfDhtmlPage.prototype._scrubPartialTargets=function(a){var b=null;if(a){for(var b=[],d=a.length,e=0;e<d;e++){var f=a[e];this.findComponent(f)&&b.push(f)}b.length||(b=null)}return b};
AdfDhtmlPage.prototype.addComponents=function(){var a=this.getDomWindow();if(this._perfProfileEnabled)a._afrTimingAddComponentsStart=(new Date).getTime();for(var b=arguments.length,d=0;d<b;d++)AdfAssert.assertPrototype(arguments[d],AdfUIComponent),arguments[d].AddNotify();if(this._perfProfileEnabled)a._afrTimingAddComponentsEnd=(new Date).getTime()};
AdfDhtmlPage.prototype.addBusyStateListener=function(a,b){AdfAssert.assertFunction(b);AdfAssert.assertObjectOrNull(a);this._busyStateListeners=AdfEventUtils.addListener(this._busyStateListeners,a,b)};AdfDhtmlPage.prototype.removeBusyStateListener=function(a,b){AdfAssert.assertFunction(b);AdfAssert.assertObjectOrNull(a);this._busyStateListeners=AdfEventUtils.removeListener(this._busyStateListeners,b,a)};
AdfDhtmlPage.prototype._broadcastBusyStateEvent=function(a){this._busyState==a?AdfLogger.LOGGER.finest("busy state event broadcast called without a change in state"):(this._busyState=a,this._busyStateListeners&&AdfEventUtils.deliverEventToListeners(this._busyStateListeners,new AdfBusyStateEvent(this,a)))};
AdfDhtmlPage.prototype.__registerDescendantResizeNotifyComponent=function(a){for(var b=this._descendantResizeNotifyList,d=b.length,e=a.getClientId(),f=AdfLogger.LOGGER,g=f.isLoggable(AdfLogger.WARNING),h=0;h<d;h++){var k=b[h].component;if(k==a)return;else if(k.getClientId()==e){g&&(b=this.getDomDocument(),g=d="unknown",k=k.getPeer(),a=a.getPeer(),k&&(k=k.getDomElement())&&(d=AdfDomUtils.getCommonAncestor(b,k)!=null),a&&(a=a.getDomElement())&&(g=AdfDomUtils.getCommonAncestor(b,a)!=null),f.warning("__registerDescendantResizeNotifyComponent: Another (different) component instance with this same clientId is already in the descendant resize notify list: "+
e+" (existingConnected="+d+", newConnected="+g+")"));return}}e={component:a,depth:AdfDomUtils.getElementDepth(AdfRichUIPeer.getDomElementForComponent(a))};b.push(e);if(b.length>1)this._descendantResizeNotifyListDirty=!0;this._descendantResizeNotifyList=b};AdfDhtmlPage.prototype.__unregisterDescendantResizeNotifyComponent=function(a){for(var b=this._descendantResizeNotifyList,d=b.length,e=0;e<d;e++)if(b[e].component==a){b.splice(e,1);break}};
AdfDhtmlPage.prototype.__queueDescendantResizeNotifySource=function(a){var b=this._descendantResizeNotifyQueue,a=a.getClientId();if(b==null)b=this._descendantResizeNotifyQueue=[];else if(AdfCollections.indexOf(b,a)!=-1)return;b.push(a)};
AdfDhtmlPage.prototype.__doDescendantResizeNotify=function(){if(this._descendantResizeNotifyQueue&&!this._inDescendentResizeNotify){this._inDescendentResizeNotify=!0;try{for(;this._descendantResizeNotifyQueue.length>0;)this._doDescendantResizeNotifyOnQueue(this._descendantResizeNotifyQueue.splice(0,this._descendantResizeNotifyQueue.length))}finally{delete this._inDescendentResizeNotify,delete this._descendantResizeNotifyQueue}}};
AdfDhtmlPage.prototype._doDescendantResizeNotifyOnQueue=function(a){var b=a.length,d=this._descendantResizeNotifyList,e=d.length;if(this._descendantResizeNotifyListDirty)d.length>1&&d.sort(AdfDhtmlPage._descendantResizeNotifyListComparator),this._descendantResizeNotifyListDirty=!1;for(var f=AdfLogger.LOGGER,g=f.isLoggable(AdfLogger.WARNING),h=0;h<e;h++){var k=d[h].component;if(g){var l=k.getClientId(),m=!1,n;for(n in this._resizeNotifyMap)n==l&&(m=!0);if(!m){f.warning("__doDescendantResizeNotify: A component instance is registered with the descendant resize notify list but not with the regular resize notify list but must be: "+
n);break}}for(l=0;l<b;l++)if((m=this.findComponent(a[l]))&&(m==k||m.isDescendant(k))){this.doResizeNotify(k);break}}};AdfDhtmlPage._descendantResizeNotifyListComparator=function(a,b){var d=a.depth,e=b.depth;if(d>e)return-1;else if(d<e)return 1;return 0};
AdfDhtmlPage.prototype.registerResizeNotifyComponent=function(a){var b={component:a},d=a.getClientId(),e=this._resizeNotifyMap;e[d]=b;var f,a=AdfRichUIPeer.getDomElementForComponent(a);AdfAssert.assertDomElement(a);if(a){for(a=a.parentNode;a;){if(a.nodeType==1&&(f=e[a.id]))break;a=a.parentNode}if(f==null)f=this._resizeNotifyTree;if(f.children==null)f.children=[];f.children.push(b);b.parent=f}};
AdfDhtmlPage.prototype.unregisterResizeNotifyComponent=function(a){var b=a.getClientId(),d=this._resizeNotifyMap;if(a=d[b])if(delete d[b],(b=a.parent)&&AdfCollections.removeArrayValue(b.children,a),delete a.parent,b=a.children)AdfAssert.assert(b.length==0,"Unexpected number of children: "+b.length),delete a.children};
AdfDhtmlPage.prototype.doResizeNotify=function(a){if(a==null)a=this._resizeNotifyTree;else{var b=a.getClientId(),a=this._resizeNotifyMap[b];AdfAssert.assert(a!=null,b)}AdfDhtmlPage._doResizeNotify(a,!0)};
AdfDhtmlPage.prototype.doResizeNotifyDom=function(a,b){var d=this._resizeNotifyMap,e=d[a.id];if(e)AdfDhtmlPage._doResizeNotify(e,b);else{for(var f=a.parentNode;f;){if(e=d[f.id])break;f=f.parentNode}d=!1;if(!e)(e=this.getZOrderManager())&&(d=e.containsElement(a)),e=this._resizeNotifyTree;this._doResizeNotifyDomChildren(a,e,d);e=this.getPositionManager();d&&e&&e.resizeFloatingElement(a)}};
AdfDhtmlPage.prototype._doResizeNotifyDomChildren=function(a,b,d){var e=AdfAgent.AGENT;if(b=b.children)for(var f=b.length,g=0;g<f;g++){var h=b[g],k=h.component.getClientId(),k=e.getElementById(k);AdfDomUtils.isAncestor(a,k)?AdfDhtmlPage._doResizeNotify(h,!1):d&&this._doResizeNotifyDomChildren(a,h,!0)}};AdfDhtmlPage.prototype.addPropertyChangeListener=function(a,b){AdfAssert.assertFunction(b);this._propertyChangeListeners=AdfEventUtils.addListener(this._propertyChangeListeners,a,b)};
AdfDhtmlPage.prototype.removePropertyChangeListener=function(a,b){AdfAssert.assertFunction(b);this._propertyChangeListeners=AdfEventUtils.removeListener(this._propertyChangeListeners,b,a)};AdfDhtmlPage.prototype.getSelectedEditingComponents=function(){var a=this._selectedEditingComponents,b=null;if(a)for(var b=[],d=a.length,e=0;e<d;e++){var f=this.findComponent(a[e]);f&&b.push(f)}return b};
AdfDhtmlPage.prototype.setSelectedEditingComponents=function(a){AdfAssert.assertArrayOrNull(a);a=this._intersectSelectionWithEditableSubtree(this.getEditableSubtree(),a);this._setSelectedEditingComponents(a)};AdfDhtmlPage.prototype.getEditableSubtree=function(){var a=this._editableSubtreeId;return a!=null?this.findComponent(a):null};
AdfDhtmlPage.prototype.setEditableSubtreeFilter=function(a,b){AdfAssert.assertFunctionOrNull(a);this._editableCallback=a;this._editableCallbackContext=b;var d=this._editableSubtreeId;d!=null&&(d=AdfAgent.AGENT.getElementById(d),this._unfilterEditableSubtree(d),this._filterEditableSubtree(d,a,b))};
AdfDhtmlPage.prototype._unfilterEditableSubtree=function(a){AdfAssert.assertDomElement(a);var b=a.id;b&&this.findComponent(b)&&(AdfDomUtils.removeCSSClassName(a,AdfDhtmlPage._SELECTABLE_STYLE),AdfDomUtils.removeCSSClassName(a,AdfDhtmlPage._EDITABLE_STYLE));for(a=a.firstChild;a;)a.nodeType==1&&this._unfilterEditableSubtree(a),a=a.nextSibling};
AdfDhtmlPage.prototype._getFilterResult=function(a,b,d){return a.satisfiesUsage(AdfUIComponent.USAGE_PRIVATE_CHILD)?AdfRichInlineEditor.FILTER_UNSELECTABLE:b?b.call(d,a):AdfRichInlineEditor.FILTER_EDITABLE};AdfDhtmlPage.prototype._filterComponent=function(a,b,d,e){if(e=this._getFilterResult(a,d,e)){d=AdfDhtmlPage._SELECTABLE_STYLE;if(e==AdfRichInlineEditor.FILTER_EDITABLE&&(e=a.getPeer().getInlineEditor(a,null))&&e.preEdit(a))d=AdfDhtmlPage._EDITABLE_STYLE;AdfDomUtils.addCSSClassName(b,d)}};
AdfDhtmlPage.prototype._getClientIdFromComment=function(a){a=a.nodeValue;return"compS|"==a.substring(0,6)?a.substr(6):null};AdfDhtmlPage.prototype._getComponentFromComment=function(a){return(a=this._getClientIdFromComment(a))?this.findComponent(a):null};
AdfDhtmlPage.prototype._filterEditableSubtree=function(a,b,d){AdfAssert.assertDomElement(a);var e=a.id;e&&(e=this.findComponent(e))&&this._filterComponent(e,a,b,d);for(a=a.firstChild;a;){e=a.nodeType;if(e==1)this._filterEditableSubtree(a,b,d);else if(e==8&&(e=this._getComponentFromComment(a))){for(var f=a.nextSibling;f&&f.nodeType!=1;)f=f.nextSibling;f&&this._filterComponent(e,f,b,d)}a=a.nextSibling}};
AdfDhtmlPage.prototype.setEditableSubtree=function(a){AdfAssert.assertPrototypeOrNull(a,AdfUIComponent);var b=this._editableSubtreeId,d=a?a.getClientId():null;if(d!=b){var e=this.getEditableSubtree();b!=null&&(b=AdfRichUIPeer.getDomElementForComponent(e),b!=null&&(AdfAgent.AGENT.removeEventCaptures(b,AdfDhtmlPage._inlineSelectionStub),AdfDomUtils.removeCSSClassName(b,"p_AFActiveInlineEditableContainer"),this._unfilterEditableSubtree(b)));this._editableSubtreeId=d;d!=null?(d=this._intersectSelectionWithEditableSubtree(a,
this._selectedEditingComponents),b=AdfRichUIPeer.getDomElementForComponent(a),b!=null&&(this._filterEditableSubtree(b,this._editableCallback,this._editableCallbackContext),AdfAgent.AGENT.addEventCaptures(b,AdfDhtmlPage._inlineSelectionStub),AdfDomUtils.addCSSClassName(b,"p_AFActiveInlineEditableContainer"))):d=null;this._setSelectedEditingComponents(d);AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfPage.EDITABLE_SUBTREE_PROPERTY,e,a)}};
AdfDhtmlPage.prototype.getEditedComponent=function(){var a=this._editedComponentId;return a!=null?this.findComponent(a):null};
AdfDhtmlPage.prototype.setEditedComponent=function(a,b){AdfAssert.assertPrototypeOrNull(a,AdfUIComponent);var d;if(a!=null){var d=a.getClientId(),e=AdfRichUIPeer.getDomContentElementForComponent(a);AdfDomUtils.containsCSSClassName(e,AdfDhtmlPage._EDITABLE_STYLE)||(d=null,AdfDomUtils.containsCSSClassName(e,AdfDhtmlPage._SELECTABLE_STYLE)||(a=null))}else d=null;e=null;d!=null&&(e=a.getPeer().getInlineEditor(a,b),e==null&&(a=d=null));var f;if(this._editedComponentId!=d){var f=this.getEditedComponent(),
g=this._inlineEditor;g!=null&&g.stopEdit();this._editedComponentId=d;this._inlineEditor=e}else f=a;a&&this.setSelectedEditingComponents([a]);f!=a&&(e!=null&&e.startEdit(a,b),AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfPage.EDITED_COMPONENT_PROPERTY,f,a))};
AdfDhtmlPage.prototype.getDataTransferService=function(a,b){var d,d=b?this._adsDataTransferService:this._dataTransferService;if(d==null){if(a)return null;d=this.getDomWindow();d=new AdfDataTransferService(d);b?this._adsDataTransferService=d:this._dataTransferService=d;d.addStateChangeListener(this._dtsStateChanged,this)}return d};AdfDhtmlPage.prototype.getAutoDismissalManager=function(){var a=this._autoDismissalManager;if(a==null)this._autoDismissalManager=a=new AdfAutoDismissalManager;return a};
AdfDhtmlPage.prototype.getModalityManager=function(){var a=this._modalityManager;if(a==null)this._modalityManager=a=new AdfDhtmlModalityManager;return a};AdfDhtmlPage.prototype.getPositionManager=function(){var a=this._positionManager;if(a==null)this._positionManager=a=new AdfDhtmlPositionManager;return a};AdfDhtmlPage.prototype.getZOrderManager=function(){var a=this._zOrderManager;if(a==null)this._zOrderManager=a=new AdfDhtmlZOrderManager;return a};
AdfDhtmlPage.prototype.scheduleTimer=function(a,b,d,e){AdfAssert.assertFunction(b);AdfAssert.assertNumber(e);var f=AdfDhtmlPage._timers,g=AdfDhtmlPage._nextTimerId++,a={context:a,state:d,callback:b,timerId:g};f[g]=a;a.domTimerId=this.getDomWindow().setTimeout("AdfDhtmlPage.__callTimerCallback("+g+");",e);return g};
AdfDhtmlPage.prototype.rescheduleTimer=function(a,b){AdfAssert.assertNumeric(a);AdfAssert.assertNumber(b);var a=a.valueOf(),d=AdfDhtmlPage._timers[a];d!=null?(window.clearTimeout(d.domTimerId),d.domTimerId=this.getDomWindow().setTimeout("AdfDhtmlPage.__callTimerCallback("+a+");",b)):AdfLogger.LOGGER.warning("Attempt to reschedule unknown timerId:",a)};
AdfDhtmlPage.prototype.cancelTimer=function(a){AdfAssert.assertNumeric(a);var a=a.valueOf(),b=AdfDhtmlPage._timers,d=b[a];d!=null?(this.getDomWindow().clearTimeout(d.domTimerId),delete b[a]):AdfLogger.LOGGER.warning("Attempt to cancel unknown timerId:",a)};AdfDhtmlPage.prototype._disposeTimers=function(){var a=AdfDhtmlPage._timers;AdfDhtmlPage._timers=null;var b=this.getDomWindow(),d;for(d in a){var e=a[d];if(e!=null)try{b.clearTimeout(e.domTimerId)}catch(f){}}};
AdfDhtmlPage.__callTimerCallback=function(a){AdfAssert.assertNumber(a);var b=AdfDhtmlPage._timers;if(b!=null){var d=b[a];if(d!=null){var e;try{e=d.callback.call(d.context,d.state)}catch(f){AdfLogger.LOGGER.logErrorAsWarning(f," when calling timer callback")}AdfAssert.assertNumberOrNull(e);e==void 0||e<0?delete b[a]:d.domTimerId=AdfPage.PAGE.getDomWindow().setTimeout("AdfDhtmlPage.__callTimerCallback("+a+");",e)}}};
AdfDhtmlPage.prototype._getAndClearDeltas=function(a){var b=this.GetChangedComponents();if(b==null)return null;var d=Array(50),e=!1,f=AdfStrings.COMMA,g=AdfStrings.EQUALS,h=AdfStrings.START_CURLY_BRACKET,k=AdfStrings.CLOSE_CURLY_BRACKET,l;for(l in b){var m=b[l];if(!m.getPeer()){var n=this.findComponent(m.getClientId());n&&(m=n)}var n=!1,o=m.GetChanges(),p;for(p in o){n?d.push(f):(e?d.push(f):(d.push(h),e=!0),d.push(m.getClientId()),d.push("={"),n=!0);var s=o[p],q=p.length-2;p.lastIndexOf(AdfUIComponent._FLAG_PERSISTENCE)==
q&&p.substr(0,q);null!=s&&(s=s.toString().replace(/\{/g,"%7B").replace(/\}/g,"%7D").replace(/\,/g,"%2C").replace(/\=/g,"%3D"));d.push(p);d.push(g);d.push(s)}n&&d.push(k)}e&&d.push(k);a&&this.ClearChangesList();return d.join("")};AdfDhtmlPage.prototype.getResourceURL=function(a){return a.substring(0,2)=="//"?a.substring(1):a.charAt(0)=="/"?this._baseResourceUrl+a:a};
AdfDhtmlPage.prototype.removeResourceURL=function(a){var b=this._baseResourceUrl,d=a.indexOf(b);return d>=0?a.substr(d+b.length):a.charAt(0)=="/"?"/"+a:a};AdfDhtmlPage._disposeIFrames=function(a){for(var a=a.getElementsByTagName("iframe"),b=a.length-1;b>=0;b--){var d=a[b];d.parentNode.removeChild(d)}};AdfDhtmlPage._forceGC=function(a){for(var b=Array(a),d=0;d<a;d++){for(var e=Array(1E4),f=0;f<1E4;f++)e[f]=f;b[d]=e}};
AdfDhtmlPage.prototype._onSelectStart=function(){var a=this.getDnDContext();return!(a&&a.isDragging())};AdfDhtmlPage.prototype._handleResize=function(){if(AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM){if(!this._resizePending)this._resizePending=!0,setTimeout(this._getDelayedResizeCallback(),AdfDhtmlPage._DELAYED_RESIZE_TIMEOUT)}else this._onResize()};
AdfDhtmlPage.prototype._getDelayedResizeCallback=function(){if(!this._delayedResizeCallback)this._delayedResizeCallback=this.createCallback(this._delayedOnResize);return this._delayedResizeCallback};AdfDhtmlPage.prototype._delayedOnResize=function(){this._resizePending=!1;this._onResize()};
AdfDhtmlPage.prototype._onResize=function(){if(this.getPhase()!=AdfPage.CREATE_VIEW_PHASE){this._positionGlassPane(!1);var a=AdfDhtmlPage._BROWSER_RESIZE_CHECKPOINT.start();AdfDhtmlPage._doResizeNotify(this._resizeNotifyTree,!1);AdfDhtmlPage._BROWSER_RESIZE_CHECKPOINT.stop(a)}};
AdfDhtmlPage.prototype.startDrag=function(a,b,d,e,f){var g=AdfAgent.AGENT,a=g.getMousePosition(a);this._dragStartX=a.x;this._dragStartY=a.y;this._dragLastX=this._dragStartX;this._dragLastY=this._dragStartY;this._moveCallback=b;this._dropCallback=d;this._abortCallback=e;(this._dragHideGlassPane=f)?this.showGlassPane(this._dragDropCallbacks,"auto"):(b=this._dragDropCallbacks,g.startMouseEventCapture(b),this._keyCaptureState=g.startDocumentKeyEventCapture(b,this._document.documentElement))};
AdfDhtmlPage.prototype._dragMouseMove=function(a){var b=this._moveCallback,d=AdfAgent.AGENT.getMousePosition(a);b&&b(a,d.x-this._dragLastX,d.y-this._dragLastY);this._dragLastX=d.x;this._dragLastY=d.y};AdfDhtmlPage.prototype._dragMouseUp=function(a){var b=this._dropCallback,d=AdfAgent.AGENT.getMousePosition(a);this.stopDrag();b&&b(a,d.x-this._dragStartX,d.y-this._dragStartY);this._dragLastX=d.x;this._dragLastY=d.y};
AdfDhtmlPage.prototype._dragKeyDown=function(a){if(a.keyCode==AdfKeyStroke.ESC_KEY){var b=this._abortCallback;if(b)return this.stopDrag(),b(),AdfAgent.AGENT.eatEvent(a),!1}};
AdfDhtmlPage.prototype.stopDrag=function(){if(this._dragHideGlassPane)this.hideGlassPane(this._dragDropCallbacks);else{var a=AdfAgent.AGENT,b=this._dragDropCallbacks;a.stopMouseEventCapture(b);var d=a.getPlatform()==AdfAgent.IE_PLATFORM?this._keyCaptureState:null;delete this._keyCaptureState;a.endDocumentKeyEventCapture(b,this._document.documentElement,d)}this._abortCallback=this._dropCallback=this._moveCallback=null};AdfDhtmlPage.prototype.isDragging=function(){return this._moveCallback?!0:!1};
AdfDhtmlPage.prototype.setOnLoadCallback=function(a){this._onLoadCallback=a};AdfDhtmlPage.prototype.setExpectedWindowId=function(a){this._expectedWindowId=a};AdfDhtmlPage.prototype.getActiveComponentId=function(){return this._activeComponentId};AdfDhtmlPage.prototype._setActiveComponentId=function(a){this.__setActiveDomNodeInfo(a!=null?AdfAgent.AGENT.getElementById(a):null,a)};AdfDhtmlPage.prototype.getActiveDomElement=function(){return this._activeDomNode};
AdfDhtmlPage.prototype.getActiveComponent=function(){var a=this._activeComponentId;return a!=null?this.findComponent(a):null};
AdfDhtmlPage.prototype.__setActiveDomNodeInfo=function(a,b){AdfAssert.assertDomNodeOrNull(a);AdfAssert.assertStringOrNull(b);a===void 0&&(a=null);var d=this.getActiveComponent(),e=this._activeDomNode;if(AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM&&e&&a&&a.tagName=="BODY"&&this.getZOrderManager().containsElement(e))return AdfFocusUtils.focusElementDelayed(e,1),!1;this._activeDomNode=a;this._activeComponentId=b;AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfDhtmlPage.ACTIVE_DOM_ELEMENT_PROPERTY,
e,a);AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfPage.ACTIVE_COMPONENT_PROPERTY,d,this.getActiveComponent());return!0};
AdfDhtmlPage.prototype.queueEvent=function(a){if(a)if(AdfAssert.assertPrototype(a,AdfBaseEvent),this._partialRequestRedirect==!0&&AdfRedirectEvent.REDIRECT_EVENT_TYPE!=a.getType())AdfLogger.LOGGER.info("Redirect in progress... refusing to queue event : ",a);else{if(this._warnUncommitted&&AdfValueChangeEvent.VALUE_CHANGE_TYPE==a.getType())this._hasLocalUncommitted=!0,this._uncommittedIds[a.getSource().getClientId()]=!0;a.propagatesToServer()==!0&&(this._haveOutstandingPPRRequest!==void 0&&this._haveOutstandingPPRRequest==
!0?this.__perfTimings(!1,!1,!0,"user click event : ",a):this.__perfTimings(!0,!0,!0,"user click event: ",a));if(AdfDhtmlPage._MSG_RESET_CLIENT_AND_SERVER===this._globalMessagesResetStrategy&&a.getClearMessages()){AdfLogger.LOGGER.fine("Page level messages cleared by the following event: ",a);var b=this._resolveMessageComponentId(null,!1);AdfPage.PAGE.clearMessages(b)}if(a.isValidationNeeded()){AdfLogger.LOGGER.fine("Client validation triggered by the following event: ",a);var b=a.getSource(),d=a.isImmediate();
if(!this._processValidators(b,a.getRoot(),d)){a.cancel();this.showMessages();AdfLogger.LOGGER.info("Client validation failed. The following event that triggered the validation was not queued as a result: ",a);return}}this._eventQueue.push(a);this.getPhase()!=AdfPage.DELIVER_EVENTS_PHASE&&this.queueEventTimerIfNeeded()}};AdfDhtmlPage.prototype.queueEventTimerIfNeeded=function(){this._eventDispatcherID===void 0&&this._updateDeliveryTimer()};
AdfDhtmlPage.prototype.queueEventToServer=function(a){AdfAssert.assert(!this._inDeliverQueuedServerEvents);if(a)if(AdfAssert.assertPrototype(a,AdfBaseEvent),this._partialRequestRedirect==!0&&AdfRedirectEvent.REDIRECT_EVENT_TYPE!=a.getType())AdfLogger.LOGGER.info("Redirect in progress... refusing to queue event : ",a);else{if(a.isResponseExpected()){var b=a.getSource(),d=b.getClientId(),e=this._busyCounts,f=e[d];f||(f=0,b.getPeer()&&b.getPeer().setBusy(b,!0));e[d]=f+1;a.IsDeleveryDiscrete()?this._discreteEventQueue.push(a):
this._serverEventQueue.push(a)}else this._noResponseEventQueue.push(a);this.getPhase()!=AdfPage.DELIVER_EVENTS_PHASE&&this.queueEventTimerIfNeeded()}};AdfDhtmlPage.__setNonHtmlResponse=function(a){a.forceFullSubmit();a.noResponseExpected()};AdfDhtmlPage.__setNonHtmlResponsePartialSubmit=function(a){a.setPartial(!0);a.noResponseExpected()};AdfDhtmlPage.__scrollComponentIntoView=function(a,b){AdfPage.PAGE.scheduleTimer(AdfPage.PAGE,AdfDhtmlPage._scrollComponentIntoView,{clientId:a,focus:b},100)};
AdfDhtmlPage._scrollComponentIntoView=function(a){AdfPage.PAGE.findComponent(a.clientId).scrollIntoView(a.focus)};
AdfDhtmlPage.prototype._processValidators=function(a,b,d){if(!b)for(b=a;;){b=b.getParent();if(!b)return AdfLogger.LOGGER.severe("AdfDhtmlPage._processValidators: No form found"),!0;if(b instanceof AdfRichForm||b.isEventRoot())break}for(var b=b.getDescendantComponents(Array(b)),e=a.getClientId(),f=e.lastIndexOf(":"),a=[];f>0;)e=e.substring(0,f),f=this.findComponent(e),f!=null&&f instanceof AdfRichSubform&&a.push(e),f=e.lastIndexOf(":");for(var e=!0,g=0;b&&g<b.length;g++){var h=b[g];if(h!=null&&h instanceof
AdfUIEditableValue&&(!d||h.getImmediate())){for(var k=h.getClientId(),f=k.lastIndexOf(":"),l=null;f>0;){k=k.substring(0,f);f=this.findComponent(k);if(f!=null&&f instanceof AdfRichSubform){l=k;break}f=k.lastIndexOf(":")}f=!0;if(l!=null)if(k=a.length,k>0)for(subformIdIndex=0;subformIdIndex<k;subformIdIndex++)if(l==a[subformIdIndex])break;else subformIdIndex==k-1&&(f=!1);else this.findComponent(l).getDefault()==!1&&(f=!1);f&&(h.getValid()==!0?h.getRequired()&&(l=AdfRichUIPeer.getDomElementForComponent(h),
AdfDomUtils.isInVisibleSubtree(l)&&(h.validate(),h.getValid()==!1&&(e=!1))):(l=AdfRichUIPeer.getDomElementForComponent(h),AdfDomUtils.isInVisibleSubtree(l)&&(h=h.getClientId(),this.hasMessages(h)?e=!1:AdfLogger.LOGGER.severe("AdfDhtmlPage._processValidators: Ignoring that the component with the id '"+h+"' is invalid because there are no messages to show the user."))))}}return e};AdfDhtmlPage._timerDeliverEvents=function(){var a=AdfPage.PAGE;a._deliverAllQueuedEvents();a._eventDispatcherID=void 0};
AdfDhtmlPage.prototype._updateDeliveryTimer=function(){this._eventDispatcherID=this.getDomWindow().setTimeout(AdfDhtmlPage._timerDeliverEvents,50)};AdfDhtmlPage.prototype._eventLoopDeliverEvents=function(){this._deliverAllQueuedEvents();if(this._eventDispatcherID!==void 0)this.getDomWindow().clearTimeout(this._eventDispatcherID),this._eventDispatcherID=void 0};
AdfDhtmlPage.prototype._deliverAllQueuedEvents=function(){this._deliverQueuedEvents();this.getDataTransferService().getDTSState()==AdfDataTransferService.STATE_READY&&this._deliverQueuedServerEvents()};AdfDhtmlPage.prototype._deliverQueuedEvents=function(){var a=this._eventQueue;try{this._inDeliverQueuedEvents=!0;do{var b=a.shift();if(!b)break;b.getSource().broadcast(b)}while(1)}finally{this._inDeliverQueuedEvents=!1}};
AdfDhtmlPage._scrubEvents=function(a,b){if(!a)return null;for(var d=AdfPage.PAGE,e=0;e<a.length;e++){var f=a[e],g=f.getSource();g.getPeer()?b[f]=g:(g=d.findComponent(g.getClientId()))?b[f]=g:a.splice(e--,1)}return a};
AdfDhtmlPage.prototype._deliverQueuedServerEvents=function(){if(!this._partialRequestRedirect){this._inDeliverQueuedServerEvents=!0;var a={},b=AdfDhtmlPage._scrubEvents(this._serverEventQueue,a),d=this._scrubPartialTargets(this._partialTargets),e=AdfDhtmlPage._scrubEvents(this._noResponseEventQueue,a),f=AdfDhtmlPage._scrubEvents(this._discreteEventQueue,a),g=b.length>0,h=e.length>0,k=f.length>0,l=this._startADSClientIdCount>0&&this._canReceiveActiveDataCount>0,m=this._stopADSClientIds,n=l||m.length>
0,o=AdfCollections.isEmpty(this._getClientStateMap()),p=this._windowEventHeaderMap!=null,s=!1,q=!1,t=null;if(!g&&d==null&&!n&&!p)if(k)t=f.pop(),b.push(t),g=!0;else if(h)q=!0;else{this._inDeliverQueuedServerEvents=!1;return}var f={},u={},v=!0,w=null,y=AdfDhtmlPage._getFormElement,z=0!=(this.getPPRNavigationOptions()&AdfDhtmlPage.PPR_NAVIGATION_FORCE_PPR),C=!1;if(this._endUserMonitoringEnabled&&o)var A=AdfUserActivityInfo.getInstance(AdfUserActivityInfo._PRIMARY);if(d!=null)w=d.join(","),f[AdfDhtmlPage.PARTIAL_TARGETS_PARAM]=
w,this._endUserMonitoringEnabled&&o&&A.setPprTargets(w),w=y(this.findComponent(d[0])),this._partialTargets=null;if(d=this._getAndClearDeltas(g||h||k||f[AdfDhtmlPage.PARTIAL_TARGETS_PARAM]!=null))f["oracle.adf.view.rich.DELTAS"]=d,q=!1;d=!1;k=null;q&&(t=k=e.pop(),b.push(k),g=!0,k=a[k].getClientId());e={};if(g){for(var g=[],B=[];b.length>0;){var D=b.pop(),E=D.getType();e[E]=E;var F=a[D],G=F.getClientId();s||(s=D.isResponseAnnounced());var J=y(F);w==null&&(w=J);if(w==J){if(G){G in u||g.push(G);var J=
D.getProperties(),H=u[G];if(H){if(H[E])continue}else H=[],u[G]=H;H[E]=!0;var K=D._adfServerParams;K&&(f=AdfCollections.copyInto(K,f));H.push(J);this._endUserMonitoringEnabled&&o&&(F={eventType:D.getType(),componentClientId:G,componentType:F.getComponentType(),componentDisplayName:F.getAccessibleName()},A.setEventInfo(F))}else AdfLogger.LOGGER.severe("Can not post events for ",component," because it has no clientId");F=D.isPartial()&&!D.isFullSubmitForced();d=d||D.IsUserInputPrevented();z&&!F&&E==
AdfActionEvent.ACTION_EVENT_TYPE&&!D.isFullSubmitForced()&&(C=F=!0);v&=F}else AdfLogger.LOGGER.severe("Only submits to a single form are currently supported");(D=D.getRoot())?B!==null&&(D=D.getClientId(),B.push(D),G!=D&&B.push(G)):B=null}f.event=g.join(",")}this._endUserMonitoringEnabled&&o&&(a=(new Date).getTime().toString(),A.setClientStartTime(a),AdfUserActivityInfo.saveToSessionStorageByType(AdfUserActivityInfo._PRIMARY),f["oracle.adf.view.rich.monitoring.UserActivityInfo"]=AdfUserActivityInfo.getMarshaledObject());
for(var I in u)f["event."+I]=this._marshallMultipleEventParameters(u[I]);A=null;if(n){A={};if(l){l=this._startADSClientIds;this._startADSClientIds={};this._startADSClientIdCount=0;n=[];I=[];a=this._activeComponents;for(currClientId in l)w==null&&(w=y(this.findComponent(currClientId))),n.push(currClientId),I.push(a[currClientId].changeCount);A["oracle.adf.view.rich.START_ACTIVE_DATA"]=n;A["oracle.adf.view.rich.START_ACTIVE_DATA_EVENT_IDS"]=I}if(m.length>0)this._stopADSClientIds=[],A["oracle.adf.view.rich.STOP_ACTIVE_DATA"]=
m}w==null&&(w=this.getDomDocument().forms[0]);AdfAssert.assert(w,"No form found;  cannot postback");if(p&&(A||(A={}),A=AdfCollections.copyInto(A,this._windowEventHeaderMap),delete this._windowEventHeaderMap,w&&A["Adf-Window-Opened"]=="true"))w.action=this.getDomWindow().location.href;A=this._addPageId(A);this.isPortlet()&&AdfDomUtils.getMultiPartForm(w)!=null&&(v=!1);m=null;q?m=k:v&&B&&B.length&&(m=B.join(","));m!=null&&(f["oracle.adf.view.rich.PROCESS"]=m);v&&C&&(f["oracle.adf.view.rich.PPR_FORCED"]=
"true");B={};B._discreteEvent=t;B._responseAnnounced=s;B._clientEventsSet=e;q?(d=!1,B._noResponseExpected=!0):h&&(d=!0);v?(this._doRichPostback(w,f,A,d,B),this.__perfTimings(!1,!1,!0,"deliver PPR request. Event: ",f.event),this._haveOutstandingPPRRequest=!0):(this._waitingForDocumentUnload=!q,this.__perfTimings(!1,!1,!0,"deliver full postback request. Event: ",f.event),this._doFullPostback(w,f,d,!q));this._inDeliverQueuedServerEvents=!1}};
AdfDhtmlPage.prototype._sendRichPayload=function(a,b){AdfAssert.assert(a,"Attempting to send null payload");var d=this.getDomDocument().forms[0];AdfAssert.assert(d,"No form found;  cannot postback");var e=this._addPageId(null);AdfDhtmlPage._addStateParameter(d,a);this._doRichPostback(d,a,e,!1,b)};AdfDhtmlPage.prototype._addPageId=function(a){a||(a={});this._getPageId()!=null&&(a["Adf-Ads-Page-Id"]=this._getPageId());return a};
AdfDhtmlPage.__addServerParamsToEvent=function(a,b){b&&(a._adfServerParams=b)};AdfDhtmlPage.prototype.__getLastDomEvent=function(){return this._lastDomEvent};
AdfDhtmlPage.prototype.deliverEventToNewWindow=function(a){var b=a.getSource(),d=b.getClientId(),e={event:d};e["event."+d]=this._marshallMultipleEventParameters(Array(a.getProperties()));(a=this._getAndClearDeltas(!1))&&(e["oracle.adf.view.rich.DELTAS"]=a);b=AdfDhtmlPage._getFormElement(b);a=b.target;b.target=AdfDhtmlPage._PRINTABLE_WINDOW_NAME;this._doFullPostback(b,e,!1,!1);b.target=a};
AdfDhtmlPage.prototype._marshallMultipleEventParameters=function(a){var b=AdfAgent.AGENT,d=b.createXmlDocument(),e=d.createElement("TEMP");b.getPlatform()==AdfAgent.IE_PLATFORM?d.documentElement=e:d.appendChild(e);a=a.length>1?a:a[0];e=AdfMarshalingService.getDefault().marshal(e,a,null);return b.getNodeXml(e)};
AdfDhtmlPage.prototype.removeComponentsInSubtree=function(a){if(a.id==AdfDhtmlPage._NAVIGATION_WRAPPER_ID)for(var b in this._clientIdToComponentMap)a=this._clientIdToComponentMap[b],a!=null&&a.RemoveNotify();else{var d=[];this._postOrderPopulate(a,0,d,!1);for(var e=d.length-1;e>=0;e--){var f=d[e];if(f!=null)for(var g=f.length,h=0;h<g;h++)b=f[h],a=this.findComponent(b),a!=null&&a.RemoveNotify()}}};
AdfDhtmlPage.prototype._postOrderPopulateComponent=function(a,b,d){if(a&&this.findComponent(a)!=null){var e=d[b];e==null?d[b]=Array(a):e.push(a)}};
AdfDhtmlPage.prototype._postOrderPopulate=function(a,b,d,e){AdfAssert.assertDomElement(a);if(!e||AdfDomUtils.isVisible(a)){var f=a.firstChild;if(f!=null){var g=b+1;do{var h=f.nodeType;h==1?this._postOrderPopulate(f,g,d,e):h==8&&(h=this._getClientIdFromComment(f))&&this._postOrderPopulateComponent(h,g,d);f=f.nextSibling}while(f!=null)}h=a.id;this._postOrderPopulateComponent(h,b,d)}};
AdfDhtmlPage.prototype.__checkRichResponseDirty=function(){if(this._isRichResponseDirty())return this.getDomWindow().location.reload(!0),!0;return!1};AdfDhtmlPage._doFrameBusting=function(a){var b=AdfPage.PAGE.getLookAndFeel().getTranslatedString("AFFramebusting");b?alert(b):AdfLogger.LOGGER.severe("unable to get framebusting message available");top.location.href=a};
AdfDhtmlPage.__frameBusting=function(a){if(!(self==top||a=="never"))if(a=="always")AdfDhtmlPage._doFrameBusting(location.href);else for(var a=!0,b=parent;a;){try{if(b.location.href==null){AdfDhtmlPage._doFrameBusting(location.href);return}}catch(d){AdfDhtmlPage._doFrameBusting(location.href);return}b==top&&(a=!1);b=b.parent}(a=document.getElementById("adfFrameBustStyle"))&&a.parentNode.removeChild(a)};
AdfDhtmlPage.prototype.__onLoad=function(){var a=this.getDomWindow(),b=AdfAgent.AGENT;try{if(this._perfProfileEnabled)a._afrTimingOnLoadEnd=(new Date).getTime();var d=AdfDhtmlPage._LOAD_CHECKPOINT.start(),e=this.getDomDocument(),f=this.createCallback(this._redistribute);b.addEventBubbles(e,f);this._redistributeEventsCallback=f;this._touchContextMenuManager=b.createContextMenuEventGenerator();b.addKeyEventListener(e,AdfDhtmlPage._keyEventCallback);this._onBeforeUnloadCallback=this.createCallback(this._handleBeforeUnload);
b.addBubbleEventListener(a,"beforeunload",this._onBeforeUnloadCallback);if(this._perfProfileEnabled)a._afrTimingResizeStart=(new Date).getTime();AdfDhtmlPage._doResizeNotify(this._resizeNotifyTree);if(this._perfProfileEnabled)a._afrTimingResizeEnd=(new Date).getTime();this._loadedLibraries=this._collectLoadedLibraries();this._loadedCss=this._collectCss();if(this._expectedWindowId!==void 0&&(!a.name||a.name==""||a.name=="_adfvdlg")){e=!1;if(a.name&&a.name=="_adfvdlg"||a.location.href&&a.location.href.indexOf("__ADFvDlg__"))e=
!0;this._stopGlobalActiveData();this._notifyWindowOpened(e)}this._replaceJsfAjaxFunctions();var g=this._onLoadCallback;if(g){var h=AdfDhtmlPage._CALLBACK_CHECKPOINT.start();g();AdfDhtmlPage._CALLBACK_CHECKPOINT.stop(h)}}finally{if(b=b.getElementById("afr::Splash"))b.style.display="none";this.SetPhase(AdfPage.WAITING_FOR_USER_INPUT_PHASE)}this._initializationComplete=!0;this._startGlobalActiveData();this._inAppNavigationFlag=!1;AdfDhtmlPage._LOAD_CHECKPOINT.stop(d);d=null;a.AdfUserActivityInfo!=null&&
(d=AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PREVIOUS));d!=null&&d.getContextId()!=null?(this._endUserMonitoringEnabled=!0,AdfUserActivityInfo.restoreFromSessionStorage(),d.setClientEndTime((new Date).getTime().toString())):this._endUserMonitoringEnabled=!1;this._partialRequestRedirect=!1;this.isScreenReaderMode()&&!AdfCollections.isEmpty(this._activeComponents)&&(a=this.createCallback(this._activeDataHotKeyhandler),this.registerKeyStroke(AdfDhtmlPage._ACTIVE_DATA_HOT_KEY,a),this._announceActiveComponents());
(a=AdfNavigationHistoryAgent.getInstance())&&a.isInitialized()&&a.startTrackingURI(this);this._onLoadPerfTimings()};AdfDhtmlPage.prototype.setFacesPath=function(a){this._facesPath=a};AdfDhtmlPage.prototype.loadView=function(a,b,d){a==null?(a=this.getDomWindow().location.href,b=a.indexOf("#"),b>=0&&(a=a.substring(0,b))):(a=this._facesPath+a,b&&(a+=b));this._blockUI(!0);this.getDataTransferService().sendRequest({_loadId:d},a,null,"_",[this])};
AdfDhtmlPage.prototype._onLoadPerfTimings=function(){if(this._perfProfileEnabled){var a=this.getDomWindow(),b=a._afrTimingPreLoadStart,d=(new Date).getTime(),e=a._afrTimingCoreLibraryPartitionLoadEnd-a._afrTimingCoreLibraryPartitionLoadStart,f=a._afrTimingBootstrapLibraryPartitionLoadEnd-a._afrTimingBootstrapLibraryPartitionLoadStart,g=a._afrTimingLibraryPartitionsLoadStart,h=a._afrTimingLibraryPartitionsLoadEnd-g,k=a._afrTimingSkinLoadEnd-a._afrTimingSkinLoadStart,l=a._afrTimingCoreLibraryLoadEnd-
a._afrTimingCoreLibraryLoadStart,m=a._afrTimingProfilerLibraryLoadEnd-a._afrTimingProfilerLibraryLoadStart,n=a._afrTimingPreludeEnd-a._afrTimingPreludeStart,o=a._afrTimingProfilerScriptLoadEnd-a._afrTimingProfilerScriptLoadStart,p=a._afrTimingTranslationsLoadEnd,s=p-a._afrTimingTranslationsLoadStart,q=a._afrTimingElementsAddedStart,t=a._afrTimingElementsAddedEnd-q,u=a._afrTimingRenderSkinPropertiesEnd-a._afrTimingRenderSkinPropertiesStart,v=a._afrTimingAddComponentsEnd-a._afrTimingAddComponentsStart,
w=a._afrTimingExtendedScriptsExecuteEnd-a._afrTimingExtendedScriptsExecuteStart,y=a._afrTimingLoadScriptLoadEnd-a._afrTimingLoadScriptLoadStart,z=a._afrTimingExtendedScriptsLoadEnd,C=z-a._afrTimingExtendedScriptsLoadStart,A=a._afrTimingPPRNavInitScriptEnd-a._afrTimingPPRNavInitScriptStart,B=a._afrTimingEncodeComponentsEnd-a._afrTimingEncodeComponentsStart-v;g-=p;q-=z;z=a._afrTimingOnLoadEnd-b;a=a._afrTimingResizeEnd-a._afrTimingResizeStart;AdfLogger.PROFILER_LOGGER.info("initial page load started;",
b);AdfLogger.PROFILER_LOGGER.info("CSS skin load time;;",k);AdfLogger.PROFILER_LOGGER.info("JS Trinidad library load time;;",l);AdfLogger.PROFILER_LOGGER.info("JS profiler library load time;;",m);AdfLogger.PROFILER_LOGGER.info("JS bootstrap library partition load time;;",f);AdfLogger.PROFILER_LOGGER.info("JS prelude script time;;",n);AdfLogger.PROFILER_LOGGER.info("JS profiler script load time;;",o);AdfLogger.PROFILER_LOGGER.info("JS core library partition load time;;",e);AdfLogger.PROFILER_LOGGER.info("JS translations library load time;;",
s);AdfLogger.PROFILER_LOGGER.info("HTML layout time;;",g);AdfLogger.PROFILER_LOGGER.info("JS library partitions load time;;",h);AdfLogger.PROFILER_LOGGER.info("JS load script time;;",y);AdfLogger.PROFILER_LOGGER.info("JS load extended scripts;;",C);AdfLogger.PROFILER_LOGGER.info("onload handler time;;",q);AdfLogger.PROFILER_LOGGER.info("JS elements added time;;",t);AdfLogger.PROFILER_LOGGER.info("JS render skin properties time;;",u);AdfLogger.PROFILER_LOGGER.info("JS create components time;;",B);
AdfLogger.PROFILER_LOGGER.info("JS add components time;;",v);AdfLogger.PROFILER_LOGGER.info("JS execute extended scripts time;;",w);AdfLogger.PROFILER_LOGGER.info("JS execute ppr init script time;;",A);AdfLogger.PROFILER_LOGGER.info("pre-load total time;;",z);AdfLogger.PROFILER_LOGGER.info("resize time;;",a);AdfLogger.PROFILER_LOGGER.info("initial page load done;",d,";",d-b);b=(new Date).getTime();this._logOffset=b-d}else if(this._perfProfileTimingEnabled)a=this.getDomWindow(),b=a._afrTimingPreLoadTimingStart,
d=(new Date).getTime(),AdfLogger.PROFILER_LOGGER.info("initial page load started;",b),AdfLogger.PROFILER_LOGGER.info("initial page load done;",d,";",d-b),b=(new Date).getTime(),this._logOffset=b-d};
AdfDhtmlPage.prototype.__perfTimings=function(a,b,d,e,f){AdfAssert.assertBoolean(a);AdfAssert.assertBoolean(a,b);AdfAssert.assertBoolean(d);if(this._perfProfileEnabled||d&&this._perfProfileTimingEnabled){var d=this.getDomWindow(),g=this._perfProfileEnabled?d._afrTimingPreLoadStart:d._afrTimingPreLoadTimingStart;f&&(e+=f);f=(new Date).getTime();if(this._logOffset===void 0)this._logOffset=0;var h=f-this._logOffset;if(a){var a=AdfLogger.PROFILER_LOGGER.getLogWriter(),k=AdfClientFileLogWriter.prototype.isPrototypeOf(a);
k&&b?(a.closeRecord(),h=(new Date).getTime(),this._logOffset=0,AdfLogger.PROFILER_LOGGER.info(e,";",h)):k&&!b&&(AdfLogger.PROFILER_LOGGER.info(e,";",h,";",h-g),a.closeRecord(),this._logOffset+=(new Date).getTime()-f);this._perfProfileEnabled?d._afrTimingPreLoadStart=h:d._afrTimingPreLoadTimingStart=h}else AdfLogger.PROFILER_LOGGER.info(e,";",h,";",h-g)}};
AdfDhtmlPage._getFormElement=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);if(a.getPeer())return a=AdfRichUIPeer.getDomNodeForComponent(a),AdfDomUtils.getFormElement(a);return null};AdfDhtmlPage.prototype._getParameterElement=function(a,b){AdfAssert.assertString(b);var d=AdfAgent.AGENT.getFormElement(a,b);if(!d)d=this.getDomDocument().createElement("input"),d.type="hidden",d.name=b,a.appendChild(d);return d};
AdfDhtmlPage.prototype._setParameter=function(a,b,d){this._getParameterElement(a,b).value=d};AdfDhtmlPage.prototype._appendParameter=function(a,b,d){a=this._getParameterElement(a,b);(b=a.value)&&(d=b+","+d);a.value=d};AdfDhtmlPage._removeAllFormElements=function(a){AdfAssert.assert(a,"Invalid form;  cannot remove elements");if(a=a.elements)for(var b=null,d=a.length-1;d>=0;d--)(b=a.item(0))&&b.parentNode.removeChild(b)};
AdfDhtmlPage.prototype._getPublicAncestor=function(a){for(;a!=null;)if(a.satisfiesUsage(AdfUIComponent.USAGE_PRIVATE_CHILD))a=a.getParent();else return a};
AdfDhtmlPage.prototype._redistribute=function(a){var b=this.getDnDContext();if(!b||!b.isDragging()){var d=AdfAgent.AGENT;d.getPlatform()==AdfAgent.GECKO_PLATFORM&&a&&a.type=="keypress"&&a.keyCode==27&&a.preventDefault();this.SetPhase(AdfPage.DELIVER_EVENTS_PHASE);try{if(!a)a=this.getDomWindow().event;var e=this.__getPollHelper();e&&e._resetPollingTimeoutHandler(a);this._lastDomEvent=a;var f=d.getEventTarget(a);if(!(f==null||f.nodeType==null)){var g=this.getActiveComponent(),h=AdfRichUIPeer.getFirstAncestorComponent(f),
k=a.type,l=d.mapNativeToComponentEventType(k);if(k=="click")this._fixupLinkOnClick(f);else if(l=="focus"){if(this._blurTimer)this.cancelTimer(this._blurTimer),this._blurTimer=null;if(!this.__setActiveDomNodeInfo(f,h?h.getClientId():null)){d.eatEvent(a);return}}else if(l=="blur")this._blurTimer=this.scheduleTimer(this,this._setActiveTimeout,{activeElement:document.activeElement},1);if(h!=null){var m=h.getPeer();if(l==AdfComponentEvent.FOCUS_EVENT_TYPE||l==AdfComponentEvent.BLUR_EVENT_TYPE){if(m.needsFocusTargetStyleClass()){var n=
this._getPublicAncestor(h);if(n){var o=AdfRichUIPeer.getDomContentElementForComponent(n);o&&(l==AdfComponentEvent.FOCUS_EVENT_TYPE?AdfDomUtils.addCSSClassName(o,AdfRichUIPeer.FOCUS_TARGET_STYLECLASS):AdfDomUtils.removeCSSClassName(o,AdfRichUIPeer.FOCUS_TARGET_STYLECLASS))}}}else if(k=="mouseover"||k=="mouseout")if(d.supportsTransientStyleClasses()&&d.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==AdfAgent.CAP_TOUCH_SCREEN_NONE){if(n=this._getPublicAncestor(h)){n.getPeer().bind(n);var p=AdfRichUIPeer.getDomContentElementForComponent(n);
if(k=="mouseover")p&&AdfDomUtils.addCSSClassName(p,AdfRichUIPeer.HOVER_TARGET_STYLECLASS);else if(k=="mouseout"){var e=!0,s=d.getEventToElement(a);if(s&&s.nodeType!=null){var q=AdfRichUIPeer.getFirstAncestorComponent(s);if(q=this._getPublicAncestor(q)){var t=q.getPeer();t.bind(q);t.getDomElement()==p&&(e=!1)}}e&&p&&AdfDomUtils.removeCSSClassName(p,AdfRichUIPeer.HOVER_TARGET_STYLECLASS)}}}else AdfLogger.LOGGER.info("The skinning's hover-target pseudo class is not supported on this configuration.");
var u=m.__CreateComponentEvent(h,a,g);if(u){AdfAssert.assert(u.getSource()===h,"event generation can't change event source");switch(u.getType()){case AdfComponentEvent.FOCUS_EVENT_TYPE:AdfLogger.LOGGER.fine("Focus: ",h),delete this._restorePprFocusIndex,this.__setActiveDomNodeInfo(f,h.getClientId())}b&&AdfUIInputEvent.prototype.isPrototypeOf(u)&&b.__handleInputEvent(u);h.queueEvent(u);var v=this._touchContextMenuManager.deriveContextMenuEvent(u);v&&h.queueEvent(v);this._eventLoopDeliverEvents()}this._descendantResizeNotifyQueue&&
this.getDataTransferService().getDTSState()==AdfDataTransferService.STATE_READY&&this.__doDescendantResizeNotify()}}}finally{this.SetPhase(AdfPage.WAITING_FOR_USER_INPUT_PHASE),AdfAssert.DEBUG&&AdfLogger.LOGGER.getLogWriter().flush()}}};
AdfDhtmlPage.prototype._setActiveTimeout=function(a){this._blurTimer=null;var a=a.activeElement,b=null;a==document.activeElement?(a&&a.nodeType!=void 0&&(b=AdfRichUIPeer.getFirstAncestorComponent(a)),a=b?b.getClientId():null,this.getActiveComponentId()!=a&&this._setActiveComponentId(a)):AdfLogger.LOGGER.fine("activeElement not equal document.activeElement in AdfDhtmlPage.prototype._setActiveTimeout")};
AdfDhtmlPage.prototype.createFloatingDiv=function(a,b,d){AdfAssert.assertDomElement(a);AdfAssert.assertNumber(b);AdfAssert.assertString(d);var e=a.ownerDocument,f=e.createElement("DIV"),g=f.style;g.zIndex=b;g.position="absolute";g.visibility="hidden";b=e.createElement("SPAN");b.style.display="block";b.className=d;f.appendChild(b);a.appendChild(f);return f};AdfDhtmlPage.prototype.showFloatingDiv=function(a,b){this._clearFloatingDiv(a);a.firstChild.appendChild(b);a.style.visibility="visible"};
AdfDhtmlPage.prototype.hideFloatingDiv=function(a){AdfAssert.assertDomElement(a);var b=a.style;b.visibility="hidden";b.top="-100px";b.left="-100px";this._clearFloatingDiv(a)};AdfDhtmlPage.prototype._clearFloatingDiv=function(a){AdfAssert.assertDomElement(a);for(var a=a.firstChild,b=a.firstChild,d;b;)d=b.nextSibling,a.removeChild(b),b=d};AdfDhtmlPage.prototype.prepareMaskingFrame=function(){this.getZOrderManager().prepareMaskingFrame()};
AdfDhtmlPage.prototype.createMaskingFrame=function(a){var b=this.getZOrderManager().createMaskingFrame();this.moveMaskingFrame(a,b);return b};AdfDhtmlPage.prototype.moveMaskingFrame=function(a,b){var d=b.style,e=AdfAgent.AGENT.getElementPosition(a);d.top=e.y+"px";d.left=e.x+"px";d.width=a.offsetWidth+"px";d.height=a.offsetHeight+"px";d.visibility="visible"};AdfDhtmlPage.prototype.removeMaskingFrame=function(a){this.getZOrderManager().removeMaskingFrame(a)};AdfDhtmlPage.prototype.getDocument=function(){return this._document};
AdfDhtmlPage.prototype.getDomDocument=function(){return this._document};AdfDhtmlPage.prototype.getDomWindow=function(){return this._window};
AdfDhtmlPage.prototype.showGlassPane=function(a,b){AdfLogger.LOGGER.finest("Show glasspane");AdfAssert.assert(a);AdfAssert.assertString(b);var d=this.getGlassPane();this._positionGlassPane(!0);d.style.visibility="visible";var e=AdfAgent.AGENT;e.setCursor(d,e.getCursor(b));e.startMouseEventCapture(a);d=e.getPlatform()==AdfAgent.IE_PLATFORM?this._document.body:d;this._keyCaptureState=e.startDocumentKeyEventCapture(a,d)};
AdfDhtmlPage.prototype.hideGlassPane=function(a){AdfAssert.assert(a);AdfLogger.LOGGER.finest("Hide glasspane");var b=AdfAgent.AGENT,d=this.getGlassPane();b.setCursor(d,"auto");b.stopMouseEventCapture(a);var e=b.getPlatform()==AdfAgent.IE_PLATFORM?this._document.body:d;b.endDocumentKeyEventCapture(a,e,this._keyCaptureState);this._keyCaptureState=null;a=d.style;a.cursor="auto";a.visibility="hidden";a.height="1px";a.width="1px";b.forceCursorChange(this.getDomDocument())};
AdfDhtmlPage.prototype.getDnDContext=function(){var a=this._dndContext;if(a===void 0)this._dndContext=a=this.getDomWindow().AdfDhtmlDnDContext?new AdfDhtmlDnDContext:null;return a};AdfDhtmlPage.prototype.__clearDnDContext=function(){delete this._dndContext};AdfDhtmlPage.prototype.getGlassPane=function(){var a=this._glassPane;if(!a)this._glassPane=a=this._createGlassPane(this.getDomDocument());return a};
AdfDhtmlPage.prototype._createGlassPane=function(a){var b=a.createElement("div");b.className="AFBlockingGlassPane";var d=b.style;d.position="absolute";d.left="0px";d.top="0px";d.zIndex=AdfDhtmlZOrderManager.getMaxZIndex()+1;d.visibility="hidden";d.tabIndex=-1;d=AdfAgent.AGENT;if(d.getPlatform()==AdfAgent.OPERA_PLATFORM)b.onmousedown=function(){return!1};d.disableUserSelect(b);a.body.appendChild(b);d.setOpacity(b,0);return b};
AdfDhtmlPage.prototype._positionGlassPane=function(a){var b=this._glassPane;if(b&&(b=b.style,a||b.visibility=="visible")){var a=this.getDomDocument().body,d=Math.max(a.offsetWidth,a.scrollWidth);b.height=Math.max(a.offsetHeight,a.scrollHeight)+"px";b.width=d+"px"}};
AdfDhtmlPage.prototype._positionBlockingGlassPane=function(a){this.getDomDocument();var b=this.getGlassPane(),d=AdfAgent.AGENT;if(b){var e=b.style;if(a||e.visibility=="visible"){var f=d.getDomWindow(),a=d.getWindowScrollHeight(f),d=d.getWindowScrollWidth(f);e.height=a+"px";e.width=d+"px";(e=this._uiMaskingFrame)&&this.moveMaskingFrame(b,e)}}};
AdfDhtmlPage.prototype._installBlockingHandler=function(a){var b=AdfAgent.AGENT,d=b.getPlatform()==AdfAgent.IE_PLATFORM,e=this.getGlassPane();e.onkeydown=AdfAgent.eatEventCallback;e.onkeyup=AdfAgent.eatEventCallback;e.onkeypress=AdfAgent.eatEventCallback;b.disableBrowserContextMenu(e,!0);var f=this._uiMaskingFrame=this.createMaskingFrame(e);AdfDomUtils.addCSSClassName(f,"AFBlockingMaskingFrame");var g=f.document;g!=null&&b.disableBrowserContextMenu(g,!0);d?AdfFocusUtils.focusElement(e):b.installKeyboardBlocker(a,
!0);if(a=this.getActiveDomElement())this._activeIDBeforeBlocking=a.id;a=b.getDomWindow();b.addBubbleEventListener(a,"resize",this._positionBlockingGlassPaneCallback);b.setOpacity(e,AdfDhtmlPage._BLOCKING_OPACITY);b.setOpacity(f,AdfDhtmlPage._BLOCKING_OPACITY);b=e.style;this._positionBlockingGlassPane(!0);b.visibility="visible"};
AdfDhtmlPage.prototype._removeBlockingHandler=function(a){var b=AdfAgent.AGENT,d=b.getPlatform()==AdfAgent.IE_PLATFORM;b.disableBrowserContextMenu(a,!1);var e=this._uiMaskingFrame;delete this._uiMaskingFrame;var f=e.document;f!=null&&b.disableBrowserContextMenu(f,!1);AdfDomUtils.removeCSSClassName(e,"AFBlockingMaskingFrame");this.removeMaskingFrame(e);e=this.getGlassPane();e.onkeydown=null;e.onkeyup=null;e.onkeypress=null;e=e.style;e.cursor="auto";e.visibility="hidden";e.height="0px";e.width="0px";
e=this._activeIDBeforeBlocking;delete this._activeIDBeforeBlocking;e&&(e=b.getElementById(e))&&AdfFocusUtils.focusElement(e);d||b.installKeyboardBlocker(a,!1);a=b.getDomWindow();b.removeBubbleEventListener(a,"resize",this._positionBlockingGlassPaneCallback)};
AdfDhtmlPage.prototype._blockUI=function(a){var b=AdfAgent.AGENT,d=this.getDomDocument();if(a&&!this._uiBlocked)this._installBlockingHandler(d),b.showBusyCursor(d,a),this._broadcastBusyStateEvent(!0),this._uiBlocked=!0;else if(!a&&this._uiBlocked)b.showBusyCursor(d,a),this._broadcastBusyStateEvent(!1),this._removeBlockingHandler(d),this._uiBlocked=!1};AdfDhtmlPage.prototype._isUIBlocked=function(){return this._uiBlocked};
AdfDhtmlPage.prototype.showPageProcessingIndicator=function(a){if(null==this._pageProcessingIndicator)this._pageProcessingIndicator=AdfDhtmlPageProcessingIndicator.getInstance();this._pageProcessingIndicator.display(a,this.getDomDocument());a?(AdfAgent.AGENT.setOpacity(this._uiBlockingDiv,50),this._uiBlockingDiv.style.backgroundColor=this._pageProcessingIndicator.getBackgroundColor()):(AdfAgent.AGENT.setOpacity(this._uiBlockingDiv,0),this._uiBlockingDiv.style.backgroundColor="")};
AdfDhtmlPage.prototype.isProcessingIndicatorDisplayed=function(){return null!=this._pageProcessingIndicator&&this._pageProcessingIndicator.isDisplayed()};
AdfDhtmlPage.prototype.requestStatusChanged=function(a){if(a.getStatus()==AdfDataTransferRequestEvent.STATUS_COMPLETE){var b=a.getContext();if(b){var d=b.busyCounts,e=this._busyCounts,f;for(f in d){var g=e[f]-d[f];AdfAssert.assert(g>=0);g==0?(delete e[f],(g=this.findComponent(f))&&g.getPeer().setBusy(g,!1)):e[f]=g}}d=a.getResponseStatusCode();this._sendJsfAjaxEvent("complete",{context:b,event:a});if(d==200){var h;a.getResponseHeader&&(h=a.getResponseHeader("Adf-Window-Id"));if(h)AdfPage.PAGE.getDomWindow().name=
h;if(a.isRichResponse()){this.__perfTimings(!1,!1,!0,"PPR response from server received");d=this._handleRichResponse(a.getResponseXML(),b);this._richPostbackHasErrors?this._sendJsfAjaxEvent("error",{context:b,event:a}):this._sendJsfAjaxEvent("success",{context:b,event:a});if(d&&b&&b._noResponseExpected)this._partialRequestRedirect=!1;h&&!d&&AdfPage.PAGE._startGlobalActiveData();a=null;if(b)a=b.__checkPointId;a&&AdfDhtmlPage._POSTBACK_CHECKPOINT.stop(a);this.__perfTimings(!1,!1,!0,"PPR response processing done");
this._haveOutstandingPPRRequest=!1;this.getDomWindow().AdfUserActivityInfo!=null&&(prevActInfo=AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PREVIOUS),prevActInfo.setClientEndTime((new Date).getTime().toString()));this._isUIBlocked()&&this._blockUI(!1)}else this._handleInvalidPprResponse(a.getResponseText(),b,a)}else this._handleInvalidPprResponse(null,b,a)}};AdfDhtmlPage._keyEventCallback=function(a){AdfPage.PAGE._handleKey(a)};
AdfDhtmlPage.prototype.registerKeyStroke=function(a,b,d){AdfAssert.assertPrototype(a,AdfKeyStroke);AdfAssert.assertFunction(b);var e=null;if(d&&d.clientId)e=d.clientId;var f=a.toMarshalledString();if(f in this._keyStrokeToCallbackMap){var g=!0;e&&(f=this._keyStrokeToCallbackMap[f],f.multipleAllowed&&(g=!1,f.callbacks[e]=b,f.callbackContexts[e]=d,AdfLogger.LOGGER.finest("RP.registerKSAdditional, keystroke:callback:clientId ",a," : ",b," : ",e)));g&&AdfLogger.LOGGER.warning("Conflicting shortcut mapping: The keystroke ",
a," has already been registered on the RichPage.")}else e?(g={multipleAllowed:!0,callbacks:{},callbackContexts:{}},g.callbacks[e]=b,g.callbackContexts[e]=d,AdfLogger.LOGGER.finest("RP.registerKS, keystroke:callback:clientId ",a," : ",b," : ",e),this._keyStrokeToCallbackMap[f]=g):(AdfLogger.LOGGER.finest("RP.registerKS, keystroke:callback ",a," : ",b),this._keyStrokeToCallbackMap[f]=b,this._keyStrokeToCallbackContextMap[f]=d)};
AdfDhtmlPage.prototype.unregisterKeyStroke=function(a,b){AdfAssert.assertPrototype(a,AdfKeyStroke);var d=a.toMarshalledString();if(b){var e=this._keyStrokeToCallbackMap[d];e.callbacks&&e.callbacks.length<=1?delete this._keyStrokeToCallbackMap[d]:(delete e.callbacks[b],delete e.callbackContexts[b])}else delete this._keyStrokeToCallbackMap[d],delete this._keyStrokeToCallbackContextMap[d]};
AdfDhtmlPage.prototype._handleKey=function(a){var b=AdfAgent.AGENT,d=b.getKeyCode(a),e=a.shiftKey*AdfKeyStroke.SHIFT_MASK|a.ctrlKey*AdfKeyStroke.CTRL_MASK|a.altKey*AdfKeyStroke.ALT_MASK;a.metaKey&&(e|=AdfKeyStroke.META_MASK);var d=AdfKeyStroke.getKeyStroke(d,e),f=d.toMarshalledString(),e=this._keyStrokeToCallbackMap[f];if(e!=null){var g=f in AdfDhtmlPage._KEYSTROKE_OVERRIDES;if(g){var h=b.getEventTarget(a),k=b.getNodeName(h).toLowerCase();k!="textarea"&&(k=="input"?(g=h.type.toLowerCase(),g=g=="text"||
g=="password"):g=!1)}if(!g){f=this._keyStrokeToCallbackContextMap[f];if(e.multipleAllowed){var g=e.callbacks,h=e.callbackContexts,e=null,k=!1,l=0;for(clientId in g)l++;if(l>1){var m=this.getDomDocument(),n=m.activeElement;n||(n=this.getActiveDomElement());if(!n)AdfLogger.LOGGER.finest("No known activeElement available for _handleKey."),n=m.documentElement;m=Number.POSITIVE_INFINITY;for(clientId in g){var o=this.findComponent(clientId);if(o)if(o=AdfRichUIPeer.getDomElementForComponent(o))if(o=AdfDomUtils.getNodeDistance(o,
n),o==0){k=!0;e=g[clientId];f=h[clientId];break}else o<m&&(m=o,k=!0,e=g[clientId],f=h[clientId]);else AdfLogger.LOGGER.warning("Unable to locate domElement for clientId = "+clientId+" in _handleKey.");else AdfLogger.LOGGER.warning("Unable to locate component for clientId = "+clientId+" in _handleKey.")}k||AdfLogger.LOGGER.warning("Unable to locate a match for clientId = "+clientId+" in _handleKey.")}if(!k&&l==1)for(clientId in g)e=g[clientId],f=h[clientId]}e.call(f,d)!==!1&&b.eatEvent(a)}}};
AdfDhtmlPage.prototype._doFullPostback=function(a,b,d,e){this._resetUncommittedIds();if(!a.target||a.target.length==0||a.target=="_self")if(this._inAppNavigationFlag=!0,d&&this._blockUI(!0),e)this._dataDirty=!1;for(var f in b)this._setParameter(a,f,b[f]);AdfAgent.AGENT.autoCompleteForm(a);try{a.submit()}catch(g){AdfDomUtils.getMultiPartForm(a)!=null&&AdfInputFileUtils.addUploadErrorMessage(),AdfLogger.LOGGER.logErrorAsInfo(g,"doFullPostback form.submit()")}a.action=a.action;for(f in b)d=this._getParameterElement(a,
f),AdfAssert.assertDomElement(d),d.parentNode.removeChild(d)};
AdfDhtmlPage.prototype._doRichPostback=function(a,b,d,e,f){AdfAssert.assertDomElement(a,"FORM");AdfAssert.assertObject(b);this._sendJsfAjaxEvent("begin",{context:f});e&&this._blockUI(!0);var e=AdfDhtmlPage._POSTBACK_CHECKPOINT.start(),g=AdfCollections.copyInto({},this._busyCounts);f||(f={});f.busyCounts=g;f.__checkPointId=e;f.retryParams=b;f.formId=a.id;var e=this.getDataTransferService(),g=null,h=a;a.encoding.toLowerCase()=="multipart/form-data"&&(g=AdfDomUtils.getMultiPartForm(a))&&(h=g);h=this._getPPRURL(h);
g!=null?e.sendMultiPartRequest(f,h,g,b,[this]):(b=AdfDhtmlPage._getPostbackContent(a,b),AdfAgent.AGENT.autoCompleteForm(a),e.sendRequest(f,h,d,b,[this]))};AdfDhtmlPage.prototype._getDefaultPostbackURL=function(){var a=this.getDomDocument(),b=null,d=a.forms[0];d&&(b=this._getPPRURL(d));if(!b||b.indexOf("j_security_check")!=-1)b=a.location.href,a=b.indexOf("#"),a>0&&(b=b.substring(0,a));return b};
AdfDhtmlPage.prototype._appendResponseId=function(a){var b=a,d=this.getResponseIdentifier();d!=null&&(b+=a.indexOf("?")<0?"?":"&",b+=AdfDhtmlPage._ECID,b+="=",b+=d);return b};
AdfDhtmlPage.prototype._getPPRURL=function(a){var b=AdfAgent.AGENT.getAttribute(a,AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO),a=b!=null?b:a.action;if(!a||a=="")a=this.getDomDocument(),a=a[AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO]?a[AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO]:a.location.href;!this.isPortlet()&&this.shouldTracePPRRequestId()&&(a=this._appendResponseId(a));return a};
AdfDhtmlPage._getPostbackContent=function(a,b){AdfAssert.assertDomElement(a,"FORM");AdfAssert.assertObjectOrNull(b);var d=a.elements,e={};if(d)for(var f=0;f<d.length;f++){var g=d[f];if(g.name&&!g.disabled)if(g.options){e[g.name]=[];for(var h=0;h<g.options.length;h++){var k=g.options[h];if(k.selected){var l=k.attributes.value.value;if(l===null)l=k.text;e[g.name].push(l)}}}else if(!(g.type=="checkbox"||g.type=="radio")||g.checked)(h=e[g.name])?(AdfCollections.isArray(h)||(k=[],k.push(h),h=e[g.name]=
k),h.push(g.value)):e[g.name]=g.value}if(b)for(var m in b)e[m]=b[m];d="";for(m in e)if(f=e[m],AdfCollections.isArray(f))for(g=0;g<f.length;g++)d=AdfDhtmlPage._appendUrlFormEncoded(d,m,f[g]);else f!=void 0&&(d=AdfDhtmlPage._appendUrlFormEncoded(d,m,f));return d};AdfDhtmlPage.prototype._isRichResponseDirty=function(){var a=this.getDomDocument().getElementById(AdfDhtmlPage._RICH_UPDATE_FLAG);if(a&&a.value=="dirty")return!0;return!1};
AdfDhtmlPage.prototype._setRichResponseDirty=function(a){var b=this.getDomDocument().getElementById(AdfDhtmlPage._RICH_UPDATE_FLAG);if(b)b.value=a?"dirty":""};
AdfDhtmlPage.prototype._prepareForIncompleteImages=function(){for(var a=this.getDocument().getElementsByTagName("img"),b=a.length,d=0,e=0;e<b;e++){var f=a[e];if(!f.complete){var g=AdfAgent.AGENT.getComputedStyle(f),h=g.width,g=g.height;if(h=="0px"||h=="auto"||g=="0px"||g=="auto")AdfLogger.LOGGER.finer("An incompletly-loaded image was detected with src = ",f.src,f),d++,AdfDomUtils.addCSSClassName(f,AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME)}AdfLogger.LOGGER.getLevel(AdfLogger.FINEST)&&AdfLogger.LOGGER.finest("Image load details:",
f,f.src,", w=",f.width,", h=",f.height,", sW=",f.style.width,", sH=",f.style.height,", cmpW=",h,", cmpH=",g,f.complete?", COMPLETE":", INCOMPLETE",", className=",f.className)}if(d>0)AdfLogger.LOGGER.fine("Number of incomplete images: ",d),this._incompleteImageTimer!=null&&this.cancelTimer(this._incompleteImageTimer),this._incompleteImageTimerAttempts=1,this._incompleteImageTimer=this.scheduleTimer(this,this._attemptToRelayoutForNewlyCompleteImages,null,500)};
AdfDhtmlPage.prototype._attemptToRelayoutForNewlyCompleteImages=function(){this._incompleteImageTimer=null;var a=[];if(document.getElementsByClassName)a=document.getElementsByClassName(AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME);else for(var b=document.getElementsByTagName("img"),d=b.length,e=0;e<d;e++){var f=b[e];AdfDomUtils.containsCSSClassName(f,AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME)&&a.push(f)}for(d=b=0;d<a.length;d++)if(e=a[d],e.complete){AdfDomUtils.removeCSSClassName(e,AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME);
f=AdfRichUIPeer.getFirstAncestorComponent(e);if(f!=null){this.__queueDescendantResizeNotifySource(f);var g=f.getPeer();g&&g.__preferredSizeChangeNotify&&g.__preferredSizeChangeNotify(f)}AdfLogger.LOGGER.finer("A previously incompletly-loaded image is now complete with src = ",e.src,", nearestClientComponent = ",f,", imgElement = ",e)}else b++;AdfLogger.LOGGER.fine("Number of remaining incomplete images (at attempt #",this._incompleteImageTimerAttempts,"): ",b);b>0&&this._incompleteImageTimerAttempts<
10?(this._incompleteImageTimerAttempts++,this._incompleteImageTimer=this.scheduleTimer(this,this._attemptToRelayoutForNewlyCompleteImages,null,500)):(b>0&&AdfLogger.LOGGER.fine("Gave up trying to wait for images to load."),this.__doDescendantResizeNotify())};
AdfDhtmlPage.prototype._handleRichResponse=function(a,b){var d=AdfAgent.AGENT,e=a.documentElement;AdfAssert.assert("partial-response"==d.getNodeName(e));var f=AdfDomUtils.getFirstChildElement(e);AdfAssert.assert(f!=null&&f.nodeType==1);e=this._applyRichResponse(f,!1,!1,b);this._resetPendingStreamingIDs();if(e){if(f=AdfDomUtils.getNextElement(f),f!=null&&f.nodeType==1&&f.nodeName=="extension"&&f.getAttribute("id")=="adf-redirect-ext")for(var f=f.childNodes,g=0;g<f.length;g++){var h=f[g],k=d.getNodeName(h);
if("contextId"==k){if(this._endUserMonitoringEnabled&&(h=d.getTextContent(h)))AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PREVIOUS).setContextId(h),AdfUserActivityInfo.saveToSessionStorage()}else if("redirectCookie"==k&&(h=d.getTextContent(h))){k=new Date;k.setTime(k.getTime()+3E4);h=h.replace(/\$exp\$/g,k.toUTCString());h=h.split("$$");for(c=0;c<h.length;c++)this.getDomDocument().cookie=h[c]}}}else this.__doDescendantResizeNotify(),this.flushToAssistiveTechnology(),b&&b._responseAnnounced&&
this.announceToAssistiveTechnology(this.getLookAndFeel().getTranslatedString("AFResponseCompleteStatus"));return e};AdfDhtmlPage.prototype._getFocusPath=function(){var a=this._activeDomNode,b=[];if(a!=null)for(;a;){var d=a.id;d&&(b[d]=b.push(a)-1);a=a.parentNode}return b};
AdfDhtmlPage.prototype._restoreFocusPath=function(a,b){AdfAssert.assertArray(a);AdfAssert.assertNumberOrNull(b);var d=a.length;b>=d&&(b=d-1);for(var e=AdfAgent.AGENT,f=0;f<=b;f++)if(d=e.getElementById(a[f].id),d!=null){e={};f=AdfDomUtils.getFirstElementMatch(d,null,AdfFocusUtils.isFocusable,e);f||(f=AdfDomUtils.getNextElementMatch(d,null,!0,AdfFocusUtils.isFocusable,e))||(f=AdfDomUtils.getPreviousElementMatch(d,null,AdfFocusUtils.isFocusable,e));f&&AdfFocusUtils.focusElement(f);break}};
AdfDhtmlPage.prototype._applyRichResponse=function(a,b,d,e){if(this._warnUncommitted)this._trackErrors=!0;var f=this._richPostbackHasErrors=!1;try{var g,h=this.isScreenReaderMode();h&&(g={},AdfCollections.copyInto(g,this._activeComponents));var k=AdfAgent.AGENT,l=k.getNodeName(a);if(l=="changes"){var m=null,l=[],n=this._getFocusPath(),o=a.childNodes,p=o.length,s,q=this.getEditableSubtree();q&&(s=AdfRichUIPeer.getDomElementForComponent(q));var t;if(e!=null)t=e._clientEventsSet;if(t&&t[AdfPollEvent.POLL_EVENT_TYPE])this._componentsUpdatedByPollEvent=
[];for(a=0;a<p;a++){var u=o[a],v=k.getNodeName(u);if(v=="update"){var w=this._handleRichResponseFragment(u,l,b,n,d);if(w!=null){if(w.restoreFocusIndex!=null)this._restorePprFocusIndex=w.restoreFocusIndex;if(w.pprNavParams!=null)m=w.pprNavParams}}else v=="eval"?this._handleRichResponseScript(u):v=="extension"&&u.getAttribute("id")=="adf-script-library"&&this._handleRichResponseLibrary(u)}k.getPlatform()==AdfAgent.IE_PLATFORM?this.scheduleTimer(this,this._prepareForIncompleteImages,null,10):this._prepareForIncompleteImages();
l.length>0&&(this._doResizeNotify(l),this._checkResizeNotifyDelayed());if(m!=null){var y=AdfNavigationHistoryAgent.getInstance();y&&y.setCurrentPage(m.viewId,m.queryParams,e?e._loadId:null)}this._restorePprFocusIndex!=void 0&&(this._restoreFocusPath(n,this._restorePprFocusIndex),delete this._restorePprFocusIndex);this._reattachInlineEditing(s);this._replaceJsfAjaxFunctions()}else if(l=="redirect"){var z=a.getAttribute("url");AdfAssert.assert(z,"Could not get redirect URL");f=!0;this._warnUncommitted=
!1;this.__perfTimings(!0,!0,!0,"redirect to ",z);var C=this.findComponent(this._documentClientId);this._partialRequestRedirect=!0;(new AdfRedirectEvent(C,z,e?e._noNavigation:!1)).queue(!1)}else if(l=="error"){this._richPostbackHasErrors=!0;b=null;for(d=0;d<a.childNodes.length;d++)if(m=a.childNodes[d],k.getNodeName(m)=="error-message"){b=k.getTextContent(m);break}b==null&&(b="Unknown error during PPR");alert(b);if("true"==a.getAttribute("redirect"))this._warnUncommitted=!1,document.location.href=this._getDefaultPostbackURL()}else if(l!=
"noop")if(l=="retry"){var A=e.formId,B;A&&(B=Agent.AGENT.getElementById(A));B||(B=this.getDomDocument().forms[0]);this._doFullPostback(B,e.retryParams,!1,!0)}else AdfAssert.assert(!1,"invalid root node in rich response");h&&this._announceActiveComponentsChanged(g)}finally{this._trackErrors=!1}return f};AdfDhtmlPage.prototype.setDocumentClientId=function(a){this._documentClientId=a};
AdfDhtmlPage.prototype.doRedirect=function(a,b){AdfLogger.LOGGER.info("Redirecting to : ",a);var d=this.getDomWindow();d.adfpp_handleLocationChange!=void 0?d.adfpp_handleLocationChange(a):b?d.location.replace(a):d.location.href=a};AdfDhtmlPage.prototype._announceActiveComponentsChanged=function(a){var b=!1,d;for(d in this._activeComponents)if(a[d])delete a[d];else{b=!0;break}AdfCollections.isEmpty(a)||(b=!0);b&&this._announceActiveComponents()};
AdfDhtmlPage.prototype.streamingResponseComplete=function(){this._resetPendingStreamingIDs();this.getDataTransferService().notifyStreamingRequestComplete();if(this._endUserMonitoringServiceEnabled){var a=(new Date).getTime().toString();AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PREVIOUS).setClientEndTime(a);AdfUserActivityInfo.getInstance(AdfUserActivityInfo._SECONDARY).setClientEndTime(a)}this._addDelayedMessages(!0);this._streamingStatus==AdfDhtmlPage._STREAMING_REQUEST_SENT?this._handleInvalidPprResponse(null,
null,null):this._streamingStatus==AdfDhtmlPage._STREAMING_COMPLETE?this.scheduleTimer(this,this._startGlobalActiveData,null,500):(a=this.getLookAndFeel(),alert(a.getTranslatedString("af_document.UNKNOWN_STREAMING_ERROR")))};AdfDhtmlPage.prototype.streamingResponseWritten=function(){this.__perfTimings(!1,!1,!0,"streaming response processing done");this._streamingStatus=AdfDhtmlPage._STREAMING_COMPLETE};
AdfDhtmlPage.prototype.streamingResponseStarted=function(){if(this._perfProfileEnabled||this._perfProfileTimingEnabled)AdfLogger.PROFILER_LOGGER.info("streaming request sent;",this.getDomWindow()._afrTimingStreamingRequestStart),this.__perfTimings(!1,!1,!0,"streaming response received. The ECID is: ",AdfDhtmlPage._ECID);this._streamingStatus=AdfDhtmlPage._STREAMING_STARTED};AdfDhtmlPage.prototype._resetPendingStreamingIDs=function(){this._pendingStreamingIDs={}};
AdfDhtmlPage.prototype.handleStreamingResponse=function(a,b,d){this._perfProfileEnabled&&this.__perfTimings(!1,!1,!1,"streaming response segment received");a=a.getElementById(b);AdfAssert.assert(a);this._applyRichResponse(a.firstChild,d,!0,null);this._perfProfileEnabled&&this.__perfTimings(!1,!1,!1,"streaming response segment processed")};
AdfDhtmlPage.prototype.updateStreamingViewState=function(a,b){var d=a.getElementById(b);AdfAssert.assert(d);d=d.getElementsByTagName("input")[0];AdfAssert.assert(d);var e=this.getDomDocument().forms[0];AdfAssert.assertDomElement(e);e=e.elements[AdfDhtmlPage._STATE_PARAM_NAME];AdfAssert.assertDomElement(e);e.parentNode.innerHTML="<input type='hidden' name='"+AdfDhtmlPage._STATE_PARAM_NAME+"' value='"+d.getAttribute("value")+"' />"};
AdfDhtmlPage.prototype.__handleReload=function(){this._partialRequestRedirect=!0;var a=this._getDefaultPostbackURL();this.getDomWindow().location.replace(a)};AdfDhtmlPage.prototype.__validateWindowId=function(a){if(a!=this.getDomWindow().name)return this.__handleReload(),!1;return!0};AdfDhtmlPage.prototype.__handleRichResponseAction=function(a,b){if(a){var d=this.getDomDocument();d.forms[0].action=a}b&&AdfAgent.AGENT.setAttribute(d.forms[0],AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO,b)};
AdfDhtmlPage.prototype._handleRichResponseFragment=function(a,b,d,e,f){if(a.getAttribute("id")==AdfDhtmlPage._STATE_PARAM_NAME)return this._updateViewState(a),null;d=this._getFirstElementFromFragment(a,d);if(d==null)return AdfLogger.LOGGER.warning('Unable to locate content in partial page response fragment.  If you are adding a partial target programmatically, try setting clientComponent="true" on the partial target component.'),null;var a={restoreFocusIndex:null,pprNavParams:null},g=d.getAttribute("id");
AdfAssert.assert(g!=null,"null id in response fragment");this._componentsUpdatedByPollEvent!=null&&this._componentsUpdatedByPollEvent.push(g);this.getDomDocument();var h=AdfAgent.AGENT,k=h.getElementById(g);if(k==null)AdfLogger.LOGGER.severe("unable to locate target node: "+g);else{if(d.getAttribute(AdfDhtmlPage._DOCUMENT_STYLE_HOLDER)=="true"){var l=this.getDomDocument().body,m=d.getAttribute("theme");l.setAttribute("theme",m?m:"");d.removeAttribute("theme");m=d.className;if(m!=l.className)l.className=
m?m:"";d.className="";m=d.style.cssText;l.style.cssText=m?m:"";d.style.cssText=""}var l=this._getQueryParamsFromActionUrl(),n=e[g],g=(e=AdfRichUIPeer.getFirstAncestorComponent(k.parentNode))?e.getPeer():null;(m=d.id==AdfDhtmlPage._NAVIGATION_WRAPPER_ID)&&this._navResetPage();g!=null?g.replaceDomElement(e,d,k):this.__replaceDomElement(d,k);if(n!=null&&!m)a.restoreFocusIndex=n;k=null;e?(k=g.domReplaceNotify(e,d),this.__queueDescendantResizeNotifySource(e)):k=d;k&&b.push(k);m?(b=h.getAttribute(d,AdfDhtmlPage._NAVIGATION_VIEW_ROOT),
f=h.getAttribute(d,AdfDhtmlPage._NAVIGATION_QUERY_PARAMS),a.pprNavParams={viewId:b,queryParams:f?f:l}):f||this._setRichResponseDirty(!0)}return a};
AdfDhtmlPage.prototype.__replaceDomElement=function(a,b){var d=AdfAgent.AGENT;this.removeComponentsInSubtree(b);var e=b.id==AdfDhtmlPage._NAVIGATION_WRAPPER_ID;e||d.elementsRemoved(b);b.parentNode.replaceChild(a,b);e&&d.allElementsRemoved();if(d.getPlatform()==AdfAgent.IE_PLATFORM)e=d.getElementById(AdfDhtmlPage._PARSER_DIV_ID),e.appendChild(b),e.innerHTML="";d.elementsAdded(a)};
AdfDhtmlPage.prototype._getFirstElementFromFragment=function(a,b){var d=a.childNodes,e=d.length;AdfAssert.assert(e>=1,"invalid fragment child count");if(e>1){for(var f=Array(e),g=0;g<e;g++){var h=d[g];AdfAssert.assert(h.nodeType==4,"invalid fragment content");AdfAssert.assert(h.data,"null fragment content");f.push(h.data)}d=f.join("")}else h=d[0],AdfAssert.assert(h.nodeType==4,"invalid fragment content"),AdfAssert.assert(h.data,"null fragment content"),d=h.data;b&&(d=d.replace(/__AFR_XML_ELEM/g,"xml"));
e=this.getDomDocument();f=null;g=AdfAgent.AGENT;f=g.getElementById(AdfDhtmlPage._PARSER_DIV_ID);if(!f)f=e.createElement("div"),f.style.display="none",f.id=AdfDhtmlPage._PARSER_DIV_ID,e.body.appendChild(f),g.elementsAdded(f);g.getPlatform()==AdfAgent.IE_PLATFORM?(f.innerHTML="<div>ie</div>"+d,f.removeChild(f.firstChild)):f.innerHTML=d;(d=AdfDhtmlPage._getFirstElementWithId(f))&&d.parentNode.removeChild(d);return d};
AdfDhtmlPage._getFirstElementWithId=function(a){for(var a=a.childNodes,b=a.length,d=0;d<b;d++){var e=a[d];if(e.nodeType==1){if(e.id)return e;return AdfDhtmlPage._getFirstElementWithId(e)}}return null};
AdfDhtmlPage.prototype._loadScript=function(a){var b=AdfPage.PAGE._loadedLibraries;AdfAssert.assert(b!=null,"Unexpected loadedLibraries: "+b);if(!b[a]){b[a]=!0;b=new AdfXMLRequest;b.setSynchronous(!0);try{b.send(a,null,!0)}catch(d){this._loadScriptFailed(a,d)}if(b.getStatus()==200){var e=AdfAgent.AGENT;try{e.execScript(this.getDomWindow(),b.getResponseText())}catch(f){throw this._logAsGlobalError(f),AdfLogger.LOGGER.severe("Error: "+f.message+"\nWhile executing script: "+a),f;}}b.cleanup();delete b}};
AdfDhtmlPage.prototype._loadScriptFailed=function(a,b){if(a.indexOf("http:")==0||a.indexOf("https:")==0){var d=this.getFailedConnectionText();d!=null&&alert(d+" (source="+a+")");AdfLogger.LOGGER.warning("Failed to load script from "+a+".  This might be due to cross-origin rewriting of script resource uris.")}throw b;};AdfDhtmlPage.prototype._createStyle=function(a){return AdfAgent.AGENT.createStyle(a)};
AdfDhtmlPage.prototype._loadCss=function(a){var b=this._loadedCss;AdfAssert.assert(b!=null,"Unexpected loadedCss ",b);var d=AdfDomUtils.getFirstDescendentElement(AdfAgent.AGENT.getDomDocument().documentElement,"HEAD");if(b[a])for(var b=d.getElementsByTagName("LINK"),e=b.length-1;e>=0;--e){var f=b[e];if(f.getAttribute("href")==a)return f}else b[a]=!0;b=document.createElement("link");b.setAttribute("type","text/css");b.setAttribute("rel","stylesheet");b.setAttribute("href",a);d.appendChild(b);return b};
AdfDhtmlPage.prototype._handleRichResponseScript=function(a){var b=a.getAttribute("src");if(b)this._loadScript(b);else if(b=AdfAgent.AGENT,a=b.getTextContent(a))try{b.execScript(this.getDomWindow(),a)}catch(d){this._logAsGlobalError(d),AdfLogger.LOGGER.severe("Error: "+d+"\nWhile handling rich response script: "+a)}};AdfDhtmlPage.prototype._handleRichResponseLibrary=function(a){this._loadScript(AdfAgent.AGENT.getTextContent(a))};
AdfDhtmlPage.prototype._doResizeNotify=function(a){for(var b=0;b<a.length;b++)this.doResizeNotifyDom(a[b],!0)};AdfDhtmlPage.prototype._notifyWindowOpened=function(a){this._notifyWindowEvent(!0,this._expectedWindowId,null,a)};AdfDhtmlPage.prototype._notifyWindowUnregistered=function(a,b){this._notifyWindowEvent(!1,a,b,!1)};AdfDhtmlPage.prototype.needsWindowUnload=function(){};
AdfDhtmlPage.prototype._notifyWindowUnloaded=function(){if(!this._isPrintablePage()&&!this.isPerformingFullSubmit()){var a=this.getDomWindow().name;if(a){var b=AdfDhtmlPage._appendUrlFormEncoded("","Adf-Window-Id",a),d=this._getDefaultPostbackURL(),e=new AdfXMLRequest;e.setSynchronous(!1);e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.setRequestHeader("Adf-Window-Unloaded",!0);e.setRequestHeader("Adf-Window-Id",a);this._notifyOfUnloadUrl&&e.setRequestHeader("Adf-Window-Url",
this._notifyOfUnloadUrl);e.send(d,b);e.cleanup();delete e}}};
AdfDhtmlPage.prototype._notifyWindowEvent=function(a,b,d,e){AdfAssert.assertBoolean(a);AdfAssert.assertString(b);AdfAssert.assertStringOrNull(d);var f=this._windowEventHeaderMap;if(a){if(b==null||b=="")b="null";f={"Adf-Window-Opened":"true","Adf-Window-Id":b};e&&(f["Adf-IsDialog"]="true")}else f==null?f={"Adf-Window-Unregistered":"true","Adf-Window-Unregistered-Id":b,"Adf-Page-Unregistered-Id":d}:(a=f["Adf-Page-Unregistered-Id"]+":"+d,f["Adf-Window-Unregistered-Id"]=f["Adf-Window-Unregistered-Id"]+
":"+b,f["Adf-Page-Unregistered-Id"]=a);this._windowEventHeaderMap=f;this.queueEventTimerIfNeeded()};
AdfDhtmlPage.prototype.__notifyWindowCloseImmediately=function(a,b){if(this._inAppNavigationFlag==!1){var d=new AdfXMLRequest;d.setSynchronous(!1);a?(d.setRequestHeader("Adf-Window-Closed","true"),d.setRequestHeader("Adf-Window-Id",this._getWindowId()),d.setRequestHeader("Adf-Dialog-Return-Id",b)):(d.setRequestHeader("Adf-Window-Unregistered","true"),d.setRequestHeader("Adf-Window-Unregistered-Id",this._getWindowId()),d.setRequestHeader("Adf-Page-Unregistered-Id",this._getPageId()));var e=this._getDefaultPostbackURL();
d.send(e,"windowClosed")}};AdfDhtmlPage._doResizeNotify=function(a,b,d){var e=a.component;if(e){var f=AdfRichUIPeer.getDomElementForComponent(e),g=f.clientWidth,f=f.clientHeight,h=a.clientWidth,k=a.clientHeight;if(g==0||f==0||g==h&&f==k&&!b){if(a.clientWidth=g,a.clientHeight=f,!d)return}else a.clientWidth=g,a.clientHeight=f,e.resizeNotify(h,k,g,f)}if(a=a.children){b=a.length;for(e=0;e<b;e++)AdfDhtmlPage._doResizeNotify(a[e],!1,d)}};
AdfDhtmlPage.prototype._checkResizeNotifyDelayed=function(){var a=this._checkResizeNotifyTimer;a?this.rescheduleTimer(a,500):this._checkResizeNotifyTimer=this.scheduleTimer(this,this._checkResizeNotifyCallback,null,500)};AdfDhtmlPage.prototype._checkResizeNotifyCallback=function(){this._checkResizeNotifyTimer=null;this.__perfTimings(!1,!0,!0,"_checkResizeNotifyCallback","(start)");AdfDhtmlPage._doResizeNotify(this._resizeNotifyTree,!1,!0);this.__perfTimings(!1,!1,!0,"_checkResizeNotifyCallback","(end)")};
AdfDhtmlPage._appendUrlFormEncoded=function(a,b,d){a.length>0&&(a+="&");return a+b+"="+encodeURIComponent(d).replace(/\'/g,"%27").replace(/%20/g,"+")};
AdfDhtmlPage.prototype._reattachInlineEditing=function(a){if(a){if(!AdfDomUtils.isNodeInDocumentHierarchy(this.getDomDocument(),a)){var b=AdfDhtmlPage._inlineSelectionStub;d.removeEventCaptures(a,b);(a=AdfRichUIPeer.getDomElementForComponent(this.getEditableSubtree()))?(d.addEventCaptures(a,b),AdfDomUtils.addCSSClassName(a,"p_AFActiveInlineEditableContainer")):this._editableSubtreeId=null}this._filterEditableSubtree(a,this._editableCallback,this._editableCallbackContext);if(a=this._selectedEditingComponents)for(var b=
a.length,d=AdfAgent.AGENT,e=0;e<b;e++)AdfDomUtils.addCSSClassName(d.getElementById(a[e]),"p_AFInlineSelected")}};
AdfDhtmlPage.prototype._setSelectedEditingComponents=function(a){AdfAssert.assertArrayOrNull(a);var b=this.getSelectedEditingComponents();if(a!=b){var d;if(b!=null)for(var e=b.length,d=0;d<e;d++)AdfDomUtils.removeCSSClassName(AdfRichUIPeer.getDomContentElementForComponent(b[d]),"p_AFInlineSelected");var e=a?a.length:0,f;if(e){f=[];for(d=0;d<e;d++)f.push(a[d].getClientId())}else f=null;this._selectedEditingComponents=f;if(e)for(d=0;d<e;d++)AdfDomUtils.addCSSClassName(AdfRichUIPeer.getDomContentElementForComponent(a[d]),
"p_AFInlineSelected");(d=this.getEditedComponent())&&AdfCollections.indexOf(a,d)==-1&&this.setEditedComponent(null);AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfPage.SELECTED_EDITING_COMPONENTS_PROPERTY,b,a)}};AdfDhtmlPage.prototype._isAncestorComponentOrSelf=function(a,b){return a===b?!0:this._isAncestorComponent(a,b)};
AdfDhtmlPage.prototype._isAncestorComponent=function(a,b){AdfAssert.assertPrototype(a,AdfUIComponent);AdfAssert.assertPrototype(b,AdfUIComponent);for(var d=AdfRichUIPeer.getDomContentElementForComponent(a),e=AdfRichUIPeer.getDomNodeForComponent(b).parentNode;e;){if(e===d)return!0;e=e.parentNode}return!1};
AdfDhtmlPage.prototype._intersectSelectionWithEditableSubtree=function(a,b){AdfAssert.assertPrototypeOrNull(a,AdfUIComponent);AdfAssert.assertArrayOrNull(b);if(a==null)return null;var d=b!=null?b.length:0;if(d==0)return null;for(var e=null,f=0;f<d;f++){var g=b[f];this._isAncestorComponentOrSelf(a,g)&&(e==null&&(e=[]),e.push(g))}e&&e.length==d&&(e=b);return e};
AdfDhtmlPage.prototype._isComponentInlineSelectable=function(a){return AdfDomUtils.containsCSSClassName(a,AdfDhtmlPage._EDITABLE_STYLE)||AdfDomUtils.containsCSSClassName(a,AdfDhtmlPage._SELECTABLE_STYLE)};
AdfDhtmlPage.prototype._inlineSelectionListener=function(a){var b=AdfAgent.AGENT,d=a.type,e=!0,f=d==="mousemove";if(f||d=="mouseover"||d=="mousedown"||d=="mouseout"){if(f||d=="mousedown")if(e=!b.isChromeEvent(a),!e)return;if(!f){for(var f=b.getEventTarget(a),f=AdfRichUIPeer.getFirstAncestorComponent(f),g=this.getEditableSubtree(),h;f!=null;)if(h=AdfRichUIPeer.getDomContentElementForComponent(f),this._isComponentInlineSelectable(h))break;else f=f!=g?f.getParent():null;if(f&&(d=="mouseover"||d=="mouseout")){var g=
b.getPlatform()==AdfAgent.IE_PLATFORM,k=AdfPage.PAGE.getLocaleContext().isRightToLeft();if(!g||!k)if(g=AdfRichUIPeer.HOVER_TARGET_STYLECLASS,d=="mouseover"){if(d=this._hoverComponentId,f=f.getClientId(),d!==f)d&&this._removeStyleFromComponent(d,g),this._hoverComponentId=f,AdfDomUtils.addCSSClassName(h,g)}else{if(d=="mouseout"&&(d=this._hoverComponentId))this._removeStyleFromComponent(d,g),this._hoverComponentId=null}else AdfLogger.LOGGER.info("Due to a bug in IE, skinning's hover-target pseudo class not supported on IE in right to left mode.")}else if(d==
"mousedown"){d=this._editableCallback;g=this._editableCallbackContext;if(!this._getFilterResult(f,d,g)){h=h.previousSibling;for(f=null;h;){k=h.nodeType;if(k==8){if((k=this._getComponentFromComment(h))&&this._getFilterResult(k,d,g)){f=k;break}}else if(k==1)break;h=h.previousSibling}}f&&this.setEditedComponent(f,a)}}}f=this._inlineEditor;f!=null&&f.handleEvent(a);e?b.eatEvent(a):b.stopPropagation(a)};
AdfDhtmlPage.prototype._removeStyleFromComponent=function(a,b){var d=this.findComponent(a);return d?(d=AdfRichUIPeer.getDomContentElementForComponent(d),AdfDomUtils.removeCSSClassName(d,b)):!1};AdfDhtmlPage._inlineSelectionStub=function(a){AdfPage.PAGE._inlineSelectionListener(a)};AdfDhtmlPage.prototype.setDefaultMessageHandlerComponentId=function(a,b){if(a!=null)this._defaultMessageKey=a;this._messageSlaveKey=b};AdfDhtmlPage.prototype.getDefaultMessageHandlerComponentId=function(){return this._defaultMessageKey};
AdfDhtmlPage.prototype.getMessageHandlerSlaveComponentId=function(){return this._messageSlaveKey};
AdfDhtmlPage.prototype.addMessage=function(a,b,d){a=this._resolveMessageComponentId(a);if(this.findComponent(a)==null){for(var e in this._pendingStreamingIDs)if(a.indexOf(e)==0){this._delayMessageForComponent(a,b,d);AdfLogger.LOGGER.info("A message for client id '"+a+"' is being added as delayed messages");return}AdfAssert.DEBUG&&AdfAssert.assert(!1,"A message for client id '"+a+"' is being added. No client component with that id can be found. ")}e=this._messages[a];if(!e)e=[],e.sorted=[],e.maxType=
0,e.compId=a,e.title=d,this._messages[a]=e;d=AdfFacesMessage.getTypeFromMessage(b);if(this._trackErrors&&d>=AdfFacesMessage.TYPE_ERROR)this._richPostbackHasErrors=!0;e.sorted[d]||(e.sorted[d]=[]);e.push(b);e.sorted[d].push(b);if(d>e.maxType)e.maxType=d;b=this._global_max_msg_type;if(!b||d>b)d==null?delete this._global_max_msg_type:this._global_max_msg_type=d;this._notifyComponent(a,e)};
AdfDhtmlPage.prototype.showMessages=function(a){var a=this._resolveMessageComponentId(a),b=this.getAllMessages()[a],a=this.findComponent(a);if(a!=null){var d=a.getPeer();d.bind(a);b!=null?d.messageShow(a,b.maxType,b):d.messageShow(a)}};AdfDhtmlPage.prototype.getMessages=function(a){a=this._resolveMessageComponentId(a);return this._messages[a]};
AdfDhtmlPage.prototype.getAllMessages=function(){var a=this._messages,b={};for(messageId in a){var d=this.findComponent(messageId);if(d==null)AdfLogger.LOGGER.info("AdfDhtmlPage.getAllMessages: ignoring messages for non-existing component: ",d);else{var e=AdfRichUIPeer.getDomElementForComponent(d);AdfDomUtils.isInVisibleSubtree(e)?b[messageId]=a[messageId]:AdfLogger.LOGGER.info("AdfDhtmlPage.getAllMessages: ignoring messages for hidden component: ",d)}}return b};
AdfDhtmlPage.prototype.getClientIdsWithMessages=function(a){var b=[],d=this._messages,e=this._defaultMessageKey,f;a!=null&&(f=this._getSubtreeRootNode(a));for(var g in d)if(!f&&g==e)b.push(null);else{var h=this.findComponent(g);h!=null&&(h=AdfRichUIPeer.getDomElementForComponent(h),AdfDomUtils.isInVisibleSubtree(h)&&(f==null||a==g||AdfDomUtils.isAncestor(f,h))&&b.push(g))}return b};AdfDhtmlPage.prototype.__setGlobalMessagesResetStrategy=function(a){this._globalMessagesResetStrategy=a};
AdfDhtmlPage.prototype.clearMessages=function(a){a=this._resolveMessageComponentId(a);this._messages[a]!=null&&(delete this._messages[a],delete this._global_max_msg_type,this._notifyComponent(a,null));this._clearDelayedMessages(a)};AdfDhtmlPage.prototype.clearAllMessages=function(){var a=[],b;for(b in this._messages)a.push(b);this._messages={};delete this._global_max_msg_type;for(var d in a)this._notifyComponent(a[d],null);this._clearAllDelayedMessages()};
AdfDhtmlPage.prototype.hasMessages=function(a){return this.getMessages(a)!=null};AdfDhtmlPage.prototype._getSubtreeRootNode=function(a){var b=AdfPage.PAGE.findComponent(a);return b&&b instanceof AdfRichPopup?AdfDhtmlPopupPeer.getContentDom(b):AdfAgent.AGENT.getElementById(a)};
AdfDhtmlPage.prototype.clearSubtreeMessages=function(a){var b=this.getClientIdsWithMessages();if(b){var d=AdfAgent.AGENT,e=this._getSubtreeRootNode(a);if(e)for(var f=0;f<b.length;f++){var g=b[f];if(g!=null){var h=d.getElementById(g);(!h||a==g||AdfDomUtils.isAncestor(e,h))&&this.clearMessages(g)}}}};AdfDhtmlPage.prototype._resolveMessageComponentId=function(a){if(a!=null){var b=this.findComponent(a);if(b!=null&&b instanceof AdfUIEditableValue)return a}return this._defaultMessageKey};
AdfDhtmlPage.prototype._getMaxType=function(){var a=this._global_max_msg_type;if(!a){for(var b in this._messages){var d=this._messages[b];if(d!=null&&(a==null||d.maxType>a))a=d.maxType}if(a!=null)this._global_max_msg_type=a}return a};
AdfDhtmlPage.prototype._notifyComponent=function(a,b){if(a!=this._defaultMessageKey){var d=AdfAgent.AGENT.getElementById(AdfPage._FOR_CONTAINER_PREFIX+a);if(d!=null&&!this.isScreenReaderMode())b==null?AdfDomUtils.removeAllNodes(d):(b.overridden=!0,AdfDomUtils.removeAllNodes(d),AdfMessageUtils.appendComponentMessageInlineDom(d,b));d=this.findComponent(a);if(d!=null){var e=d.getPeer();e.bind(d);b!=null?e.messageNotify(d,b.maxType,b):e.messageNotify(d);e=!d.dontPropagateDescendantMessageChanges();for(d=
d.getParent();d&&e;)e=d.getPeer(),e.descendantMessageChanged(d),e=!d.dontPropagateDescendantMessageChanges(),d=d.getParent()}}d=this.findComponent(this._defaultMessageKey);d!=null&&(e=d.getPeer(),e.bind(d),e.messageNotify(d,this._getMaxType(),b))};
AdfDhtmlPage.prototype._addDelayedMessages=function(a){var b=this._delayedMessages,d=!1,e;for(e in b)if(this.findComponent(e)!=null){for(var f=b[e],g=f.length,h=0;h<g;h++){var k=f[h],d=k.pop(),k=k.pop();this.addMessage(e,k,d);d=!0}this._clearDelayedMessages(e)}a&&d&&this.showMessages()};AdfDhtmlPage.prototype._delayMessageForComponent=function(a,b,d){var e=this._delayedMessages[a];e||(e=[],this._delayedMessages[a]=e);a=[];a.push(b);a.push(d);e.push(a)};
AdfDhtmlPage.prototype._clearDelayedMessages=function(a){this._delayedMessages[a]!=null&&delete this._delayedMessages[a]};AdfDhtmlPage.prototype._clearAllDelayedMessages=function(){this._delayedMessages={}};AdfDhtmlPage.prototype.updateAutoPPRComponents=function(a){this._setPageId(a);for(var b=this._autoPPRComponents,d=arguments.length,e=this._stopADSClientIds,f=1;f<d;f++){var g=arguments[f];AdfAssert.assertString(g);g in e&&(delete e[g],AdfCollections.removeArrayValue(e,g));b[g]=!0}};
AdfDhtmlPage.prototype.initializeActiveForm=function(a,b){AdfAssert.assertBoolean(a);this._ACTIVE_FORM_URL=a?b+"/adwwls/wls.ads":"adw.jspx"};
AdfDhtmlPage.prototype.updateActiveDataComponents=function(a,b,d){AdfAssert.assertString(a);this._setMasterWindowId(a);this._setMasterPageId(b);this._setPageId(d);var e=arguments.length;AdfAssert.assert(e%2==1,"An equal number of clientId and changeCount parameters are required");for(var f=this._activeComponents,g=3;g<e;g++){var h=arguments[g];AdfAssert.assertString(h);g++;var k=arguments[g];AdfAssert.assertNumber(k);var l=!(h in f);f[h]={};f[h].changeCount=k;l&&(AdfLogger.LOGGER.fine("Register active data on:",
h),this._updateStartActiveDataStateChange(h))}};
AdfDhtmlPage.prototype._activeDataHotKeyhandler=function(){var a=!1,b={},d;for(d in this._activeComponents)if(this._activeComponents[d].dirty)a=!0,b[d]=this._activeComponents[d].lastUpdateTime;var e=AdfPage.PAGE.getLookAndFeel();if(a){a="";for(d in b){var f=this.findComponent(d),g=(new Date).getTime()-b[d];g<0&&(g=0);var h=Math.floor(g/36E5);g-=h*36E5;var k=Math.floor(g/6E4);g-=k*6E4;g/=1E3;var l="\n "+e.getTranslatedString("AFActiveDataEventTime");a+=TrFastMessageFormatUtils.format(l,f.getAccessibleName(),
h==0?"0":h.toString(),k==0?"0":k.toString(),g==0?"0":g.toString())}a+="\n";b=e.getTranslatedString("AFActiveDataConfirmRequest",a);confirm(b)&&this.getDomWindow().location.reload()}else alert(e.getTranslatedString("AFActiveDataNoChange"))};AdfDhtmlPage.prototype._announceActiveComponents=function(){this.scheduleTimer(this,this._announceActiveComponentsByAlert,null,100)};
AdfDhtmlPage.prototype._announceActiveComponentsByAlert=function(){var a=AdfPage.PAGE.getLookAndFeel();if(AdfCollections.isEmpty(this._activeComponents))a=a.getTranslatedString("AFActiveDataNoActiveComponent");else{var b="",d;for(d in this._activeComponents){var e=this.findComponent(d).getAccessibleName();e==null&&(e=d,AdfLogger.LOGGER.severe("No shortDesc exists for the component with clientId: ",d));b+="\n "+e}b+="\n";a=a.getTranslatedString("AFActiveDataHotKeyInfo");a=TrFastMessageFormatUtils.format(a,
b,AdfDhtmlPage._ACTIVE_DATA_HOT_KEY_TEXT)}alert(a)};AdfDhtmlPage.prototype._startGlobalActiveData=function(){this._canReceiveActiveDataCount++;this._canReceiveActiveDataCount==1&&(!this._admInitialized&&this._getMasterWindowId()!=null&&this._initActivePage(),this._updateDeliveryTimer())};AdfDhtmlPage.prototype._stopGlobalActiveData=function(){this._canReceiveActiveDataCount--};AdfDhtmlPage.prototype.stopActiveData=function(){};AdfDhtmlPage.prototype.startActiveData=function(){};
AdfDhtmlPage.prototype._registerWindowWithADSMaster=function(a){AdfAssert.assert(a);this._windowNameToWindow[a.name]=a};
AdfDhtmlPage.prototype._initializeADSIFrame=function(){var a=this._ACTIVE_FRAME_NAME,b=this.getDomWindow(),a=b.frames[a];this.getDomDocument();var d=this._ACTIVE_FORM_URL;d+="?action="+this._ESTABLISH_CHANNEL_ACTION+"&windowId="+this._windowId+"&pageId="+this._pageId+"&replaceMasterWindowId="+this._replaceMasterWindowId+"&replaceMasterPageId="+this._replaceMasterPageId;AdfLogger.LOGGER.fine("Connecting for master window:",this._windowId," in window:",b.name);this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTING);
a.location.replace(d)};
AdfDhtmlPage.prototype._processPushData=function(a,b,d,e,f,g){AdfAssert.assertString(a);AdfAssert.assert(b!==void 0);AdfAssert.assertNumber(d);AdfAssert.assertBoolean(g);AdfAssert.assertNumberOrNull(f);var h=this.findComponent(a),k=!1;h?(e&&AdfLogger.LOGGER.fine("Event received beyond the configured threshold for component:",a),e=this._activeComponents[a].changeCount,e===void 0?AdfLogger.LOGGER.severe("Active data for unregistered component:",a):d>e?(this.isScreenReaderMode()?(this._activeComponents[a].dirty=
!0,this._activeComponents[a].lastUpdateTime=(new Date).getTime()):k=h.processPushData(b,d),f!==void 0&&(b=(new Date).getTime(),f%500==0&&AdfLogger.LOGGER.info("ADS: GENERAL: component finished processing event : "," windowId:",this._windowId," pageId:",this._pageId," clientId:",a," eventId:",d," client time:",b," event number:",f),g&&AdfLogger.LOGGER.info("ADS: component finished processing event : "," windowId:",this._windowId," pageId:",this._pageId," clientId:",a," eventId:",d," client time:",
b)),this._activeComponents[a].changeCount=d):AdfLogger.LOGGER.fine("Old active data for",a," declined")):AdfLogger.LOGGER.fine("No active component:",a," Deregestering component");return k};
AdfDhtmlPage.prototype.__processActiveDataEvent=function(a,b,d,e,f,g,h,k){AdfAssert.assertString(a);AdfAssert.assertString(b);AdfAssert.assertString(d);AdfAssert.assertObject(e);AdfAssert.assertNumber(f);AdfAssert.assertNumber(g);AdfAssert.assertNumber(k);AdfAssert.assertNumberOrNull(h);this._lastActiveDataActivityTime=(new Date).getTime();h!==void 0&&(h%500==0&&AdfLogger.LOGGER.info("ADS: GENERAL: active data manager receives event : "," windowId:",a," pageId:",b," clientId:",d," eventId:",f," event generation time:",
g," client time:",this._lastActiveDataActivityTime," event number:",h),k&&AdfLogger.LOGGER.info("ADS: active data manager receives event : "," windowId:",a," pageId:",b," clientId:",d," eventId:",f," event generation time:",g," client time:",this._lastActiveDataActivityTime));if((a=this._getTargetPage(a))&&a._getPageId()==b)b=this._getMilliSecondsBehind(g)>this._latencyThreshold,h!==void 0?a._processPushData(d,e,f,b,h,k==1):a._processPushData(d,e,f,b)};
AdfDhtmlPage.prototype._getTargetPage=function(a){AdfAssert.assertString(a);if(a==this._windowId)return this;var b=null,d=this._windowNameToWindow;d!=null&&(b=d[a]);d=null;if(this._testAdfPageExistence(b))try{d=b.AdfPage.PAGE}catch(e){AdfLogger.LOGGER.fine("Could not access active window:",a)}return d};
AdfDhtmlPage.prototype._refreshPushComponent=function(a){AdfAssert.assertString(a);var b=this.findComponent(a);return b?(this.addPartialTargets(b),!0):(this._stopActiveData(a),AdfLogger.LOGGER.info("No active component:",a),!1)};AdfDhtmlPage.prototype._refreshAllPushComponents=function(){var a=this._activeComponents,b;for(b in a)this._refreshPushComponent(b)};
AdfDhtmlPage.prototype._notifyADSConnectionStateChange=function(a){AdfAssert.assert(this._masterWindowId==this._windowId,"_notifyADSConnectionStateChange should not be called on a non-master window");var b=void 0,d=this._getRegistryMap(),e;for(e in d)if(b=d[e],this._testAdfPageExistence(b))try{b.AdfPage.PAGE._broadcastADSConnectionStateChange(a)}catch(f){AdfLogger.LOGGER.logError(f,AdfLogger.WARNING,"Error broadcasting ADS connection state to window ",e)}};
AdfDhtmlPage.prototype._stopActiveData=function(a){AdfAssert.assertString(a);delete this._activeComponents[a];this._updateStopActiveDataStateChange(a)};AdfDhtmlPage.prototype._stopAutoPPR=function(a){AdfAssert.assertString(a);delete this._autoPPRComponents[a];AdfLogger.LOGGER.fine("Stop autoPPR active data on ",a);this._updateStopActiveDataStateChange(a,null)};
AdfDhtmlPage.prototype._updateStopActiveDataStateChange=function(a){var b=this._startADSClientIds;a in b?(delete b[a],this._startADSClientIdCount--):(b=this._stopADSClientIds,a in b||(AdfLogger.LOGGER.fine("Queue ADS stop on clientID:",a),b[a]=!0,b.push(a),this._updateDeliveryTimer()))};
AdfDhtmlPage.prototype._updateStartActiveDataStateChange=function(a){var b=this._startADSClientIds,d=this._stopADSClientIds;d.hasOwnProperty(a)?(delete d[a],AdfCollections.removeArrayValue(d,a)):(b[a]=!0,this._startADSClientIdCount++,AdfLogger.LOGGER.fine("Request start of active data on ",a," startRefCount:",this._canReceiveActiveDataCount),this._canReceiveActiveDataCount>0&&this._updateDeliveryTimer())};
AdfDhtmlPage.prototype._setBodyCursorForActivePage=function(){if(AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM){var a=this.getDomDocument(),b=this.getResourceURL("/afr/default_arrow_black.cur");AdfAgent.AGENT.getOS()==AdfAgent.WINDOWS_OS&&(b=this.getResourceURL("/afr/default_arrow_white.cur"));a.body.style.cursor="url('"+b+"'), progress"}};
AdfDhtmlPage.prototype._initActivePage=function(){var a=this.getDomWindow();AdfAssert.assert(a.AdfDhtmlActiveDataSupport,"AdfActiveDataService JavaScript feature not loaded. Please make sure it is not blocked by ad block software.");this._ads=new AdfDhtmlActiveDataSupport;var b=this._getMasterWindowId(),d=this._getMasterPageId(),e=this._getPageId(),f=null,f=a.name?a.name:this._expectedWindowId;if(!this._admInitialized){this._setBodyCursorForActivePage();this._admInitialized=!0;this._initAdm();var g=
this._wrapMasterWindowId(b);if(b==f){AdfLogger.LOGGER.info("self is master window: ",b);if(this._windowNameToWindow==null)this._windowNameToWindow={};a.name=g;this._setWindowId(f);this._setMasterWindowId(b);this._setReplaceMasterWindowId(b);this._setPageId(e);this._setMasterPageId(d);this._setReplaceMasterPageId(d);this._setMasterWindowRef(a);this._registerWindowWithADSMaster(a);this._initializeADSIFrame()}else if(a.name==g)this._claimMaster(b,d);else{AdfLogger.LOGGER.info("non-master window, needs to register with: ",
b);a.name=f;var g=null,h=this._getADSMasterWindow(b);h!=null?(g=h.AdfPage.PAGE,g._registerWindowWithADSMaster(a),this._setWindowId(f),this._setMasterWindowId(b),this._setReplaceMasterWindowId(b),this._setPageId(e),this._setMasterPageId(d),this._setReplaceMasterPageId(d),this._setMasterWindowRef(h)):(this._setWindowId(a.name),this._setPageId(e),this._claimMaster(b,d))}}};
AdfDhtmlPage.prototype._initAdm=function(){AdfLogger.LOGGER.fine("Initialize active data manager");this._replaceMasterPageId=this._masterPageId=this._pageId=this._replaceMasterWindowId=this._masterWindowRef=this._masterWindowId=this._windowId=void 0;this._ESTABLISH_CHANNEL_ACTION="establishChannel";this._RECONNECT_ACTION="reconnect";this._POLL_EVENTS_ACTION="pollEvents";this._ACTIVE_FRAME_NAME="afr::PushIframe";this._ACTIVE_FORM_NAME="_activeDataForm";this._ACTIVE_WINDOW_REGISTRY_MAP=this._windowNameToWindow};
AdfDhtmlPage.prototype._getADSMasterWindow=function(a){AdfAssert.assertString(a);var b=this.getDomWindow().open("",a,"height=1,width=1,top=0,left=0,status=no,toolbar=no,menubar=no,location=no");if(!this._testAdfPageExistence(b)||b.AdfPage.PAGE._getMasterWindowId()!=a){AdfLogger.LOGGER.warning("can't get the master window for: ",a);try{var d=b.location;(d==null||d=="about:blank"||d=="about:Tabs")&&b.close()}catch(e){}b=null}return b};
AdfDhtmlPage.prototype._getRegistryMap=function(){if(this._windowNameToWindow==null)this._windowNameToWindow={};return this._windowNameToWindow};AdfDhtmlPage.prototype._getWindowId=function(){if(this._windowId==null)try{this._windowId=this.getDomWindow().name}catch(a){AdfLogger.LOGGER.logErrorAsInfo(a,"Could not get the window Id.")}return this._windowId};AdfDhtmlPage.prototype._setWindowId=function(a){this._windowId=a};AdfDhtmlPage.prototype._getPageId=function(){return this._pageId};
AdfDhtmlPage.prototype._setPageId=function(a){this._pageId=a};AdfDhtmlPage.prototype._setMasterWindowId=function(a){this._masterWindowId=a};AdfDhtmlPage.prototype._getMasterWindowId=function(){return this._masterWindowId};AdfDhtmlPage.prototype._getMasterPageId=function(){return this._masterPageId};AdfDhtmlPage.prototype._setMasterPageId=function(a){this._masterPageId=a};AdfDhtmlPage.prototype._setMasterWindowRef=function(a){this._masterWindowRef=a};
AdfDhtmlPage.prototype._setReplaceMasterWindowId=function(a){this._replaceMasterWindowId=a};AdfDhtmlPage.prototype._setReplaceMasterPageId=function(a){this._replaceMasterPageId=a};AdfDhtmlPage.prototype._getActiveFrame=function(){return this.getDomWindow().frames[this._ACTIVE_FRAME_NAME]};AdfDhtmlPage.prototype._getClientStateMap=function(){return this._activeComponents};
AdfDhtmlPage.prototype._handleBeforeUnload=function(a){var b=!1,d=void 0;if(this._warnUncommitted){if(!this._dataDirty&&!this._hasLocalUncommitted&&this.getDomWindow().AdfDhtmlInputBasePeer!=void 0){var e=null,f=this.getActiveComponent();f&&(e=f.getPeer());e&&e instanceof AdfDhtmlInputBasePeer&&e.__simulateBlur(f)}if(this._dataDirty||this._hasLocalUncommitted)b=!0,d=this.getLookAndFeel().getTranslatedString("af_document.MSG_UNCOMMITTED_DATA"),a.returnValue=d}this._beforeUnloadDelayed=!1;if(b)return this._beforeUnloadDelayed=
!0,d;else this._onBeforeUnload()};AdfDhtmlPage.prototype._onBeforeUnload=function(){this._notifyWindowUnloaded();this._unloading=!0;var a=this._getMasterWindowId();a&&(a==this._getWindowId()&&this._handlingFailover!=!0&&this._handleADSChannelMigration(),this.__notifyWindowCloseImmediately(!1,""));this._endUserMonitoringEnabled&&this._partialRequestRedirect==!1&&AdfUserActivityInfo.saveToSessionStorage();this.getDataTransferService().pageUnloading()};
AdfDhtmlPage.prototype._handleADSChannelMigration=function(){try{var a=this._adsConnectionCheckTimer;if(a){try{this.cancelTimer(a)}catch(b){AdfLogger.LOGGER.logErrorAsInfo(b,"Error clearing connection check timer")}this._adsConnectionCheckTimer=null}var d=this._pollingTimer;if(d){try{this.cancelTimer(d)}catch(e){AdfLogger.LOGGER.logErrorAsInfo(e,"Error clearing polling timer")}this._pollingTimer=null}var f=this._getRegistryMap(),g=this._findYoungestWindow(f);if(g==null)AdfLogger.LOGGER.fine("Could not find candidate window to migrate to");
else{var h=g.AdfPage.PAGE,k=h._getRegistryMap();AdfCollections.copyInto(k,f);g.name=this._wrapMasterWindowId(h._getWindowId());h._setReplaceMasterWindowId(this._getWindowId());h._setReplaceMasterPageId(this._getPageId());h._setMasterWindowId(h._getWindowId());h._setMasterPageId(h._getPageId());h._getRegistryMap();var l=h.createCallback(h._createADSChannel);g.setTimeout(l,50)}}catch(m){AdfLogger.LOGGER.info("Can not migrate the active channel to other windows")}};
AdfDhtmlPage.prototype._createADSChannel=function(a){this._makeADSChannelRequest(!0,a)};AdfDhtmlPage.prototype.__registerWithNewMaster=function(a,b){this.scheduleTimer(this,this._registerWithNewMaster,{wId:a,pId:b},3E3)};
AdfDhtmlPage.prototype._registerWithNewMaster=function(a){var b=a.wId,a=a.pId;AdfLogger.LOGGER.info("register with new master ",b);this._setMasterWindowId(b);this._setMasterPageId(a);try{var d=this._getADSMasterWindow(b);if(d!=null){this._setMasterWindowRef(d);var e=d.AdfPage.PAGE;if(e!=null){e._registerWindowWithADSMaster(this.getDomWindow());var f=this._getRegistryMap(),g=e._getRegistryMap();AdfCollections.copyInto(g,f)}}else AdfLogger.LOGGER.fine("can't find the master page "+b),this._claimMaster(b,
a);this._pushChannelState!=AdfDhtmlPage.PushChannelStates.CONNECTED&&e._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTED);this._startGlobalActiveData();this._triedRegisterWithMaster=!1}catch(h){AdfLogger.LOGGER.info("ADS register with new master failed"),this._triedRegisterWithMaster?(this._claimMaster(b,a),this._triedRegisterWithMaster=!1,this._pushChannelState!=AdfDhtmlPage.PushChannelStates.CONNECTED&&e._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTED)):
(this._triedRegisterWithMaster=!0,this.__registerWithNewMaster(b,a))}this._windowNameToWindow=null};AdfDhtmlPage.prototype._findYoungestWindow=function(a){var b=void 0,d=void 0,e=this.getDomWindow(),f;for(f in a)b=a[f],b!=e&&this._testAdfPageExistence(b)&&(b.AdfPage.PAGE.isHAMigrated()||(d=a[f]));return d};
AdfDhtmlPage.prototype._createADSChannelParameterMap=function(a){var b=void 0;if(this._replaceMasterWindowId==null)this._replaceMasterWindowId=this._masterWindowId;b=void 0;b=a!=!0?this._ESTABLISH_CHANNEL_ACTION:this._RECONNECT_ACTION;return b={action:b,windowId:this._windowId,replaceMasterWindowId:this._replaceMasterWindowId,pageId:this._pageId,replaceMasterPageId:this._replaceMasterPageId}};
AdfDhtmlPage.prototype._createADSClientStateMap=function(a){var b={};if(a){var a=this._getRegistryMap(),d;for(d in a){var e=a[d];try{if(this._testAdfPageExistence(e)){var f=e.AdfPage.PAGE,g=f._getPageId();b[d+":"+g]=f._getClientStateMap()}}catch(h){AdfLogger.LOGGER.logErrorAsInfo(h,"Could not access active page:"+d)}}}else{d=this.getDomWindow();try{this._testAdfPageExistence(d)&&(b[this._getWindowId()]=this._getClientStateMap())}catch(k){AdfLogger.LOGGER.logErrorAsInfo(k,"Could not access active page:"+
d.name)}}return b};AdfDhtmlPage.prototype._makeADSChannelRequest=function(a,b){var d=this._createADSChannelParameterMap(b);this.getDomWindow();this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.RECONNECTING);this._sendADSChannelRequest(d,{})};
AdfDhtmlPage.prototype._claimMaster=function(a,b){AdfAssert.assertString(a);AdfAssert.assertString(b);var d=this._getWindowId(),e=this._getPageId();if(this._windowNameToWindow==null)this._windowNameToWindow={};this._setMasterWindowId(d);this._setReplaceMasterWindowId(a);this._setMasterPageId(e);this._setReplaceMasterPageId(b);d=this.getDomWindow();this._setMasterWindowRef(d);this._registerWindowWithADSMaster(d);this._createADSChannel()};
AdfDhtmlPage.prototype._wrapMasterWindowId=function(a){return a.replace(/\//g,"S").replace(/-/g,"M").replace(/\./g,"D")};AdfDhtmlPage.prototype._testAdfPageExistence=function(a){var b=null;try{b=a.AdfPage.PAGE}catch(d){AdfLogger.LOGGER.logErrorAsInfo(d,"Could not access active window")}return b!=null?!0:!1};AdfDhtmlPage.PushChannelStates={CONNECTED:0,CONNECTING:1,DISCONNECTED:2,RECONNECTING:3};
AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG={restartInterval:15,maxReconnectionRetries:10,reconnectWaitTime:1E4,latencyThreshold:1E4,transport:"STREAMING",pollingInterval:5E3,keepAliveInterval:1E4};AdfDhtmlPage.prototype.__initLongPolling=function(){this._sendADSChannelRequest({action:this._POLL_EVENTS_ACTION,windowId:this._getWindowId(),pageId:this._getPageId()},null);this.__setConnected()};
AdfDhtmlPage.prototype.__setConfiguration=function(a){try{this._transport=a.transport,this._pollingInterval=a.pollingInterval,this._maxReconnectionRetries=a.maxReconnectionRetries,this._reconnectWaitTime=a.reconnectWaitTime,this._latencyThreshold=a.latencyThreshold,this._restartInterval=a.restartInterval,this._keepAliveInterval=a.keepAliveInterval}catch(b){AdfLogger.LOGGER.warning("Exception occurred while setting configuration. Name: "+b.name+", Message: "+b.message)}};
AdfDhtmlPage.prototype.__refreshPushComponent=function(a,b,d){AdfAssert.assertString(a);AdfAssert.assertString(b);AdfAssert.assertString(d);this._lastActiveDataActivityTime=(new Date).getTime();var b=null,e=this._windowNameToWindow;e!=null&&(b=e[a]);if(this._testAdfPageExistence(b))try{b.AdfPage.PAGE._refreshPushComponent(d)}catch(f){AdfLogger.LOGGER.fine("can't access the window ",a)}else AdfLogger.LOGGER.info("No window found for refreshing component: windowId = ",a)};
AdfDhtmlPage.prototype._sendADSChannelRequest=function(a,b){var d=this._ACTIVE_FRAME_NAME,d=this.getDomWindow().frames[d],e="",f;for(f in a)e+="&"+f+"="+a[f];var f=1,g;for(g in b){var h=b[g];if(!AdfCollections.isEmpty(h))for(var k in e+="&pageKey"+f+"="+g,h){var l="componentIndex"+f;e+="&componentId"+f+"="+k;e+="&"+l+"="+h[k].changeCount}f+=1}g=e.indexOf("&");e.length>0&&g==0&&(e=e.substring(1));e=this._ACTIVE_FORM_URL+"?"+e;this._transport=="STREAMING"?(e.length>2E3&&this._handleAllFailovers([]),
d.location.replace(e)):this.getDataTransferService(!1,!0).sendPollingRequest(e,[this._ads])};AdfDhtmlPage.prototype.__setServerTimestamp=function(a){this._serverTimeDifference=AdfDhtmlPage._getTimeDifference(a);this._perfProfileEnabled&&AdfLogger.PROFILER_LOGGER.info("ADS: Server time difference: ",this._serverTimeDifference,";;")};AdfDhtmlPage._getTimeDifference=function(a){if(a==null)return 0;return new Date-new Date(a)};
AdfDhtmlPage.prototype._getMilliSecondsBehind=function(a){return AdfDhtmlPage._getTimeDifference(a)-this._serverTimeDifference};AdfDhtmlPage.prototype.__recordActiveDataActivity=function(){var a=(new Date).getTime();this._lastActiveDataActivityTime=a;AdfLogger.LOGGER.finer(a,": got keep alive")};
AdfDhtmlPage.prototype._handleDisconnect=function(){AdfLogger.LOGGER.finer("ADS Channel Disconnected");this._reconnectRetries=0;this._isWindowClosing?AdfLogger.LOGGER.finer("Closing window ... will not try to reconnect"):(this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.RECONNECTING),this.scheduleTimer(this,this._reconnect,null,this._reconnectWaitTime))};
AdfDhtmlPage.prototype.__setConnected=function(){AdfLogger.LOGGER.finer("ADS Channel Connected");this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTED);if(this._transport=="POLLING")this._pollSucceeded=!0;this._lastActiveDataActivityTime=this._reconnectRetries=0;var a=this._getPageId();this._setMasterPageId(a);this._setReplaceMasterPageId(a);a=this._getWindowId();this._setMasterWindowId(a);this._setReplaceMasterWindowId(a);this._transport=="POLLING"?this._startPolling():(this.getDomWindow(),
this._prepareAdsConnectionTimer());this.__perfTimings(!1,!1,!1,"ADS channel connected")};AdfDhtmlPage.prototype._prepareAdsConnectionTimer=function(){this._adsConnectionCheckTimer&&this.cancelTimer(this._adsConnectionCheckTimer);this._adsConnectionCheckTimer=this.scheduleTimer(this,this._checkAdsConnection,null,this._latencyThreshold+this._keepAliveInterval)};
AdfDhtmlPage.prototype._checkAdsConnection=function(){var a=this._latencyThreshold,b=this._keepAliveInterval;this._pushChannelState==AdfDhtmlPage.PushChannelStates.CONNECTED&&AdfDhtmlPage._getTimeDifference(this._lastActiveDataActivityTime)>a+b&&this._handleDisconnect();return a+b};
AdfDhtmlPage.prototype._pollForEvents=function(){var a={action:this._POLL_EVENTS_ACTION,windowId:this._getWindowId(),pageId:this._getPageId()},b=this._createADSClientStateMap(!0);this._lastPollTime=(new Date).getTime();this._notifyADSConnectionStateChange(this._pollSucceeded?AdfDhtmlPage.PushChannelStates.CONNECTING:AdfDhtmlPage.PushChannelStates.RECONNECTING);this._pollSucceeded=!1;this._sendADSChannelRequest(a,b)};
AdfDhtmlPage.prototype._reconnect=function(){this._isWindowClosing?this._reconnectRetries=0:(AdfLogger.LOGGER.fine("Reconnect called ",this._reconnectRetries+1," time(s)"),this._pushChannelState!=AdfDhtmlPage.PushChannelStates.CONNECTED&&(this._reconnectRetries<this._maxReconnectionRetries?(this._reconnectRetries++,AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM&&this._reconnectRetries>3&&this.getDomWindow().stop(),this._createADSChannel(!0),this.scheduleTimer(this,this._reconnect,null,this._reconnectWaitTime)):
(AdfLogger.LOGGER.warning("Cannot connect. Exceeded number of retries for reconnection"),this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.DISCONNECTED))))};AdfDhtmlPage.prototype.getADSConnectionState=function(){return this._pushChannelState};AdfDhtmlPage.prototype.addADSConnectionStateListener=function(a,b){AdfAssert.assertFunction(a);AdfAssert.assertObjectOrNull(b);var d=this._adsConnectionStateListeners;if(!d)this._adsConnectionStateListeners=d=[];d.push(a,b)};
AdfDhtmlPage.prototype.removeADSConnectionStateListener=function(a,b){AdfAssert.assertFunction(a);AdfAssert.assertObjectOrNull(b);var d=this._adsConnectionStateListeners;AdfAssert.assert(d,"adsConnectionStateListeners array must exist");for(var e=d.length,f=0;f<e;f++){var g=d[f];f++;g==a&&d[f]===b&&d.splice(f-1,2)}if(d.length==0)this._adsConnectionStateListeners=null};
AdfDhtmlPage.prototype._broadcastADSConnectionStateChange=function(a){var b=this._pushChannelState;if(b==a)AdfLogger.LOGGER.finest("broadcastADSConnectionStateChange called without a change in state");else{this._pushChannelState=a;var d=this._adsConnectionStateListeners;if(d){var e=d.length;if(e>0){a=new AdfPropertyChangeEvent(this,"adsConnectionState",b,a);for(b=0;b<e;b++){var f=d[b];b++;var g=d[b];try{g!=null?f.call(g,a):f(a)}catch(h){AdfLogger.LOGGER.logError(h,AdfLogger.WARNING,"Error broadcasting ADS connection state")}}}}}};
AdfDhtmlPage.prototype._startPolling=function(){if(this.isPPRNavigationEnabled()&&AdfCollections.isEmpty(this._getClientStateMap()))this._pollingTimer=this.scheduleTimer(this,this._startPolling,null,this._pollingInterval);else{if(!this._pollSucceeded&&(this._reconnectRetries++,this._reconnectRetries>this._maxReconnectionRetries)){AdfLogger.LOGGER.warning("Cannot connect. Exceeded number of retries for reconnection");this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.DISCONNECTED);
return}this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTED);var a=new Date,b=this._pollingInterval;this._lastPollTime!=null&&(b=a.getTime()-this._lastPollTime);var a=AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM,d=this._pollingInterval-b<=200;if(b>=this._pollingInterval||a&&d){if(this._pollingTimer!=null){try{clearTimeout(this._pollingTimer)}catch(e){}this._pollingTimer=null}this._pollForEvents();this._pollingTimer=this.scheduleTimer(this,this._startPolling,null,
this._pollingInterval)}else this._pollingTimer==null?(AdfLogger.LOGGER.finer("no timer exists; scheduling timer for ",b),this._pollingTimer=setTimeout(this._startPolling,b)):AdfLogger.LOGGER.finer("timer exists; doing nothing because diff = ",b," is less than ",this._pollingInterval)}};
AdfDhtmlPage.prototype._fixupLinkOnClick=function(a){for(delete this._notifyOfUnloadUrl;a!=null;){if(a.nodeName=="A")break;a=a.parentNode}if(a!=null){var b=a.href;if(b!=null&&(a=a.getAttribute("href"),!(a&&a.indexOf("#")==0)))this._notifyOfUnloadUrl=b}};AdfDhtmlPage.prototype.setStreamingDisabled=function(a){this._streamingDisabled=a};AdfDhtmlPage.prototype.isStreamingDisabled=function(){return this._streamingDisabled};
AdfDhtmlPage.prototype.sendStreamingRequest=function(a){var b=this.getDomDocument().forms[0];AdfAssert.assert(b,"No form found;  cannot stream data. Make sure that data components are placed within a form");var d=this._getPPRURL(b),e={};this._addPendingStreamingIDs(a,e);AdfDhtmlPage._addStateParameter(b,e);this._streamingStatus=AdfDhtmlPage._STREAMING_REQUEST_SENT;this._stopGlobalActiveData();this._endUserMonitoringServiceEnabled&&(AdfUserActivityInfo.getInstance(AdfUserActivityInfo._SECONDARY).setClientStartTime((new Date).getTime().toString()),
AdfUserActivityInfo.saveToSessionStorageByType(AdfUserActivityInfo._SECONDARY));this.getDataTransferService().sendStreamingRequest(d,e);if(this._perfProfileEnabled||this._perfProfileTimingEnabled)this.getDomWindow()._afrTimingStreamingRequestStart=(new Date).getTime()};AdfDhtmlPage._addStateParameter=function(a,b){var d=AdfDhtmlPage._STATE_PARAM_NAME,e=a[d];AdfAssert.assert(e,"No view state token for postback");b[d]=e.value};
AdfDhtmlPage.prototype.getLazyFetchURI=function(a){AdfAssert.assertString(a,"invalid Id for the lazy fetch URI");var b=this.getDomDocument().forms[0];AdfAssert.assert(b,"No form found;  cannot perform lazy fetch");var d=b.action;d+=d.indexOf("?")==-1?"?unique=":"&unique=";d+=(new Date).getTime();var e=AdfDhtmlPage._STATE_PARAM_NAME;d+="&"+e+"=";b=b[e];AdfAssert.assert(b,"No view state token for lazy fetch");d+=b.value;d+="&"+AdfDhtmlPage._LAZY_FETCH_ID_PARAM+"="+a;d+="&Adf-Window-Id="+this._getWindowId();
return d};AdfDhtmlPage.prototype.isStreamingRequestPending=function(a){return this._pendingStreamingIDs[a]};AdfDhtmlPage.prototype._addPendingStreamingIDs=function(a,b){for(var d="",e=[],f=[],g=a.split(","),h=0;h<g.length;h++){var k=g[h],l=this.getDomDocument().getElementById(k);AdfDomUtils.isInVisibleSubtree(l)?(this._pendingStreamingIDs[k]=!0,e.push(k)):f.push(k)}e.length>0&&(d=e.join(","));b[AdfDhtmlPage._STREAMING_IDS_PARAM]=d;f.length>0&&(b[AdfDhtmlPage._REMOVED_STREAMING_IDS_PARAM]=f.join(","))};
AdfDhtmlPage._getCookie=function(a,b){if(a.cookie.length>0){var d=a.cookie.indexOf(b+"=");if(d!=-1){var e=a.cookie.indexOf(";",d);if(e==-1)e=a.cookie.length;return a.cookie.substring(d+b.length+1,e)}}return null};AdfDhtmlPage._setCookie=function(a,b,d,e,f){AdfAssert.assertNumeric(e);var g="";e&&(g=new Date,g.setTime(g.getTime()+e),g="expires="+g.toGMTString()+";");a.cookie=b+"="+d+";"+g+(f?"path="+f+";":"path=/;")};AdfDhtmlPage._eraseCookie=function(a,b){this.setCookie(a,b,"",-99999)};
AdfDhtmlPage.prototype._dtsStateChanged=function(){var a=this.getDataTransferService().getDTSState()!=AdfDataTransferService.STATE_READY;if(this._serverBusy!=a)this._serverBusy=a,AdfAgent.AGENT.showBusyCursor(this.getDomDocument(),a),this._broadcastBusyStateEvent(a);a||this._deliverQueuedServerEvents()};AdfDhtmlPage.prototype.setLastFocusedElement=function(a){this._lastFocusedElement=a};AdfDhtmlPage.prototype.getLastFocusedElement=function(){return this._lastFocusedElement};
AdfDhtmlPage.prototype.setPPRNavigationOptions=function(a){this._pprNavOptions=a};AdfDhtmlPage.prototype.getPPRNavigationOptions=function(){return this._pprNavOptions!=void 0?this._pprNavOptions:0};AdfDhtmlPage.prototype._collectLoadedLibraries=function(){for(var a={},b=this.getDocument().getElementsByTagName("script"),d=0;d<b.length;d++){var e=b[d].getAttribute("src");e&&(a[e]=!0)}return a};
AdfDhtmlPage.prototype._collectCss=function(){for(var a={},b=document.getElementsByTagName("link"),d=0,e=b.length;d<e;++d){var f=b[d].getAttribute("href");f&&(a[f]=!0)}return a};AdfDhtmlPage.prototype.flushToAssistiveTechnology=function(){var a=AdfAgent.AGENT.getElementById("afr::ATFlush");if(a)a.value=a.value=="1"?"0":"1"};
AdfDhtmlPage.prototype.announceToAssistiveTechnology=function(a,b){var d=AdfAgent.AGENT.getElementById("afr::ATStatus");if(d&&!(b&&a==this._lastStatusMessage)){this._lastStatusMessage=d.innerHTML=a;var d=this._clearStatusMessageTimer,e=500;AdfAgent.IE_PLATFORM==AdfAgent.AGENT.getPlatform()&&(e=1750);d?this.rescheduleTimer(d,e):this._clearStatusMessageTimer=this.scheduleTimer(this,this._clearStatusRegion,null,e)}};
AdfDhtmlPage.prototype._clearStatusRegion=function(){var a=AdfAgent.AGENT.getElementById("afr::ATStatus");if(a)a.innerHTML="",this.flushToAssistiveTechnology();this._clearStatusMessageTimer=null};AdfDhtmlPage.prototype.setDataDirty=function(a){this._dataDirty=a};AdfDhtmlPage.prototype.setProcessedRoots=function(){this._removeUncommittedIds(arguments)};
AdfDhtmlPage.prototype.confirmNavigation=function(a,b){this.getLookAndFeel();var d=this._displayUncommittedDataWarning(),e={};e["oracle.adfinternal.view.faces.rich.navigationToken"]=a;e["oracle.adfinternal.view.faces.rich.confirmNavigation"]=d;this._sendRichPayload(e,{_noNavigation:!b})};
AdfDhtmlPage.prototype._removeUncommittedIds=function(a){if(!this._richPostbackHasErrors&&this._hasLocalUncommitted)if(a.length==0)this._resetUncommittedIds();else{this._hasLocalUncommitted=!1;var b=this._uncommittedIds;this._uncommittedIds={};var d=AdfAgent.AGENT,e;for(e in b){for(var f=!1,g=0;g<a.length&&!f;g++)e.indexOf(a[g])==0&&(f=!0);if(!f)if(g=d.getElementById(e))for(g=g.parentNode;g&&!f;){for(var h=g.id,k=0;!f&&h&&k<a.length;k++)g.id==a[k]&&(f=!0);g=g.parentNode}else f=!0;if(!f)this._hasLocalUncommitted=
this._uncommittedIds[e]=!0}}};AdfDhtmlPage.prototype._navResetPage=function(){AdfDhtmlRichDialogService.getInstance().cancelAll();this._pageProperties={};this._setRichResponseDirty(!1);this._resizeNotifyMap={};this._resizeNotifyTree={};this._descendantResizeNotifyList=[];this._serverEventQueue=[];this._noResponseEventQueue=[];this._discreteEventQueue=[];this._partialTargets=null;this._autoPPRComponents={};this._activeComponents={}};
AdfDhtmlPage.prototype.removePageResources=function(){var a=AdfDomUtils.getFirstDescendentElement(AdfAgent.AGENT.getDomDocument().documentElement,"HEAD"),b=function(a,b){for(var f=b.getElementsByTagName(a),g=f.length-1;g>=0;--g){var h=f[g];h.getAttribute("afrres")=="true"&&b.removeChild(h)}};b("LINK",a);b("STYLE",a)};
AdfDhtmlPage.prototype._handleInvalidPprResponse=function(a,b,d){if(a){var e=AdfDhtmlPage._extractInstructionXML(a,"partial-response");if(e&&e.documentElement&&e.documentElement.firstChild){var f=AdfAgent.AGENT.getNodeName(e.documentElement.firstChild);if(f=="error"){this._handleRichResponse(e,null);b&&this._sendJsfAjaxEvent("error",{context:b,responseCode:d.getResponseStatusCode(),responseText:a,responseXML:e});return}if(f=="redirect"){this._handleRichResponse(e,null);return}}}else b&&this._sendJsfAjaxEvent("error",
{context:b,event:d});AdfAssert.DEBUG?AdfLogger.LOGGER.severe("Unexpected non-rich response"):AdfLogger.LOGGER.warning("Unexpected non-rich response");this._unloading||this.getDomWindow().location.reload(!0)};AdfDhtmlPage._extractInstructionXML=function(a,b){var d=a.length;if(d<=1)return null;if(a.charAt(d-1)!=">")return null;var e=null,f="</"+b,g=f.length;d>g+1&&f==a.substr(d-g-1,g)&&(d=a.lastIndexOf("<?xml"),d>=0&&(e=AdfAgent.AGENT.parseXML(a.substring(d))));return e};
AdfDhtmlPage.prototype.__failover=function(a){this._handlingFailover=!0;this._handleAllFailovers(a)};AdfDhtmlPage.prototype._handleFailover=function(){this.__setHAMigrated(!1);this.getDomWindow().location.reload(!0)};
AdfDhtmlPage.prototype._handleAllFailovers=function(a){var b=this._getRegistryMap(),d=void 0,e=this.getDomWindow(),f=void 0;AdfCollections.isArray(a)||(d=a,a=[],a=a.concat(d));for(var g in b)if(AdfCollections.indexOf(a,g)==-1)if(d=b[g],d!=e){if(this._testAdfPageExistence(d))d=d.AdfPage.PAGE,d.isHAMigrated()||d._handleFailover()}else f=!0;f&&this._testAdfPageExistence(e)&&e.AdfPage.PAGE._handleFailover()};
AdfDhtmlPage.prototype.__setHAMigrated=function(a){AdfAssert.assertBoolean(a);this._haMigrated=a};AdfDhtmlPage.prototype.isHAMigrated=function(){return this._haMigrated};AdfDhtmlPage.prototype.__initUncommittedDataWarningForDocument=function(a){this._warnUncommitted=a;this._resetUncommittedIds()};AdfDhtmlPage.prototype._resetUncommittedIds=function(){if(this._warnUncommitted)this._hasLocalUncommitted=!1,this._uncommittedIds={}};
AdfDhtmlPage.prototype.__initPollingTimeout=function(a){var b=this.__getPollHelper();b&&b.initializePollingTimeout(a)};AdfDhtmlPage.prototype.__getPollHelper=function(){if(this._pollHelper===void 0&&this.getDomWindow().AdfDhtmlPollPeer!==void 0)this._pollHelper=new AdfPollHelper;return this._pollHelper};AdfDhtmlPage.prototype.getComponentIdsUpdatedByPollEvent=function(){return this._componentsUpdatedByPollEvent};AdfDhtmlPage.prototype.getTimeoutWarningWindowState=function(){return this._timeoutWarningWindowState};
AdfDhtmlPage.prototype.__recordSessionTimeout=function(a,b,d){this._timeout=a;this._warningBeforeTimeout=b;this._newSessionURL=d;if(this._timeoutWarningTimer)this.cancelTimer(this._timeoutWarningTimer),this._timeoutWarningTimer=null;if(this._timeoutTimer)this.cancelTimer(this._timeoutTimer),this._timeoutTimer=null;if(this._warningBeforeTimeout>0&&AdfCollections.isEmpty(this._activeComponents))this._timeoutWarningTimer=this.scheduleTimer(this,this._alertTimeoutWarning,null,this._timeout-this._warningBeforeTimeout),
this._timeoutWarningWindowState=AdfDhtmlPage.TimeoutWarningWindowStates.NONE};
AdfDhtmlPage.prototype._alertTimeoutWarning=function(){this._timeoutWarningTimer=null;if(this._timeoutTimer)this.cancelTimer(this._timeoutTimer),this._timeoutTimer=null;var a=AdfPage.PAGE.getLookAndFeel(),b,b=this._warningBeforeTimeout>=6E4?a.getTranslatedString("af_document.PRE_SESSION_TIMEOUT_MSG",Math.floor(this._warningBeforeTimeout/6E4)):a.getTranslatedString("af_document.PRE_SESSION_TIMEOUT_MSG_SECOND",this._warningBeforeTimeout/1E3),a=a.getTranslatedString("af_document.PRE_SESSION_TIMEOUT_CONFIRM_TITLE");
a==null&&(a="Expiration Warning");var d=this.createCallback(this._handleSessionTimeoutConfirm);this._preSessionTimeoutWarningTime=(new Date).getTime();this._confirm(a,b,d,this._warningBeforeTimeout,!0);return-1};
AdfDhtmlPage.prototype._handleSessionTimeoutConfirm=function(a){if(a.getOutcome()==AdfDialogEvent.OUTCOME_OK){this._touchServerSession();this._timeoutWarningWindowState=AdfDhtmlPage.TimeoutWarningWindowStates.NONE;if(this._timeoutTimer)this.cancelTimer(this._timeoutTimer),this._timeoutTimer=null;this._timeoutWarningTimer&&this.cancelTimer(this._timeoutWarningTimer);this._timeoutWarningTimer=this.scheduleTimer(this,this._alertTimeoutWarning,null,this._timeout-this._warningBeforeTimeout)}else if(a.getOutcome()==
AdfDialogEvent.OUTCOME_CANCEL)this._timeoutWarningWindowState=AdfDhtmlPage.TimeoutWarningWindowStates.CANCEL,a=this._warningBeforeTimeout-((new Date).getTime()-this._preSessionTimeoutWarningTime),this._preSessionTimeoutWarningTime=null,this._timeoutTimer=this.scheduleTimer(this,this._alertTimeout,null,a)};
AdfDhtmlPage.prototype._alertTimeout=function(){if(this._timeoutWarningTimer)this.cancelTimer(this._timeoutWarningTimer),this._timeoutWarningTimer=null;var a=AdfPage.PAGE.getLookAndFeel(),b=a.getTranslatedString("af_document.POST_SESSION_TIMEOUT_MSG");this._newSessionURL&&(b+=" "+a.getTranslatedString("af_document.POST_SESSION_TIMEOUT_MSG_CONTINUE"));a=a.getTranslatedString("af_document.POST_SESSION_TIMEOUT_ALERT_TITLE");a==null&&(a="Window Expired");var d=this.createCallback(this._handleSessionTimeoutAlert);
this._alert(a,b,d)};
AdfDhtmlPage.prototype._handleSessionTimeoutAlert=function(){if(this._newSessionURL)this.getDomWindow().location.replace(this._newSessionURL);else{var a=AdfPage.PAGE.getLookAndFeel().getTranslatedString("af_document.POST_SESSION_TIMEOUT_MSG"),b=AdfAgent.AGENT,d=b.getElementById(this._documentClientId),e=this.getDomDocument().createElement("div");AdfDomUtils.setVisible(e,!1);b.setTextContent(e,a);AdfDomUtils.setVisible(d,!1);d.parentNode.appendChild(e);AdfDomUtils.setVisible(e,!0);this.getDomWindow().setTimeout(this.createCallback(this.Dispose),
1)}};AdfDhtmlPage.prototype._touchServerSession=function(){var a=this.getDomDocument().location.href;a+=a.indexOf("?")==-1?"?":"&";a+="_afrTS="+(new Date).getTime();var b=new AdfXMLRequest;b.setSynchronous(!0);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.send(a,null);b.cleanup();delete b};
AdfDhtmlPage.prototype._handleNavigation=function(a,b){var d=b,e=this.getDomWindow();AdfAssert.assertNonEmptyString(a);if(!b||b=="null"||b=="_self")d=self;else if(b=="_blank")return d=e.open(a),d.focus(),!1;else d=b=="_top"?top:b=="_parent"?parent:e.frames[b];var f=this.getBaseResourceUrl(),g=this._facesPath,h=/^http/i;if(a.charAt(0)=="/")a.indexOf(f)!=0&&(a=f+a);else if(!h.test(a)){var f=null,h=document.location.href,k=h.indexOf("#");if(this.isPPRNavigationEnabled()&&k>0){if((h=h.substring(k+1))&&
h.length>0){h=decodeURIComponent(h);if(f=h.substring(0,h.indexOf("@")))h=f.split("/"),f=f.substring(0,f.length-h[h.length-1].length);f||(f="/")}a=g+f+a}}if(!this.isPPRNavigationEnabled()||!g||a.indexOf(g)<0||!d||!d.AdfPage||!d.AdfPage.PAGE||a.indexOf("org.apache.myfaces.trinidad.agent.email=true")>0)return d==self?d.location.href=a:(d=e.open(a,b),d.focus()),!1;d.AdfPage.PAGE.localNavigate(a);return!1};
AdfDhtmlPage.prototype._handleNavigationClick=function(a,b,d){if(!a)a=window.event;if(!AdfAgent.AGENT.isLeftButton(a))return!0;return this._handleNavigation(b,d)};
AdfDhtmlPage.prototype._sendJsfAjaxEvent=function(a,b){if(!(this._jsfAjaxInit!==!0||b.context==null||b.context._discreteEvent==null||!(b.context._discreteEvent instanceof AdfJsfAjaxRequestEvent))){var d=b.context._discreteEvent._options[a=="error"?"onerror":"onevent"],e={type:"event",status:a,source:b.context._discreteEvent._sourceElement};if(a!="begin"&&(b.event?(e.responseCode=b.event.getResponseStatusCode(),e.responseXML=b.event.getResponseXML(),e.responseText=b.event.getResponseText()):(e.responseCode=
b.responseCode,e.responseXML=b.responseXML,e.responseText=b.responseText),a=="error")){e.description=null;e.errorName=null;e.errorMessage=null;var f=this.getLookAndFeel();if(e.responseXML==null||e.responseXML.documentElement==null)e.description=f.getTranslatedString("AFPprEmptyResponse");else{var g=e.responseXML.getElementsByTagName("parsererror");e.description=g.length>0?AdfAgent.AGENT.getTextContent(g[0]):f.getTranslatedString("AFPprUnknownError")}if(e.responseXML&&e.responseXML.documentElement&&
e.responseXML.documentElement.tagName=="partial-response"&&e.responseXML.documentElement.firstChild&&e.responseXML.documentElement.firstChild.tagName=="error")f=e.responseXML.documentElement.firstChild,e.errorName=f.firstChild.firstChild.nodeValue,e.errorMessage=f.firstChild.nextSibling.firstChild.nodeValue}for(var f=this._jsfAjaxListeners[a=="error"?"error":"event"],g=0,h=f.length;g<h;++g){var k=f[g];try{k(e)}catch(l){AdfLogger.LOGGER.severe("AJAX listener threw exception:",l)}}if(d)try{d(e)}catch(m){AdfLogger.LOGGER.severe("AJAX listener threw exception:",
m)}}};AdfDhtmlPage.prototype._jsfAjaxRequest=function(a,b,d){AdfJsfAjaxRequestEvent.queue(a,b,d)};AdfDhtmlPage.prototype._jsfAjaxAddOnEvent=function(a){this._jsfAjaxListeners.event.push(a)};AdfDhtmlPage.prototype._jsfAjaxAddOnError=function(a){this._jsfAjaxListeners.error.push(a)};
AdfDhtmlPage.prototype._replaceJsfAjaxFunctions=function(){if(!this._jsfAjaxInit&&!(typeof this._window.jsf=="undefined"||typeof this._window.jsf.ajax=="undefined")){var a=jsf.ajax;a._origRequest=a.request;a._origAddOnEvent=a.addOnEvent;a._origAddOnError=a.addOnError;this._jsfAjaxListeners={event:[],error:[]};a.request=this.createCallback(this._jsfAjaxRequest);a.addOnEvent=this.createCallback(this._jsfAjaxAddOnEvent);a.addOnError=this.createCallback(this._jsfAjaxAddOnError);this._jsfAjaxInit=!0}};
AdfDhtmlPage.prototype._confirm=function(a,b,d,e,f){this._timeoutWarningWindowState=AdfDhtmlPage.TimeoutWarningWindowStates.LAUNCHED;AdfAssert.assertString(a,"confirm title");AdfAssert.assertString(b,"confirm message");AdfAssert.assertFunction(d,"confirm callback");e&&AdfAssert.assertNumber(e,"confirm timeout");var g=this.findComponent(this._documentClientId),h=g.getPeer();h.bind(g);return h.__showAlertConfirm(f,a,b,d,e)};
AdfDhtmlPage.prototype._alert=function(a,b,d){AdfAssert.assertString(a,"alert title");AdfAssert.assertString(b,"alert message");AdfAssert.assertFunction(d,"alert callback");var e=this.findComponent(this._documentClientId),f=e.getPeer();f.bind(e);return f.__showAlertConfirm(!0,a,b,d)};
AdfDhtmlPage.prototype._updateViewState=function(a){var b=this.getDomDocument(),d=AdfAgent.AGENT,e=b.forms.length;AdfAssert.assert(e>0);for(var f=0;f<e;f++){var g=b.forms[f];AdfAssert.assertDomElement(g);if(e==1||this._isAdfForm(g)){var h=d.getTextContent(a),k=g.elements[AdfDhtmlPage._STATE_PARAM_NAME];k?k.value=h:(k=b.createElement("span"),k.innerHTML="<input type='hidden' name='"+AdfDhtmlPage._STATE_PARAM_NAME+"' value='"+h+"' />",g.appendChild(k))}}};
AdfDhtmlPage.prototype._isAdfForm=function(a){a=a.id;if(a!=null)return AdfAgent.AGENT.getElementById(a+AdfDhtmlPage._POSTSCRIPT_ID_SUFFIX)!=null;return!1};AdfDhtmlPage.prototype._displayUncommittedDataWarning=function(){return confirm(this.getLookAndFeel().getTranslatedString("af_document.MSG_CONFIRM_NAVIGATION"))};AdfDhtmlPage.prototype._logAsGlobalError=function(a){window.onerror!=void 0&&this._handleGlobalError(a.message,a.fileName,a.lineNumber)};
AdfDhtmlPage.prototype._handleGlobalError=function(a,b,d){if(!this._savedErrors)this._savedErrors=[];var e=!1;a=="setting a property that has only a getter"&&b==""&&d==0&&(e=!0);AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM&&a!=void 0&&(b==""&&d==0&&a.match(/Permission denied for </)&&a.match(/> to call method Location.toString on </)?e=!0:b!=""&&a.match(/Permission denied to get property Location.toString/)&&(e=!0));if(e)return!1;this._savedErrors.push({msg:a,url:b,line:d});return!1};
AdfDhtmlPage.prototype._throwSavedErrors=function(){if(this._savedErrors&&this._savedErrors.length>0){for(var a="Javascript error(s): ",b=0;b<this._savedErrors.length;b++){b>0&&(a+=";");var d=this._savedErrors[b];a+=d.msg;d.url&&(a+=" in "+d.url);d.line!==void 0&&d.line!==null&&(a+=":"+d.line)}throw a;}};AdfDhtmlPage.prototype._getQueryParamsFromActionUrl=function(){var a=null,b=this.getDomDocument().forms[0].action,d=b.indexOf("?");d>=0&&(a=b.substring(d));return a};
AdfDhtmlPage.prototype._isPrintablePage=function(){var a=this.getDomDocument().body;return AdfDomUtils.containsCSSClassName(a,AdfDhtmlPage._PRINTABLE_STATE)};
function AdfDhtmlRichDialogService(){this.Init()}AdfObject.createSubclass(AdfDhtmlRichDialogService);AdfDhtmlRichDialogService.getInstance=function(){if(this._theInstance==null)this._theInstance=new AdfDhtmlRichDialogService;return this._theInstance};AdfDhtmlRichDialogService.dialogExists=function(a){return AdfDhtmlRichDialogService._getDialogStateToken(a)?!0:!1};
AdfDhtmlRichDialogService.prototype.launchWindow=function(a,b,d,e){AdfAssert.assertString(a);AdfAssert.assertString(b);AdfAssert.assertObject(d);AdfAssert.assertStringOrNull(e);var f=AdfPage.PAGE;try{AdfDhtmlRichDialogService._setBusy(!0);var g=AdfDhtmlRichDialogService._generateRtnId(),h=AdfDhtmlRichDialogService._normalizeLaunchSourceId(e);AdfDhtmlRichDialogService._installBeforeUnloadHandler();var k=d.windowModalityType&&d.windowModalityType==AdfDhtmlRichDialogService._WINDOW_MODALITY_TYPE_APPLICATION_MODAL?
!0:!1,e={launchSourceId:h,modal:k,windowName:b,rtnId:g};AdfDhtmlRichDialogService._setDialogStateToken(g,e);k&&AdfDhtmlRichDialogService._showModalGlass();var l=AdfDhtmlRichDialogService._openWindow(a,b,d,g);e.childWindow=l;AdfDhtmlRichDialogService._setDialogStateToken(g,e);f.scheduleTimer(f,AdfDhtmlRichDialogService._setWindowFocus,g,100)}finally{AdfDhtmlRichDialogService._setBusy(!1)}};
AdfDhtmlRichDialogService.prototype.launchInline=function(a){AdfAssert.assertString(a);var b=AdfPage.PAGE;try{AdfDhtmlRichDialogService._setBusy(!0);var d=b.findComponent(a);AdfAssert.assertPrototype(d,AdfRichPopup);d.addEventListener(AdfPopupOpenedEvent.POPUP_OPENED_EVENT_TYPE,AdfDhtmlRichDialogService._popupOpenedHandler);d.addEventListener(AdfPopupClosedEvent.POPUP_CLOSED_EVENT_TYPE,AdfDhtmlRichDialogService._popupClosedHandler);d.getPeer().bind(d);var e=d.getProperty("_rtnId"),f=d.getProperty("_launchId"),
g=d.getProperty("_inlineFrameId"),h=d.getProperty("_isCancellationDisabled"),k=AdfDhtmlRichDialogService._normalizeLaunchSourceId(f);AdfDhtmlRichDialogService._installBeforeUnloadHandler();AdfDhtmlRichDialogService._setDialogStateToken(e,{launchSourceId:k,popupId:a,frameName:g,rtnId:e});a={};k&&(a[AdfRichPopup.HINT_LAUNCH_ID]=k);h&&(a[AdfDhtmlPopupWindow.HINT_CLOSE_ON_ESCAPE]=!1);d.show(a)}finally{AdfDhtmlRichDialogService._setBusy(!1)}};
AdfDhtmlRichDialogService.prototype.returnFrom=function(a){var b=AdfDhtmlRichDialogService._getDialogStateToken(a);if(b)try{AdfDhtmlRichDialogService._setBusy(!0);if(b.popupId)AdfDhtmlRichDialogService._hidePopup(b),AdfDhtmlRichDialogService._queueReturnEvent(b);else{if(!AdfDhtmlRichDialogService._closeWindow(b)){b.isReturnFromPending=!0;return}AdfDhtmlRichDialogService._queueReturnEvent(b);AdfDhtmlRichDialogService._notifyWindowClosed(a);b.modal&&AdfDhtmlRichDialogService._hideModalGlass()}AdfDhtmlRichDialogService._removeDialogStateToken(a);
AdfDhtmlRichDialogService._uninstallBeforeUnloadHandler()}finally{AdfDhtmlRichDialogService._setBusy(!1)}else AdfLogger.LOGGER.warning("dialog state missing or already returned for rtnId:",a)};
AdfDhtmlRichDialogService.prototype.checkForWindowCanceled=function(a){AdfAssert.assertNumeric(a);var b=AdfDhtmlRichDialogService._getDialogStateToken(a);if(b)try{if(AdfDhtmlRichDialogService._setBusy(!0),b.childWindow.closed)b.modal&&AdfDhtmlRichDialogService._hideModalGlass(),b.isReturnFromPending&&AdfDhtmlRichDialogService._queueReturnEvent(b),AdfDhtmlRichDialogService._removeDialogStateToken(a),AdfDhtmlRichDialogService._uninstallBeforeUnloadHandler(),AdfDhtmlRichDialogService._notifyWindowClosed(a);
else{var d=AdfPage.PAGE;d.scheduleTimer(d,AdfDhtmlRichDialogService.getInstance().checkForWindowCanceled,a,100)}}finally{AdfDhtmlRichDialogService._setBusy(!1)}};AdfDhtmlRichDialogService._setBusy=function(a){AdfDhtmlRichDialogService.getInstance().Busy=a};AdfDhtmlRichDialogService.isBusy=function(){if(AdfDhtmlRichDialogService.getInstance().Busy)return!0;var a=AdfDhtmlRichDialogService.getInstance().StateMap;if(a)for(rtnId in a){var b=a[rtnId];if(b&&b.isReturnFromPending)return!0}return!1};
AdfDhtmlRichDialogService.prototype.cancelAll=function(){var a=AdfDhtmlRichDialogService.getInstance().StateMap;if(a)for(rtnId in a)AdfDhtmlRichDialogService._cancel(rtnId)};AdfDhtmlRichDialogService.prototype.__visitWindows=function(a){var b=AdfDhtmlRichDialogService.getInstance().StateMap;if(b)for(rtnId in b){var d=b[rtnId];d&&a(d)}};AdfDhtmlRichDialogService._setWindowFocus=function(a){AdfAssert.assertNumeric(a);(a=AdfDhtmlRichDialogService._getDialogStateToken(a))&&a.childWindow.focus()};
AdfDhtmlRichDialogService._cancel=function(a){AdfAssert.assertNumeric(a);var b=AdfDhtmlRichDialogService._getDialogStateToken(a);b&&(b.popupId?AdfDhtmlRichDialogService._cancelPopup(b):(AdfDhtmlRichDialogService._closeWindow(b),b.modal&&AdfDhtmlRichDialogService._hideModalGlass()),AdfDhtmlRichDialogService._removeDialogStateToken(a),AdfDhtmlRichDialogService._uninstallBeforeUnloadHandler(),AdfDhtmlRichDialogService._notifyWindowClosed(a))};
AdfDhtmlRichDialogService._queueReturnEvent=function(a){AdfAssert.assertObject(a);if(a=a.launchSourceId)if(a=AdfPage.PAGE.findComponent(a))(new AdfReturnEvent(a)).queue(),a.focus()};
AdfDhtmlRichDialogService._normalizeLaunchSourceId=function(a){if(!a||a.length==0)return null;var b=AdfPage.PAGE;if(!b.findComponent(a)){var d=a.lastIndexOf(":");if(d!=-1){var e=a.lastIndexOf(":",d-1);if(e!=-1){var e=a.substring(0,e),f=b.findComponent(e);if(f&&window.AdfUICollection&&f instanceof AdfUICollection&&(d=a.substring(d),d=e.concat(d),b.findComponent(d)))return d}}}return a};AdfDhtmlRichDialogService._generateRtnId=function(){return(new Date).getTime()};
AdfDhtmlRichDialogService._closeWindow=function(a){AdfAssert.assertObject(a);a=a.childWindow;a.close();return a.closed};AdfDhtmlRichDialogService._hidePopup=function(a){a=a.popupId;AdfAssert.assertString(a);a=AdfPage.PAGE.findComponent(a);AdfAssert.assertPrototype(a,AdfRichPopup);a&&(AdfDhtmlRichDialogService.__unloadDocument(a),a.hide())};
AdfDhtmlRichDialogService._cancelPopup=function(a){a=a.popupId;AdfAssert.assertString(a);a=AdfPage.PAGE.findComponent(a);AdfAssert.assertPrototype(a,AdfRichPopup);a&&(AdfDhtmlRichDialogService.__unloadDocument(a),a.cancel())};
AdfDhtmlRichDialogService.__unloadDocument=function(a){AdfAssert.assertPrototype(a,AdfRichPopup);var b=AdfPage.PAGE,a=a.getProperty("_inlineFrameId"),a=b.findComponent(a),d=a.getPeer();d.bind(a);a=d.__getIframe();AdfAssert.assertDomElement(a,"IFRAME");b=b.getResourceURL("/afr/blank.html");a.setAttribute("src",b)};AdfDhtmlRichDialogService._getOpenDialogCount=function(){var a=0,b=AdfDhtmlRichDialogService.getInstance().StateMap;if(b)for(rtnId in b)a++;return a};
AdfDhtmlRichDialogService._setDialogStateToken=function(a,b){var d=""+a,e=AdfDhtmlRichDialogService.getInstance().StateMap;if(!e)e={},AdfDhtmlRichDialogService.getInstance().StateMap=e;e[d]=b};AdfDhtmlRichDialogService._getDialogStateToken=function(a){var b=AdfDhtmlRichDialogService.getInstance().StateMap;if(!b)return null;return b[""+a]};AdfDhtmlRichDialogService._removeDialogStateToken=function(a){var b=AdfDhtmlRichDialogService.getInstance().StateMap;b&&delete b[""+a]};
AdfDhtmlRichDialogService._openWindow=function(a,b,d,e){var f=AdfPage.PAGE.getDomWindow();AdfCollections.union(AdfDhtmlRichDialogService._WINDOW_DEFAULT_FEATURES_MAP,d,d);d=AdfDhtmlRichDialogService._buildFeatureString(d);a=AdfDhtmlRichDialogService._encodeURL(a,e);b=f.open(a,b,d);try{b.opener=f}catch(g){AdfLogger.LOGGER.logErrorAsWarning(g," error setting opener of child window.")}return b};
AdfDhtmlRichDialogService._buildFeatureString=function(a){var b="",d;for(d in a)b.length>0&&(b+=","),b+=d+"="+a[d];return b};AdfDhtmlRichDialogService._encodeURL=function(a,b){AdfAssert.assertString(a);AdfAssert.assertNumeric(b);return a+"&_rtrnId="+b};AdfDhtmlRichDialogService._showModalGlass=function(){var a=AdfPage.PAGE,b=a.getModalityManager(),d=a.getZOrderManager(),a=a.getDomDocument().createElement("div");d.addElementToLayer(a,AdfDhtmlZOrderManager.FLOATINGTYPE_WINDOW);b.pushModal(a);d.removeElement(a)};
AdfDhtmlRichDialogService._hideModalGlass=function(){AdfPage.PAGE.getModalityManager().popModal()};AdfDhtmlRichDialogService._installBeforeUnloadHandler=function(){AdfDhtmlRichDialogService._getOpenDialogCount()==0&&AdfAgent.AGENT.addBubbleEventListener(AdfPage.PAGE.getDomWindow(),"beforeunload",AdfDhtmlRichDialogService._beforeUnloadHandler)};
AdfDhtmlRichDialogService._uninstallBeforeUnloadHandler=function(){AdfDhtmlRichDialogService._getOpenDialogCount()==0&&AdfAgent.AGENT.removeBubbleEventListener(AdfPage.PAGE.getDomWindow(),"beforeunload",AdfDhtmlRichDialogService._beforeUnloadHandler)};AdfDhtmlRichDialogService._beforeUnloadHandler=function(a){var b=AdfPage.PAGE.getLookAndFeel().getTranslatedString("af_document.MSG_DEPENDENT_DIALOGS");return a.returnValue=b};
AdfDhtmlRichDialogService._popupOpenedHandler=function(a){var b=AdfAgent.AGENT,d=AdfPage.PAGE,a=a.getSource(),e=a.getPeer();e.bind(a);var e=e.getDomElement(),f=a.getProperty("_panelWindowId"),g=a.getProperty("_inlineFrameId"),h=d.findComponent(g),k=h.getPeer();k.bind(h);h=k.__getIframe();AdfAssert.assertDomElement(h,"IFRAME");k=a.getProperty("_rtnId");b.setExpandoProperty(h,"_panelWindowId",f);b.setExpandoProperty(e,"_inlineFrameId",g);b.setExpandoProperty(h,"_rtnId",k);b.addBubbleEventListener(h,
"load",AdfDhtmlRichDialogService._iframeLoadHandler);b=a.getProperty("_dialogURL");h.src=b;d.isPPRNavigationEnabled()&&AdfDhtmlRichDialogService._checkForIframeTitleChangeWithPPRNavOn(k)};
AdfDhtmlRichDialogService._popupClosedHandler=function(a){var b=AdfAgent.AGENT,a=a.getSource(),d=a.getPeer();d.bind(a);d=d.getDomElement();d=b.getExpandoProperty(d,"_inlineFrameId");a=a.getProperty("_rtnId");d=AdfPage.PAGE.findComponent(d);AdfAssert.assertPrototype(d,AdfRichInlineFrame);var e=d.getPeer();e.bind(d);d=e.__getIframe();AdfAssert.assertDomElement(d,"IFRAME");b.removeBubbleEventListener(d,"load",AdfDhtmlRichDialogService._iframeLoadHandler);AdfDhtmlRichDialogService._removeDialogStateToken(a);
AdfDhtmlRichDialogService._uninstallBeforeUnloadHandler();AdfDhtmlRichDialogService._notifyWindowClosed(a)};AdfDhtmlRichDialogService._iframeLoadHandler=function(a){var b=AdfAgent.AGENT,d=AdfPage.PAGE,e=b.getEventTarget(a);if(!e)e=a.currentTarget;AdfAssert.assertDomElement(e,"IFRAME");a=b.getExpandoProperty(e,"_panelWindowId");AdfAssert.assertString(a);d=d.findComponent(a);AdfAssert.assertPrototype(d,AdfRichPanelWindow);(e=e.contentWindow.document.title)&&d.setTitle(e)};
AdfDhtmlRichDialogService._checkForIframeTitleChangeWithPPRNavOn=function(a){AdfAssert.assertNumeric(a);var b=AdfDhtmlRichDialogService._getDialogStateToken(a);if(b){var d=AdfPage.PAGE,b=b.popupId;AdfAssert.assertString(b);if(b=d.findComponent(b)){AdfAssert.assertPrototype(b,AdfRichPopup);var e=b.getPeer();e.bind(b);e=e.getDomElement();b=AdfAgent.AGENT;e=b.getExpandoProperty(e,"_inlineFrameId");e=AdfPage.PAGE.findComponent(e);AdfAssert.assertPrototype(e,AdfRichInlineFrame);var f=e.getPeer();f.bind(e);
e=f.__getIframe();AdfAssert.assertDomElement(e,"IFRAME");b=b.getExpandoProperty(e,"_panelWindowId");AdfAssert.assertString(b);b=d.findComponent(b);AdfAssert.assertPrototype(b,AdfRichPanelWindow);(e=e.contentWindow.document.title)&&b.setTitle(e);d.scheduleTimer(d,AdfDhtmlRichDialogService._checkForIframeTitleChangeWithPPRNavOn,a,3E3)}}};AdfDhtmlRichDialogService._notifyWindowClosed=function(a){AdfPage.PAGE.__notifyWindowCloseImmediately(!0,a)};
AdfDhtmlRichDialogService._WINDOW_MODALITY_TYPE_APPLICATION_MODAL="applicationModal";AdfDhtmlRichDialogService._WINDOW_DEFAULT_FEATURES_MAP={alwayslowered:1,alwaysraised:1,channelmode:0,copyhistory:0,dependent:1,directories:0,fullscreen:0,hotkeys:1,location:0,menubar:0,resizable:1,scrollbars:1,status:1,titlebar:1,toolbar:1,"z-lock":1};
function AdfRichInlineEditor(){}AdfObject.createSubclass(AdfRichInlineEditor);AdfRichInlineEditor.FILTER_UNSELECTABLE=0;AdfRichInlineEditor.FILTER_SELECTABLE=1;AdfRichInlineEditor.FILTER_EDITABLE=2;AdfRichInlineEditor.prototype.Init=function(){AdfRichInlineEditor.superclass.Init.call(this);this._component=null};AdfRichInlineEditor.prototype.preEdit=function(a){var b=this._component,c=!1;try{this._component=a,c=this.PreEdit()}finally{this._component=b}return c};
AdfRichInlineEditor.prototype.startEdit=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);AdfAssert.assert(this._component==null,"start called on an already started inline editor");this._component=a};AdfRichInlineEditor.prototype.getEditedComponent=function(){return this._component};AdfRichInlineEditor.prototype.getEditedProperty=function(){AdfAssert.failedInAbstractFunction()};AdfRichInlineEditor.prototype.handleEvent=function(){};
AdfRichInlineEditor.prototype.stopEdit=function(){this._component=null};AdfRichInlineEditor.prototype.GetEditedPeer=function(){var a=this._component,b=a.getPeer();b.bind(a);return b};AdfRichInlineEditor.prototype.PreEdit=function(){AdfAssert.failedInAbstractFunction()};